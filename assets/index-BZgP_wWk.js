var hB=Object.defineProperty;var pB=(n,e,t)=>e in n?hB(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ss=(n,e,t)=>pB(n,typeof e!="symbol"?e+"":e,t);function mB(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function Xv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kM={exports:{}},gy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SR;function gB(){if(SR)return gy;SR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,a){var o=null;if(a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),"key"in r){a={};for(var c in r)c!=="key"&&(a[c]=r[c])}else a=r;return r=a.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:a}}return gy.Fragment=e,gy.jsx=t,gy.jsxs=t,gy}var _R;function yB(){return _R||(_R=1,kM.exports=gB()),kM.exports}var pe=yB(),GM={exports:{}},fn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MR;function vB(){if(MR)return fn;MR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function y(W){return W===null||typeof W!="object"?null:(W=g&&W[g]||W["@@iterator"],typeof W=="function"?W:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function M(W,ie,le){this.props=W,this.context=ie,this.refs=E,this.updater=le||b}M.prototype.isReactComponent={},M.prototype.setState=function(W,ie){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ie,"setState")},M.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function x(){}x.prototype=M.prototype;function D(W,ie,le){this.props=W,this.context=ie,this.refs=E,this.updater=le||b}var A=D.prototype=new x;A.constructor=D,_(A,M.prototype),A.isPureReactComponent=!0;var T=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function z(W,ie,le,he,ae,se){return le=se.ref,{$$typeof:n,type:W,key:ie,ref:le!==void 0?le:null,props:se}}function F(W,ie){return z(W.type,ie,void 0,void 0,void 0,W.props)}function P(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function w(W){var ie={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(le){return ie[le]})}var L=/\/+/g;function H(W,ie){return typeof W=="object"&&W!==null&&W.key!=null?w(""+W.key):ie.toString(36)}function V(){}function G(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(V,V):(W.status="pending",W.then(function(ie){W.status==="pending"&&(W.status="fulfilled",W.value=ie)},function(ie){W.status==="pending"&&(W.status="rejected",W.reason=ie)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function $(W,ie,le,he,ae){var se=typeof W;(se==="undefined"||se==="boolean")&&(W=null);var me=!1;if(W===null)me=!0;else switch(se){case"bigint":case"string":case"number":me=!0;break;case"object":switch(W.$$typeof){case n:case e:me=!0;break;case m:return me=W._init,$(me(W._payload),ie,le,he,ae)}}if(me)return ae=ae(W),me=he===""?"."+H(W,0):he,T(ae)?(le="",me!=null&&(le=me.replace(L,"$&/")+"/"),$(ae,ie,le,"",function(Qe){return Qe})):ae!=null&&(P(ae)&&(ae=F(ae,le+(ae.key==null||W&&W.key===ae.key?"":(""+ae.key).replace(L,"$&/")+"/")+me)),ie.push(ae)),1;me=0;var xe=he===""?".":he+":";if(T(W))for(var ke=0;ke<W.length;ke++)he=W[ke],se=xe+H(he,ke),me+=$(he,ie,le,se,ae);else if(ke=y(W),typeof ke=="function")for(W=ke.call(W),ke=0;!(he=W.next()).done;)he=he.value,se=xe+H(he,ke++),me+=$(he,ie,le,se,ae);else if(se==="object"){if(typeof W.then=="function")return $(G(W),ie,le,he,ae);throw ie=String(W),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return me}function B(W,ie,le){if(W==null)return W;var he=[],ae=0;return $(W,he,"","",function(se){return ie.call(le,se,ae++)}),he}function j(W){if(W._status===-1){var ie=W._result;ie=ie(),ie.then(function(le){(W._status===0||W._status===-1)&&(W._status=1,W._result=le)},function(le){(W._status===0||W._status===-1)&&(W._status=2,W._result=le)}),W._status===-1&&(W._status=0,W._result=ie)}if(W._status===1)return W._result.default;throw W._result}var q=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)};function Q(){}return fn.Children={map:B,forEach:function(W,ie,le){B(W,function(){ie.apply(this,arguments)},le)},count:function(W){var ie=0;return B(W,function(){ie++}),ie},toArray:function(W){return B(W,function(ie){return ie})||[]},only:function(W){if(!P(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},fn.Component=M,fn.Fragment=t,fn.Profiler=r,fn.PureComponent=D,fn.StrictMode=i,fn.Suspense=f,fn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,fn.__COMPILER_RUNTIME={__proto__:null,c:function(W){return O.H.useMemoCache(W)}},fn.cache=function(W){return function(){return W.apply(null,arguments)}},fn.cloneElement=function(W,ie,le){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var he=_({},W.props),ae=W.key,se=void 0;if(ie!=null)for(me in ie.ref!==void 0&&(se=void 0),ie.key!==void 0&&(ae=""+ie.key),ie)!N.call(ie,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&ie.ref===void 0||(he[me]=ie[me]);var me=arguments.length-2;if(me===1)he.children=le;else if(1<me){for(var xe=Array(me),ke=0;ke<me;ke++)xe[ke]=arguments[ke+2];he.children=xe}return z(W.type,ae,void 0,void 0,se,he)},fn.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:a,_context:W},W},fn.createElement=function(W,ie,le){var he,ae={},se=null;if(ie!=null)for(he in ie.key!==void 0&&(se=""+ie.key),ie)N.call(ie,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ae[he]=ie[he]);var me=arguments.length-2;if(me===1)ae.children=le;else if(1<me){for(var xe=Array(me),ke=0;ke<me;ke++)xe[ke]=arguments[ke+2];ae.children=xe}if(W&&W.defaultProps)for(he in me=W.defaultProps,me)ae[he]===void 0&&(ae[he]=me[he]);return z(W,se,void 0,void 0,null,ae)},fn.createRef=function(){return{current:null}},fn.forwardRef=function(W){return{$$typeof:c,render:W}},fn.isValidElement=P,fn.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:j}},fn.memo=function(W,ie){return{$$typeof:p,type:W,compare:ie===void 0?null:ie}},fn.startTransition=function(W){var ie=O.T,le={};O.T=le;try{var he=W(),ae=O.S;ae!==null&&ae(le,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Q,q)}catch(se){q(se)}finally{O.T=ie}},fn.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},fn.use=function(W){return O.H.use(W)},fn.useActionState=function(W,ie,le){return O.H.useActionState(W,ie,le)},fn.useCallback=function(W,ie){return O.H.useCallback(W,ie)},fn.useContext=function(W){return O.H.useContext(W)},fn.useDebugValue=function(){},fn.useDeferredValue=function(W,ie){return O.H.useDeferredValue(W,ie)},fn.useEffect=function(W,ie,le){var he=O.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(W,ie)},fn.useId=function(){return O.H.useId()},fn.useImperativeHandle=function(W,ie,le){return O.H.useImperativeHandle(W,ie,le)},fn.useInsertionEffect=function(W,ie){return O.H.useInsertionEffect(W,ie)},fn.useLayoutEffect=function(W,ie){return O.H.useLayoutEffect(W,ie)},fn.useMemo=function(W,ie){return O.H.useMemo(W,ie)},fn.useOptimistic=function(W,ie){return O.H.useOptimistic(W,ie)},fn.useReducer=function(W,ie,le){return O.H.useReducer(W,ie,le)},fn.useRef=function(W){return O.H.useRef(W)},fn.useState=function(W){return O.H.useState(W)},fn.useSyncExternalStore=function(W,ie,le){return O.H.useSyncExternalStore(W,ie,le)},fn.useTransition=function(){return O.H.useTransition()},fn.version="19.1.0",fn}var ER;function _h(){return ER||(ER=1,GM.exports=vB()),GM.exports}var K=_h();const rl=Xv(K),wT=mB({__proto__:null,default:rl},[K]);var qM={exports:{}},yy={},jM={exports:{}},WM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TR;function bB(){return TR||(TR=1,function(n){function e(B,j){var q=B.length;B.push(j);e:for(;0<q;){var Q=q-1>>>1,W=B[Q];if(0<r(W,j))B[Q]=j,B[q]=W,q=Q;else break e}}function t(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var j=B[0],q=B.pop();if(q!==j){B[0]=q;e:for(var Q=0,W=B.length,ie=W>>>1;Q<ie;){var le=2*(Q+1)-1,he=B[le],ae=le+1,se=B[ae];if(0>r(he,q))ae<W&&0>r(se,he)?(B[Q]=se,B[ae]=q,Q=ae):(B[Q]=he,B[le]=q,Q=le);else if(ae<W&&0>r(se,q))B[Q]=se,B[ae]=q,Q=ae;else break e}}return j}function r(B,j){var q=B.sortIndex-j.sortIndex;return q!==0?q:B.id-j.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var f=[],p=[],m=1,g=null,y=3,b=!1,_=!1,E=!1,M=!1,x=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function T(B){for(var j=t(p);j!==null;){if(j.callback===null)i(p);else if(j.startTime<=B)i(p),j.sortIndex=j.expirationTime,e(f,j);else break;j=t(p)}}function O(B){if(E=!1,T(B),!_)if(t(f)!==null)_=!0,N||(N=!0,H());else{var j=t(p);j!==null&&$(O,j.startTime-B)}}var N=!1,z=-1,F=5,P=-1;function w(){return M?!0:!(n.unstable_now()-P<F)}function L(){if(M=!1,N){var B=n.unstable_now();P=B;var j=!0;try{e:{_=!1,E&&(E=!1,D(z),z=-1),b=!0;var q=y;try{t:{for(T(B),g=t(f);g!==null&&!(g.expirationTime>B&&w());){var Q=g.callback;if(typeof Q=="function"){g.callback=null,y=g.priorityLevel;var W=Q(g.expirationTime<=B);if(B=n.unstable_now(),typeof W=="function"){g.callback=W,T(B),j=!0;break t}g===t(f)&&i(f),T(B)}else i(f);g=t(f)}if(g!==null)j=!0;else{var ie=t(p);ie!==null&&$(O,ie.startTime-B),j=!1}}break e}finally{g=null,y=q,b=!1}j=void 0}}finally{j?H():N=!1}}}var H;if(typeof A=="function")H=function(){A(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,G=V.port2;V.port1.onmessage=L,H=function(){G.postMessage(null)}}else H=function(){x(L,0)};function $(B,j){z=x(function(){B(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(B){switch(y){case 1:case 2:case 3:var j=3;break;default:j=y}var q=y;y=j;try{return B()}finally{y=q}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(B,j){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=y;y=B;try{return j()}finally{y=q}},n.unstable_scheduleCallback=function(B,j,q){var Q=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Q+q:Q):q=Q,B){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=q+W,B={id:m++,callback:j,priorityLevel:B,startTime:q,expirationTime:W,sortIndex:-1},q>Q?(B.sortIndex=q,e(p,B),t(f)===null&&B===t(p)&&(E?(D(z),z=-1):E=!0,$(O,q-Q))):(B.sortIndex=W,e(f,B),_||b||(_=!0,N||(N=!0,H()))),B},n.unstable_shouldYield=w,n.unstable_wrapCallback=function(B){var j=y;return function(){var q=y;y=j;try{return B.apply(this,arguments)}finally{y=q}}}}(WM)),WM}var AR;function xB(){return AR||(AR=1,jM.exports=bB()),jM.exports}var XM={exports:{}},ha={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wR;function SB(){if(wR)return ha;wR=1;var n=_h();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(f,p,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:g==null?null:""+g,children:f,containerInfo:p,implementation:m}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ha.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ha.createPortal=function(f,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return a(f,p,null,m)},ha.flushSync=function(f){var p=o.T,m=i.p;try{if(o.T=null,i.p=2,f)return f()}finally{o.T=p,i.p=m,i.d.f()}},ha.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(f,p))},ha.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},ha.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var m=p.as,g=c(m,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):m==="script"&&i.d.X(f,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ha.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=c(p.as,p.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(f)},ha.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,g=c(m,p.crossOrigin);i.d.L(f,m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ha.preloadModule=function(f,p){if(typeof f=="string")if(p){var m=c(p.as,p.crossOrigin);i.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(f)},ha.requestFormReset=function(f){i.d.r(f)},ha.unstable_batchedUpdates=function(f,p){return f(p)},ha.useFormState=function(f,p,m){return o.H.useFormState(f,p,m)},ha.useFormStatus=function(){return o.H.useHostTransitionStatus()},ha.version="19.1.0",ha}var CR;function Z3(){if(CR)return XM.exports;CR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),XM.exports=SB(),XM.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RR;function _B(){if(RR)return yy;RR=1;var n=xB(),e=_h(),t=Z3();function i(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(a(s)!==s)throw Error(i(188))}function f(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(i(188));return l!==s?null:s}for(var h=s,v=l;;){var C=h.return;if(C===null)break;var U=C.alternate;if(U===null){if(v=C.return,v!==null){h=v;continue}break}if(C.child===U.child){for(U=C.child;U;){if(U===h)return c(C),s;if(U===v)return c(C),l;U=U.sibling}throw Error(i(188))}if(h.return!==v.return)h=C,v=U;else{for(var X=!1,ee=C.child;ee;){if(ee===h){X=!0,h=C,v=U;break}if(ee===v){X=!0,v=C,h=U;break}ee=ee.sibling}if(!X){for(ee=U.child;ee;){if(ee===h){X=!0,h=U,v=C;break}if(ee===v){X=!0,v=U,h=C;break}ee=ee.sibling}if(!X)throw Error(i(189))}}if(h.alternate!==v)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?s:l}function p(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=p(s),l!==null)return l;s=s.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),A=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),w=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var V=Symbol.for("react.client.reference");function G(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===V?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case M:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case N:return"SuspenseList";case P:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case A:return(s.displayName||"Context")+".Provider";case D:return(s._context.displayName||"Context")+".Consumer";case T:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case z:return l=s.displayName||null,l!==null?l:G(s.type)||"Memo";case F:l=s._payload,s=s._init;try{return G(s(l))}catch{}}return null}var $=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},Q=[],W=-1;function ie(s){return{current:s}}function le(s){0>W||(s.current=Q[W],Q[W]=null,W--)}function he(s,l){W++,Q[W]=s.current,s.current=l}var ae=ie(null),se=ie(null),me=ie(null),xe=ie(null);function ke(s,l){switch(he(me,l),he(se,s),he(ae,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?$C(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=$C(l),s=QC(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}le(ae),he(ae,s)}function Qe(){le(ae),le(se),le(me)}function Ee(s){s.memoizedState!==null&&he(xe,s);var l=ae.current,h=QC(l,s.type);l!==h&&(he(se,s),he(ae,h))}function Ge(s){se.current===s&&(le(ae),le(se)),xe.current===s&&(le(xe),fy._currentValue=q)}var et=Object.prototype.hasOwnProperty,nt=n.unstable_scheduleCallback,J=n.unstable_cancelCallback,We=n.unstable_shouldYield,Re=n.unstable_requestPaint,ze=n.unstable_now,ve=n.unstable_getCurrentPriorityLevel,ot=n.unstable_ImmediatePriority,Ae=n.unstable_UserBlockingPriority,te=n.unstable_NormalPriority,Y=n.unstable_LowPriority,be=n.unstable_IdlePriority,we=n.log,Xe=n.unstable_setDisableYieldValue,Le=null,ct=null;function at(s){if(typeof we=="function"&&Xe(s),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(Le,s)}catch{}}var bt=Math.clz32?Math.clz32:ut,St=Math.log,Be=Math.LN2;function ut(s){return s>>>=0,s===0?32:31-(St(s)/Be|0)|0}var _t=256,Mt=4194304;function qe(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function oe(s,l,h){var v=s.pendingLanes;if(v===0)return 0;var C=0,U=s.suspendedLanes,X=s.pingedLanes;s=s.warmLanes;var ee=v&134217727;return ee!==0?(v=ee&~U,v!==0?C=qe(v):(X&=ee,X!==0?C=qe(X):h||(h=ee&~s,h!==0&&(C=qe(h))))):(ee=v&~U,ee!==0?C=qe(ee):X!==0?C=qe(X):h||(h=v&~s,h!==0&&(C=qe(h)))),C===0?0:l!==0&&l!==C&&(l&U)===0&&(U=C&-C,h=l&-l,U>=h||U===32&&(h&4194048)!==0)?l:C}function Oe(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function ft(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fe(){var s=_t;return _t<<=1,(_t&4194048)===0&&(_t=256),s}function st(){var s=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),s}function Ne(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function Ye(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function pt(s,l,h,v,C,U){var X=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var ee=s.entanglements,ce=s.expirationTimes,Pe=s.hiddenUpdates;for(h=X&~h;0<h;){var Ze=31-bt(h),it=1<<Ze;ee[Ze]=0,ce[Ze]=-1;var Ie=Pe[Ze];if(Ie!==null)for(Pe[Ze]=null,Ze=0;Ze<Ie.length;Ze++){var Fe=Ie[Ze];Fe!==null&&(Fe.lane&=-536870913)}h&=~it}v!==0&&mt(s,v,0),U!==0&&C===0&&s.tag!==0&&(s.suspendedLanes|=U&~(X&~l))}function mt(s,l,h){s.pendingLanes|=l,s.suspendedLanes&=~l;var v=31-bt(l);s.entangledLanes|=l,s.entanglements[v]=s.entanglements[v]|1073741824|h&4194090}function Ot(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var v=31-bt(h),C=1<<v;C&l|s[v]&l&&(s[v]|=l),h&=~C}}function Zt(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Sn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function qt(){var s=j.p;return s!==0?s:(s=window.event,s===void 0?32:mR(s.type))}function vi(s,l){var h=j.p;try{return j.p=s,l()}finally{j.p=h}}var $n=Math.random().toString(36).slice(2),Qn="__reactFiber$"+$n,di="__reactProps$"+$n,Ei="__reactContainer$"+$n,nr="__reactEvents$"+$n,Ao="__reactListeners$"+$n,Rr="__reactHandles$"+$n,ir="__reactResources$"+$n,rr="__reactMarker$"+$n;function Qt(s){delete s[Qn],delete s[di],delete s[nr],delete s[Ao],delete s[Rr]}function Fn(s){var l=s[Qn];if(l)return l;for(var h=s.parentNode;h;){if(l=h[Ei]||h[Qn]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=eR(s);s!==null;){if(h=s[Qn])return h;s=eR(s)}return l}s=h,h=s.parentNode}return null}function zi(s){if(s=s[Qn]||s[Ei]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function ia(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(i(33))}function ra(s){var l=s[ir];return l||(l=s[ir]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ve(s){s[rr]=!0}var je=new Set,Et={};function Vt(s,l){Z(s,l),Z(s+"Capture",l)}function Z(s,l){for(Et[s]=l,s=0;s<l.length;s++)je.add(l[s])}var de=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Te={},De={};function Se(s){return et.call(De,s)?!0:et.call(Te,s)?!1:de.test(s)?De[s]=!0:(Te[s]=!0,!1)}function rt(s,l,h){if(Se(l))if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var v=l.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+h)}}function gt(s,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+h)}}function yt(s,l,h,v){if(v===null)s.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(l,h,""+v)}}var Tt,vt;function Pt(s){if(Tt===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);Tt=l&&l[1]||"",vt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tt+s+vt}var Dt=!1;function Jt(s,l){if(!s||Dt)return"";Dt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(l){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(Fe){var Ie=Fe}Reflect.construct(s,[],it)}else{try{it.call()}catch(Fe){Ie=Fe}s.call(it.prototype)}}else{try{throw Error()}catch(Fe){Ie=Fe}(it=s())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(Fe){if(Fe&&Ie&&typeof Fe.stack=="string")return[Fe.stack,Ie.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var U=v.DetermineComponentFrameRoot(),X=U[0],ee=U[1];if(X&&ee){var ce=X.split(`
`),Pe=ee.split(`
`);for(C=v=0;v<ce.length&&!ce[v].includes("DetermineComponentFrameRoot");)v++;for(;C<Pe.length&&!Pe[C].includes("DetermineComponentFrameRoot");)C++;if(v===ce.length||C===Pe.length)for(v=ce.length-1,C=Pe.length-1;1<=v&&0<=C&&ce[v]!==Pe[C];)C--;for(;1<=v&&0<=C;v--,C--)if(ce[v]!==Pe[C]){if(v!==1||C!==1)do if(v--,C--,0>C||ce[v]!==Pe[C]){var Ze=`
`+ce[v].replace(" at new "," at ");return s.displayName&&Ze.includes("<anonymous>")&&(Ze=Ze.replace("<anonymous>",s.displayName)),Ze}while(1<=v&&0<=C);break}}}finally{Dt=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Pt(h):""}function On(s){switch(s.tag){case 26:case 27:case 5:return Pt(s.type);case 16:return Pt("Lazy");case 13:return Pt("Suspense");case 19:return Pt("SuspenseList");case 0:case 15:return Jt(s.type,!1);case 11:return Jt(s.type.render,!1);case 1:return Jt(s.type,!0);case 31:return Pt("Activity");default:return""}}function bi(s){try{var l="";do l+=On(s),s=s.return;while(s);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function gn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function vn(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Bt(s){var l=vn(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),v=""+s[l];if(!s.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var C=h.get,U=h.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return C.call(this)},set:function(X){v=""+X,U.call(this,X)}}),Object.defineProperty(s,l,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(X){v=""+X},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Si(s){s._valueTracker||(s._valueTracker=Bt(s))}function An(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),v="";return s&&(v=vn(s)?s.checked?"true":"false":s.value),s=v,s!==h?(l.setValue(s),!0):!1}function gr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Gs=/[\n"\\]/g;function ei(s){return s.replace(Gs,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function qs(s,l,h,v,C,U,X,ee){s.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?s.type=X:s.removeAttribute("type"),l!=null?X==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+gn(l)):s.value!==""+gn(l)&&(s.value=""+gn(l)):X!=="submit"&&X!=="reset"||s.removeAttribute("value"),l!=null?yr(s,X,gn(l)):h!=null?yr(s,X,gn(h)):v!=null&&s.removeAttribute("value"),C==null&&U!=null&&(s.defaultChecked=!!U),C!=null&&(s.checked=C&&typeof C!="function"&&typeof C!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?s.name=""+gn(ee):s.removeAttribute("name")}function Kn(s,l,h,v,C,U,X,ee){if(U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(s.type=U),l!=null||h!=null){if(!(U!=="submit"&&U!=="reset"||l!=null))return;h=h!=null?""+gn(h):"",l=l!=null?""+gn(l):h,ee||l===s.value||(s.value=l),s.defaultValue=l}v=v??C,v=typeof v!="function"&&typeof v!="symbol"&&!!v,s.checked=ee?s.checked:!!v,s.defaultChecked=!!v,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(s.name=X)}function yr(s,l,h){l==="number"&&gr(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function Bi(s,l,h,v){if(s=s.options,l){l={};for(var C=0;C<h.length;C++)l["$"+h[C]]=!0;for(h=0;h<s.length;h++)C=l.hasOwnProperty("$"+s[h].value),s[h].selected!==C&&(s[h].selected=C),C&&v&&(s[h].defaultSelected=!0)}else{for(h=""+gn(h),l=null,C=0;C<s.length;C++){if(s[C].value===h){s[C].selected=!0,v&&(s[C].defaultSelected=!0);return}l!==null||s[C].disabled||(l=s[C])}l!==null&&(l.selected=!0)}}function ar(s,l,h){if(l!=null&&(l=""+gn(l),l!==s.value&&(s.value=l),h==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=h!=null?""+gn(h):""}function sr(s,l,h,v){if(l==null){if(v!=null){if(h!=null)throw Error(i(92));if($(v)){if(1<v.length)throw Error(i(93));v=v[0]}h=v}h==null&&(h=""),l=h}h=gn(l),s.defaultValue=h,v=s.textContent,v===h&&v!==""&&v!==null&&(s.value=v)}function Br(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var js=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rf(s,l,h){var v=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?v?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":v?s.setProperty(l,h):typeof h!="number"||h===0||js.has(l)?l==="float"?s.cssFloat=h:s[l]=(""+h).trim():s[l]=h+"px"}function Of(s,l,h){if(l!=null&&typeof l!="object")throw Error(i(62));if(s=s.style,h!=null){for(var v in h)!h.hasOwnProperty(v)||l!=null&&l.hasOwnProperty(v)||(v.indexOf("--")===0?s.setProperty(v,""):v==="float"?s.cssFloat="":s[v]="");for(var C in l)v=l[C],l.hasOwnProperty(C)&&h[C]!==v&&Rf(s,C,v)}else for(var U in l)l.hasOwnProperty(U)&&Rf(s,U,l[U])}function Oh(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ig=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),w0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Df(s){return w0.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Dh=null;function Nh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ul=null,dc=null;function rg(s){var l=zi(s);if(l&&(s=l.stateNode)){var h=s[di]||null;e:switch(s=l.stateNode,l.type){case"input":if(qs(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ei(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var v=h[l];if(v!==s&&v.form===s.form){var C=v[di]||null;if(!C)throw Error(i(90));qs(v,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(l=0;l<h.length;l++)v=h[l],v.form===s.form&&An(v)}break e;case"textarea":ar(s,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&Bi(s,!!h.multiple,l,!1)}}}var Nf=!1;function ag(s,l,h){if(Nf)return s(l,h);Nf=!0;try{var v=s(l);return v}finally{if(Nf=!1,(ul!==null||dc!==null)&&(oo(),ul&&(l=ul,s=dc,dc=ul=null,rg(l),s)))for(l=0;l<s.length;l++)rg(s[l])}}function uu(s,l){var h=s.stateNode;if(h===null)return null;var v=h[di]||null;if(v===null)return null;h=v[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(i(231,l,typeof h));return h}var Ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pf=!1;if(Ws)try{var fu={};Object.defineProperty(fu,"passive",{get:function(){Pf=!0}}),window.addEventListener("test",fu,fu),window.removeEventListener("test",fu,fu)}catch{Pf=!1}var wo=null,sg=null,Ph=null;function og(){if(Ph)return Ph;var s,l=sg,h=l.length,v,C="value"in wo?wo.value:wo.textContent,U=C.length;for(s=0;s<h&&l[s]===C[s];s++);var X=h-s;for(v=1;v<=X&&l[h-v]===C[U-v];v++);return Ph=C.slice(s,1<v?1-v:void 0)}function fl(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function du(){return!0}function Uf(){return!1}function Fr(s){function l(h,v,C,U,X){this._reactName=h,this._targetInst=C,this.type=v,this.nativeEvent=U,this.target=X,this.currentTarget=null;for(var ee in s)s.hasOwnProperty(ee)&&(h=s[ee],this[ee]=h?h(U):U[ee]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?du:Uf,this.isPropagationStopped=Uf,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=du)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=du)},persist:function(){},isPersistent:du}),l}var dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hu=Fr(dl),pu=m({},dl,{view:0,detail:0}),C0=Fr(pu),Co,mu,gu,yu=m({},pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:If,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==gu&&(gu&&s.type==="mousemove"?(Co=s.screenX-gu.screenX,mu=s.screenY-gu.screenY):mu=Co=0,gu=s),Co)},movementY:function(s){return"movementY"in s?s.movementY:mu}}),lg=Fr(yu),R0=m({},yu,{dataTransfer:0}),sM=Fr(R0),vr=m({},pu,{relatedTarget:0}),Uh=Fr(vr),O0=m({},dl,{animationName:0,elapsedTime:0,pseudoElement:0}),D0=Fr(O0),N0=m({},dl,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),P0=Fr(N0),Lf=m({},dl,{data:0}),Lh=Fr(Lf),U0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cg(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=I0[s])?!!l[s]:!1}function If(){return cg}var z0=m({},pu,{key:function(s){if(s.key){var l=U0[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=fl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?L0[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:If,charCode:function(s){return s.type==="keypress"?fl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?fl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ug=Fr(z0),fg=m({},yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ih=Fr(fg),B0=m({},pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:If}),dg=Fr(B0),F0=m({},dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ro=Fr(F0),hg=m({},yu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),oM=Fr(hg),H0=m({},dl,{newState:0,oldState:0}),hl=Fr(H0),Oo=[9,13,27,32],zf=Ws&&"CompositionEvent"in window,hc=null;Ws&&"documentMode"in document&&(hc=document.documentMode);var Bf=Ws&&"TextEvent"in window&&!hc,Ff=Ws&&(!zf||hc&&8<hc&&11>=hc),pl=" ",br=!1;function Hf(s,l){switch(s){case"keyup":return Oo.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ml=!1;function Vf(s,l){switch(s){case"compositionend":return pg(l);case"keypress":return l.which!==32?null:(br=!0,pl);case"textInput":return s=l.data,s===pl&&br?null:s;default:return null}}function mg(s,l){if(ml)return s==="compositionend"||!zf&&Hf(s,l)?(s=og(),Ph=sg=wo=null,ml=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ff&&l.locale!=="ko"?null:l.data;default:return null}}var zh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!zh[s.type]:l==="textarea"}function aa(s,l,h,v){ul?dc?dc.push(v):dc=[v]:ul=v,l=Fb(l,"onChange"),0<l.length&&(h=new hu("onChange","change",null,h,v),s.push({event:h,listeners:l}))}var vu=null,pc=null;function V0(s){qC(s,0)}function kf(s){var l=ia(s);if(An(l))return s}function Bh(s,l){if(s==="change")return l}var Fh=!1;if(Ws){var Hh;if(Ws){var bu="oninput"in document;if(!bu){var xu=document.createElement("div");xu.setAttribute("oninput","return;"),bu=typeof xu.oninput=="function"}Hh=bu}else Hh=!1;Fh=Hh&&(!document.documentMode||9<document.documentMode)}function xi(){vu&&(vu.detachEvent("onpropertychange",k0),pc=vu=null)}function k0(s){if(s.propertyName==="value"&&kf(pc)){var l=[];aa(l,pc,s,Nh(s)),ag(V0,l)}}function lM(s,l,h){s==="focusin"?(xi(),vu=l,pc=h,vu.attachEvent("onpropertychange",k0)):s==="focusout"&&xi()}function G0(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return kf(pc)}function Gf(s,l){if(s==="click")return kf(l)}function gl(s,l){if(s==="input"||s==="change")return kf(l)}function q0(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var sa=typeof Object.is=="function"?Object.is:q0;function ys(s,l){if(sa(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),v=Object.keys(l);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var C=h[v];if(!et.call(l,C)||!sa(s[C],l[C]))return!1}return!0}function oa(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function yg(s,l){var h=oa(s);s=0;for(var v;h;){if(h.nodeType===3){if(v=s+h.textContent.length,s<=l&&v>=l)return{node:h,offset:l-s};s=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=oa(h)}}function vg(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?vg(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function bg(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=gr(s.document);l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=gr(s.document)}return l}function qf(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var xg=Ws&&"documentMode"in document&&11>=document.documentMode,Do=null,Vh=null,jf=null,kh=!1;function Sg(s,l,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;kh||Do==null||Do!==gr(v)||(v=Do,"selectionStart"in v&&qf(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),jf&&ys(jf,v)||(jf=v,v=Fb(Vh,"onSelect"),0<v.length&&(l=new hu("onSelect","select",null,l,h),s.push({event:l,listeners:v}),l.target=Do)))}function xr(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var yl={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},Gh={},j0={};Ws&&(j0=document.createElement("div").style,"AnimationEvent"in window||(delete yl.animationend.animation,delete yl.animationiteration.animation,delete yl.animationstart.animation),"TransitionEvent"in window||delete yl.transitionend.transition);function No(s){if(Gh[s])return Gh[s];if(!yl[s])return s;var l=yl[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in j0)return Gh[s]=l[h];return s}var Hr=No("animationend"),_g=No("animationiteration"),la=No("animationstart"),W0=No("transitionrun"),Po=No("transitionstart"),Su=No("transitioncancel"),Uo=No("transitionend"),qh=new Map,Wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wf.push("scrollEnd");function or(s,l){qh.set(s,l),Vt(l,[s])}var Mg=new WeakMap;function Sr(s,l){if(typeof s=="object"&&s!==null){var h=Mg.get(s);return h!==void 0?h:(l={value:s,source:l,stack:bi(l)},Mg.set(s,l),l)}return{value:s,source:l,stack:bi(l)}}var Or=[],Xa=0,jh=0;function Xf(){for(var s=Xa,l=jh=Xa=0;l<s;){var h=Or[l];Or[l++]=null;var v=Or[l];Or[l++]=null;var C=Or[l];Or[l++]=null;var U=Or[l];if(Or[l++]=null,v!==null&&C!==null){var X=v.pending;X===null?C.next=C:(C.next=X.next,X.next=C),v.pending=C}U!==0&&Eg(h,C,U)}}function vl(s,l,h,v){Or[Xa++]=s,Or[Xa++]=l,Or[Xa++]=h,Or[Xa++]=v,jh|=v,s.lanes|=v,s=s.alternate,s!==null&&(s.lanes|=v)}function Wh(s,l,h,v){return vl(s,l,h,v),_u(s)}function Lo(s,l){return vl(s,null,null,l),_u(s)}function Eg(s,l,h){s.lanes|=h;var v=s.alternate;v!==null&&(v.lanes|=h);for(var C=!1,U=s.return;U!==null;)U.childLanes|=h,v=U.alternate,v!==null&&(v.childLanes|=h),U.tag===22&&(s=U.stateNode,s===null||s._visibility&1||(C=!0)),s=U,U=U.return;return s.tag===3?(U=s.stateNode,C&&l!==null&&(C=31-bt(h),s=U.hiddenUpdates,v=s[C],v===null?s[C]=[l]:v.push(l),l.lane=h|536870912),U):null}function _u(s){if(50<so)throw so=0,Nc=null,Error(i(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var bl={};function Tg(s,l,h,v){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ca(s,l,h,v){return new Tg(s,l,h,v)}function Yf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Di(s,l){var h=s.alternate;return h===null?(h=ca(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function Ag(s,l){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,l=h.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function lr(s,l,h,v,C,U){var X=0;if(v=s,typeof s=="function")Yf(s)&&(X=1);else if(typeof s=="string")X=eB(s,h,ae.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case P:return s=ca(31,h,l,C),s.elementType=P,s.lanes=U,s;case _:return xl(h.children,C,U,l);case E:X=8,C|=24;break;case M:return s=ca(12,h,l,C|2),s.elementType=M,s.lanes=U,s;case O:return s=ca(13,h,l,C),s.elementType=O,s.lanes=U,s;case N:return s=ca(19,h,l,C),s.elementType=N,s.lanes=U,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case x:case A:X=10;break e;case D:X=9;break e;case T:X=11;break e;case z:X=14;break e;case F:X=16,v=null;break e}X=29,h=Error(i(130,s===null?"null":typeof s,"")),v=null}return l=ca(X,h,l,C),l.elementType=s,l.type=v,l.lanes=U,l}function xl(s,l,h,v){return s=ca(7,s,v,l),s.lanes=h,s}function $f(s,l,h){return s=ca(6,s,null,l),s.lanes=h,s}function Xh(s,l,h){return l=ca(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var Mu=[],ua=0,Qf=null,Eu=0,_r=[],Aa=0,Sl=null,Xs=1,Ys="";function Io(s,l){Mu[ua++]=Eu,Mu[ua++]=Qf,Qf=s,Eu=l}function Yh(s,l,h){_r[Aa++]=Xs,_r[Aa++]=Ys,_r[Aa++]=Sl,Sl=s;var v=Xs;s=Ys;var C=32-bt(v)-1;v&=~(1<<C),h+=1;var U=32-bt(l)+C;if(30<U){var X=C-C%5;U=(v&(1<<X)-1).toString(32),v>>=X,C-=X,Xs=1<<32-bt(l)+C|h<<C|v,Ys=U+s}else Xs=1<<U|h<<C|v,Ys=s}function wg(s){s.return!==null&&(Io(s,1),Yh(s,1,0))}function Cg(s){for(;s===Qf;)Qf=Mu[--ua],Mu[ua]=null,Eu=Mu[--ua],Mu[ua]=null;for(;s===Sl;)Sl=_r[--Aa],_r[Aa]=null,Ys=_r[--Aa],_r[Aa]=null,Xs=_r[--Aa],_r[Aa]=null}var Vr=null,_i=null,Un=!1,Ya=null,wa=!1,$h=Error(i(519));function _l(s){var l=Error(i(418,""));throw mc(Sr(l,s)),$h}function X0(s){var l=s.stateNode,h=s.type,v=s.memoizedProps;switch(l[Qn]=s,l[di]=v,h){case"dialog":_n("cancel",l),_n("close",l);break;case"iframe":case"object":case"embed":_n("load",l);break;case"video":case"audio":for(h=0;h<ay.length;h++)_n(ay[h],l);break;case"source":_n("error",l);break;case"img":case"image":case"link":_n("error",l),_n("load",l);break;case"details":_n("toggle",l);break;case"input":_n("invalid",l),Kn(l,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),Si(l);break;case"select":_n("invalid",l);break;case"textarea":_n("invalid",l),sr(l,v.value,v.defaultValue,v.children),Si(l)}h=v.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||v.suppressHydrationWarning===!0||YC(l.textContent,h)?(v.popover!=null&&(_n("beforetoggle",l),_n("toggle",l)),v.onScroll!=null&&_n("scroll",l),v.onScrollEnd!=null&&_n("scrollend",l),v.onClick!=null&&(l.onclick=Hb),l=!0):l=!1,l||_l(s)}function Rg(s){for(Vr=s.return;Vr;)switch(Vr.tag){case 5:case 13:wa=!1;return;case 27:case 3:wa=!0;return;default:Vr=Vr.return}}function vs(s){if(s!==Vr)return!1;if(!Un)return Rg(s),Un=!0,!1;var l=s.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||CM(s.type,s.memoizedProps)),h=!h),h&&_i&&_l(s),Rg(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(h=s.data,h==="/$"){if(l===0){_i=Qo(s.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;s=s.nextSibling}_i=null}}else l===27?(l=_i,$u(s.type)?(s=NM,NM=null,_i=s):_i=l):_i=Vr?Qo(s.stateNode.nextSibling):null;return!0}function Tu(){_i=Vr=null,Un=!1}function Hn(){var s=Ya;return s!==null&&(kt===null?kt=s:kt.push.apply(kt,s),Ya=null),s}function mc(s){Ya===null?Ya=[s]:Ya.push(s)}var Og=ie(null),Ml=null,zo=null;function El(s,l,h){he(Og,l._currentValue),l._currentValue=h}function Bo(s){s._currentValue=Og.current,le(Og)}function Dg(s,l,h){for(;s!==null;){var v=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),s===h)break;s=s.return}}function Kf(s,l,h,v){var C=s.child;for(C!==null&&(C.return=s);C!==null;){var U=C.dependencies;if(U!==null){var X=C.child;U=U.firstContext;e:for(;U!==null;){var ee=U;U=C;for(var ce=0;ce<l.length;ce++)if(ee.context===l[ce]){U.lanes|=h,ee=U.alternate,ee!==null&&(ee.lanes|=h),Dg(U.return,h,s),v||(X=null);break e}U=ee.next}}else if(C.tag===18){if(X=C.return,X===null)throw Error(i(341));X.lanes|=h,U=X.alternate,U!==null&&(U.lanes|=h),Dg(X,h,s),X=null}else X=C.child;if(X!==null)X.return=C;else for(X=C;X!==null;){if(X===s){X=null;break}if(C=X.sibling,C!==null){C.return=X.return,X=C;break}X=X.return}C=X}}function $a(s,l,h,v){s=null;for(var C=l,U=!1;C!==null;){if(!U){if((C.flags&524288)!==0)U=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var X=C.alternate;if(X===null)throw Error(i(387));if(X=X.memoizedProps,X!==null){var ee=C.type;sa(C.pendingProps.value,X.value)||(s!==null?s.push(ee):s=[ee])}}else if(C===xe.current){if(X=C.alternate,X===null)throw Error(i(387));X.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(s!==null?s.push(fy):s=[fy])}C=C.return}s!==null&&Kf(l,s,h,v),l.flags|=262144}function Zf(s){for(s=s.firstContext;s!==null;){if(!sa(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function $s(s){Ml=s,zo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ti(s){return Qh(Ml,s)}function Jf(s,l){return Ml===null&&$s(s),Qh(s,l)}function Qh(s,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},zo===null){if(s===null)throw Error(i(308));zo=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else zo=zo.next=l;return h}var Ng=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(h,v){s.push(v)}};this.abort=function(){l.aborted=!0,s.forEach(function(h){return h()})}},cM=n.unstable_scheduleCallback,Y0=n.unstable_NormalPriority,Fi={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kh(){return{controller:new Ng,data:new Map,refCount:0}}function Au(s){s.refCount--,s.refCount===0&&cM(Y0,function(){s.controller.abort()})}var wu=null,ed=0,nn=0,Cu=null;function Ca(s,l){if(wu===null){var h=wu=[];ed=0,nn=bM(),Cu={status:"pending",value:void 0,then:function(v){h.push(v)}}}return ed++,l.then(Zh,Zh),l}function Zh(){if(--ed===0&&wu!==null){Cu!==null&&(Cu.status="fulfilled");var s=wu;wu=null,nn=0,Cu=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function uM(s,l){var h=[],v={status:"pending",value:null,reason:null,then:function(C){h.push(C)}};return s.then(function(){v.status="fulfilled",v.value=l;for(var C=0;C<h.length;C++)(0,h[C])(l)},function(C){for(v.status="rejected",v.reason=C,C=0;C<h.length;C++)(0,h[C])(void 0)}),v}var td=B.S;B.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Ca(s,l),td!==null&&td(s,l)};var Qa=ie(null);function Tl(){var s=Qa.current;return s!==null?s:en.pooledCache}function nd(s,l){l===null?he(Qa,Qa.current):he(Qa,l.pool)}function Jh(){var s=Tl();return s===null?null:{parent:Fi._currentValue,pool:s}}var id=Error(i(460)),Pg=Error(i(474)),bs=Error(i(542)),rd={then:function(){}};function ep(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ru(){}function tp(s,l,h){switch(h=s[h],h===void 0?s.push(l):h!==l&&(l.then(Ru,Ru),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,$0(s),s;default:if(typeof l.status=="string")l.then(Ru,Ru);else{if(s=en,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=l,s.status="pending",s.then(function(v){if(l.status==="pending"){var C=l;C.status="fulfilled",C.value=v}},function(v){if(l.status==="pending"){var C=l;C.status="rejected",C.reason=v}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,$0(s),s}throw Ka=l,id}}var Ka=null;function Ug(){if(Ka===null)throw Error(i(459));var s=Ka;return Ka=null,s}function $0(s){if(s===id||s===bs)throw Error(i(483))}var Fo=!1;function Lg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yt(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Qs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ho(s,l,h){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(Vn&2)!==0){var C=v.pending;return C===null?l.next=l:(l.next=C.next,C.next=l),v.pending=l,l=_u(s),Eg(s,null,h),l}return vl(s,v,l,h),_u(s)}function gc(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var v=l.lanes;v&=s.pendingLanes,h|=v,l.lanes=h,Ot(s,h)}}function Ou(s,l){var h=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var C=null,U=null;if(h=h.firstBaseUpdate,h!==null){do{var X={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};U===null?C=U=X:U=U.next=X,h=h.next}while(h!==null);U===null?C=U=l:U=U.next=l}else C=U=l;h={baseState:v.baseState,firstBaseUpdate:C,lastBaseUpdate:U,shared:v.shared,callbacks:v.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}var Ig=!1;function ad(){if(Ig){var s=Cu;if(s!==null)throw s}}function Du(s,l,h,v){Ig=!1;var C=s.updateQueue;Fo=!1;var U=C.firstBaseUpdate,X=C.lastBaseUpdate,ee=C.shared.pending;if(ee!==null){C.shared.pending=null;var ce=ee,Pe=ce.next;ce.next=null,X===null?U=Pe:X.next=Pe,X=ce;var Ze=s.alternate;Ze!==null&&(Ze=Ze.updateQueue,ee=Ze.lastBaseUpdate,ee!==X&&(ee===null?Ze.firstBaseUpdate=Pe:ee.next=Pe,Ze.lastBaseUpdate=ce))}if(U!==null){var it=C.baseState;X=0,Ze=Pe=ce=null,ee=U;do{var Ie=ee.lane&-536870913,Fe=Ie!==ee.lane;if(Fe?(Ft&Ie)===Ie:(v&Ie)===Ie){Ie!==0&&Ie===nn&&(Ig=!0),Ze!==null&&(Ze=Ze.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var Kt=s,jt=ee;Ie=l;var ui=h;switch(jt.tag){case 1:if(Kt=jt.payload,typeof Kt=="function"){it=Kt.call(ui,it,Ie);break e}it=Kt;break e;case 3:Kt.flags=Kt.flags&-65537|128;case 0:if(Kt=jt.payload,Ie=typeof Kt=="function"?Kt.call(ui,it,Ie):Kt,Ie==null)break e;it=m({},it,Ie);break e;case 2:Fo=!0}}Ie=ee.callback,Ie!==null&&(s.flags|=64,Fe&&(s.flags|=8192),Fe=C.callbacks,Fe===null?C.callbacks=[Ie]:Fe.push(Ie))}else Fe={lane:Ie,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Ze===null?(Pe=Ze=Fe,ce=it):Ze=Ze.next=Fe,X|=Ie;if(ee=ee.next,ee===null){if(ee=C.shared.pending,ee===null)break;Fe=ee,ee=Fe.next,Fe.next=null,C.lastBaseUpdate=Fe,C.shared.pending=null}}while(!0);Ze===null&&(ce=it),C.baseState=ce,C.firstBaseUpdate=Pe,C.lastBaseUpdate=Ze,U===null&&(C.shared.lanes=0),ws|=X,s.lanes=X,s.memoizedState=it}}function Nu(s,l){if(typeof s!="function")throw Error(i(191,s));s.call(l)}function Q0(s,l){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)Nu(h[s],l)}var Pu=ie(null),np=ie(0);function K0(s,l){s=is,he(np,s),he(Pu,l),is=s|l.baseLanes}function zg(){he(np,is),he(Pu,Pu.current)}function sd(){is=np.current,le(Pu),le(np)}var Vo=0,rn=null,qn=null,Hi=null,ip=!1,Al=!1,kr=!1,Wi=0,Za=0,Mr=null,Z0=0;function Ni(){throw Error(i(321))}function Dr(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!sa(s[h],l[h]))return!1;return!0}function ko(s,l,h,v,C,U){return Vo=U,rn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,B.H=s===null||s.memoizedState===null?dp:Jg,kr=!1,U=h(v,C),kr=!1,Al&&(U=eb(l,h,v,C)),J0(s),U}function J0(s){B.H=cd;var l=qn!==null&&qn.next!==null;if(Vo=0,Hi=qn=rn=null,ip=!1,Za=0,Mr=null,l)throw Error(i(300));s===null||cr||(s=s.dependencies,s!==null&&Zf(s)&&(cr=!0))}function eb(s,l,h,v){rn=s;var C=0;do{if(Al&&(Mr=null),Za=0,Al=!1,25<=C)throw Error(i(301));if(C+=1,Hi=qn=null,s.updateQueue!=null){var U=s.updateQueue;U.lastEffect=null,U.events=null,U.stores=null,U.memoCache!=null&&(U.memoCache.index=0)}B.H=Ab,U=l(h,v)}while(Al);return U}function fM(){var s=B.H,l=s.useState()[0];return l=typeof l.then=="function"?xs(l):l,s=s.useState()[0],(qn!==null?qn.memoizedState:null)!==s&&(rn.flags|=1024),l}function Bg(){var s=Wi!==0;return Wi=0,s}function rp(s,l,h){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~h}function Fg(s){if(ip){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}ip=!1}Vo=0,Hi=qn=rn=null,Al=!1,Za=Wi=0,Mr=null}function Gr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hi===null?rn.memoizedState=Hi=s:Hi=Hi.next=s,Hi}function Vi(){if(qn===null){var s=rn.alternate;s=s!==null?s.memoizedState:null}else s=qn.next;var l=Hi===null?rn.memoizedState:Hi.next;if(l!==null)Hi=l,qn=s;else{if(s===null)throw rn.alternate===null?Error(i(467)):Error(i(310));qn=s,s={memoizedState:qn.memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},Hi===null?rn.memoizedState=Hi=s:Hi=Hi.next=s}return Hi}function wl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xs(s){var l=Za;return Za+=1,Mr===null&&(Mr=[]),s=tp(Mr,s,l),l=rn,(Hi===null?l.memoizedState:Hi.next)===null&&(l=l.alternate,B.H=l===null||l.memoizedState===null?dp:Jg),s}function ap(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return xs(s);if(s.$$typeof===A)return Ti(s)}throw Error(i(438,String(s)))}function Hg(s){var l=null,h=rn.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var v=rn.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(l={data:v.data.map(function(C){return C.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=wl(),rn.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(s),v=0;v<s;v++)h[v]=w;return l.index++,h}function Go(s,l){return typeof l=="function"?l(s):l}function Cl(s){var l=Vi();return Vg(l,qn,s)}function Vg(s,l,h){var v=s.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=h;var C=s.baseQueue,U=v.pending;if(U!==null){if(C!==null){var X=C.next;C.next=U.next,U.next=X}l.baseQueue=C=U,v.pending=null}if(U=s.baseState,C===null)s.memoizedState=U;else{l=C.next;var ee=X=null,ce=null,Pe=l,Ze=!1;do{var it=Pe.lane&-536870913;if(it!==Pe.lane?(Ft&it)===it:(Vo&it)===it){var Ie=Pe.revertLane;if(Ie===0)ce!==null&&(ce=ce.next={lane:0,revertLane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),it===nn&&(Ze=!0);else if((Vo&Ie)===Ie){Pe=Pe.next,Ie===nn&&(Ze=!0);continue}else it={lane:0,revertLane:Pe.revertLane,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},ce===null?(ee=ce=it,X=U):ce=ce.next=it,rn.lanes|=Ie,ws|=Ie;it=Pe.action,kr&&h(U,it),U=Pe.hasEagerState?Pe.eagerState:h(U,it)}else Ie={lane:it,revertLane:Pe.revertLane,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},ce===null?(ee=ce=Ie,X=U):ce=ce.next=Ie,rn.lanes|=it,ws|=it;Pe=Pe.next}while(Pe!==null&&Pe!==l);if(ce===null?X=U:ce.next=ee,!sa(U,s.memoizedState)&&(cr=!0,Ze&&(h=Cu,h!==null)))throw h;s.memoizedState=U,s.baseState=X,s.baseQueue=ce,v.lastRenderedState=U}return C===null&&(v.lanes=0),[s.memoizedState,v.dispatch]}function kg(s){var l=Vi(),h=l.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=s;var v=h.dispatch,C=h.pending,U=l.memoizedState;if(C!==null){h.pending=null;var X=C=C.next;do U=s(U,X.action),X=X.next;while(X!==C);sa(U,l.memoizedState)||(cr=!0),l.memoizedState=U,l.baseQueue===null&&(l.baseState=U),h.lastRenderedState=U}return[U,v]}function tb(s,l,h){var v=rn,C=Vi(),U=Un;if(U){if(h===void 0)throw Error(i(407));h=h()}else h=l();var X=!sa((qn||C).memoizedState,h);X&&(C.memoizedState=h,cr=!0),C=C.queue;var ee=ib.bind(null,v,C,s);if(Iu(2048,8,ee,[s]),C.getSnapshot!==l||X||Hi!==null&&Hi.memoizedState.tag&1){if(v.flags|=2048,Lu(9,od(),nb.bind(null,v,C,h,l),null),en===null)throw Error(i(349));U||(Vo&124)!==0||Uu(v,l,h)}return h}function Uu(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=rn.updateQueue,l===null?(l=wl(),rn.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function nb(s,l,h,v){l.value=h,l.getSnapshot=v,rb(l)&&ab(s)}function ib(s,l,h){return h(function(){rb(l)&&ab(s)})}function rb(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!sa(s,h)}catch{return!0}}function ab(s){var l=Lo(s,2);l!==null&&Wr(l,s,2)}function Gg(s){var l=Gr();if(typeof s=="function"){var h=s;if(s=h(),kr){at(!0);try{h()}finally{at(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:s},l}function sb(s,l,h,v){return s.baseState=h,Vg(s,qn,typeof v=="function"?v:Go)}function dM(s,l,h,v,C){if(fp(s))throw Error(i(485));if(s=l.action,s!==null){var U={payload:C,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){U.listeners.push(X)}};B.T!==null?h(!0):U.isTransition=!1,v(U),h=l.pending,h===null?(U.next=l.pending=U,ob(l,U)):(U.next=h.next,l.pending=h.next=U)}}function ob(s,l){var h=l.action,v=l.payload,C=s.state;if(l.isTransition){var U=B.T,X={};B.T=X;try{var ee=h(C,v),ce=B.S;ce!==null&&ce(X,ee),lb(s,l,ee)}catch(Pe){qg(s,l,Pe)}finally{B.T=U}}else try{U=h(C,v),lb(s,l,U)}catch(Pe){qg(s,l,Pe)}}function lb(s,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(v){cb(s,l,v)},function(v){return qg(s,l,v)}):cb(s,l,h)}function cb(s,l,h){l.status="fulfilled",l.value=h,ub(l),s.state=h,l=s.pending,l!==null&&(h=l.next,h===l?s.pending=null:(h=h.next,l.next=h,ob(s,h)))}function qg(s,l,h){var v=s.pending;if(s.pending=null,v!==null){v=v.next;do l.status="rejected",l.reason=h,ub(l),l=l.next;while(l!==v)}s.action=null}function ub(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function jg(s,l){return l}function fb(s,l){if(Un){var h=en.formState;if(h!==null){e:{var v=rn;if(Un){if(_i){t:{for(var C=_i,U=wa;C.nodeType!==8;){if(!U){C=null;break t}if(C=Qo(C.nextSibling),C===null){C=null;break t}}U=C.data,C=U==="F!"||U==="F"?C:null}if(C){_i=Qo(C.nextSibling),v=C.data==="F!";break e}}_l(v)}v=!1}v&&(l=h[0])}}return h=Gr(),h.memoizedState=h.baseState=l,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jg,lastRenderedState:l},h.queue=v,h=Eb.bind(null,rn,v),v.dispatch=h,v=Gg(!1),U=up.bind(null,rn,!1,v.queue),v=Gr(),C={state:l,dispatch:null,action:s,pending:null},v.queue=C,h=dM.bind(null,rn,C,U,h),C.dispatch=h,v.memoizedState=s,[l,h,!1]}function db(s){var l=Vi();return hb(l,qn,s)}function hb(s,l,h){if(l=Vg(s,l,jg)[0],s=Cl(Go)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var v=xs(l)}catch(X){throw X===id?bs:X}else v=l;l=Vi();var C=l.queue,U=C.dispatch;return h!==l.memoizedState&&(rn.flags|=2048,Lu(9,od(),hM.bind(null,C,h),null)),[v,U,s]}function hM(s,l){s.action=l}function pb(s){var l=Vi(),h=qn;if(h!==null)return hb(l,h,s);Vi(),l=l.memoizedState,h=Vi();var v=h.queue.dispatch;return h.memoizedState=s,[l,v,!1]}function Lu(s,l,h,v){return s={tag:s,create:h,deps:v,inst:l,next:null},l=rn.updateQueue,l===null&&(l=wl(),rn.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=s.next=s:(v=h.next,h.next=s,s.next=v,l.lastEffect=s),s}function od(){return{destroy:void 0,resource:void 0}}function Wg(){return Vi().memoizedState}function sp(s,l,h,v){var C=Gr();v=v===void 0?null:v,rn.flags|=s,C.memoizedState=Lu(1|l,od(),h,v)}function Iu(s,l,h,v){var C=Vi();v=v===void 0?null:v;var U=C.memoizedState.inst;qn!==null&&v!==null&&Dr(v,qn.memoizedState.deps)?C.memoizedState=Lu(l,U,h,v):(rn.flags|=s,C.memoizedState=Lu(1|l,U,h,v))}function Xg(s,l){sp(8390656,8,s,l)}function Yg(s,l){Iu(2048,8,s,l)}function op(s,l){return Iu(4,2,s,l)}function lp(s,l){return Iu(4,4,s,l)}function mb(s,l){if(typeof l=="function"){s=s();var h=l(s);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function gb(s,l,h){h=h!=null?h.concat([s]):null,Iu(4,4,mb.bind(null,l,s),h)}function $g(){}function yb(s,l){var h=Vi();l=l===void 0?null:l;var v=h.memoizedState;return l!==null&&Dr(l,v[1])?v[0]:(h.memoizedState=[s,l],s)}function Qg(s,l){var h=Vi();l=l===void 0?null:l;var v=h.memoizedState;if(l!==null&&Dr(l,v[1]))return v[0];if(v=s(),kr){at(!0);try{s()}finally{at(!1)}}return h.memoizedState=[v,l],v}function cp(s,l,h){return h===void 0||(Vo&1073741824)!==0?s.memoizedState=l:(s.memoizedState=h,s=Mp(),rn.lanes|=s,ws|=s,h)}function vb(s,l,h,v){return sa(h,l)?h:Pu.current!==null?(s=cp(s,h,v),sa(s,l)||(cr=!0),s):(Vo&42)===0?(cr=!0,s.memoizedState=h):(s=Mp(),rn.lanes|=s,ws|=s,l)}function bb(s,l,h,v,C){var U=j.p;j.p=U!==0&&8>U?U:8;var X=B.T,ee={};B.T=ee,up(s,!1,l,h);try{var ce=C(),Pe=B.S;if(Pe!==null&&Pe(ee,ce),ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var Ze=uM(ce,v);ld(s,l,Ze,Ci(s))}else ld(s,l,v,Ci(s))}catch(it){ld(s,l,{then:function(){},status:"rejected",reason:it},Ci())}finally{j.p=U,B.T=X}}function pM(){}function Kg(s,l,h,v){if(s.tag!==5)throw Error(i(476));var C=xb(s).queue;bb(s,C,l,q,h===null?pM:function(){return Sb(s),h(v)})}function xb(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:q},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:h},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function Sb(s){var l=xb(s).next.queue;ld(s,l,{},Ci())}function Zg(){return Ti(fy)}function _b(){return Vi().memoizedState}function Mb(){return Vi().memoizedState}function mM(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var h=Ci();s=Qs(h);var v=Ho(l,s,h);v!==null&&(Wr(v,l,h),gc(v,l,h)),l={cache:Kh()},s.payload=l;return}l=l.return}}function gM(s,l,h){var v=Ci();h={lane:v,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},fp(s)?Tb(l,h):(h=Wh(s,l,h,v),h!==null&&(Wr(h,s,v),Ra(h,l,v)))}function Eb(s,l,h){var v=Ci();ld(s,l,h,v)}function ld(s,l,h,v){var C={lane:v,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(fp(s))Tb(l,C);else{var U=s.alternate;if(s.lanes===0&&(U===null||U.lanes===0)&&(U=l.lastRenderedReducer,U!==null))try{var X=l.lastRenderedState,ee=U(X,h);if(C.hasEagerState=!0,C.eagerState=ee,sa(ee,X))return vl(s,l,C,0),en===null&&Xf(),!1}catch{}finally{}if(h=Wh(s,l,C,v),h!==null)return Wr(h,s,v),Ra(h,l,v),!0}return!1}function up(s,l,h,v){if(v={lane:2,revertLane:bM(),action:v,hasEagerState:!1,eagerState:null,next:null},fp(s)){if(l)throw Error(i(479))}else l=Wh(s,h,v,2),l!==null&&Wr(l,s,2)}function fp(s){var l=s.alternate;return s===rn||l!==null&&l===rn}function Tb(s,l){Al=ip=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function Ra(s,l,h){if((h&4194048)!==0){var v=l.lanes;v&=s.pendingLanes,h|=v,l.lanes=h,Ot(s,h)}}var cd={readContext:Ti,use:ap,useCallback:Ni,useContext:Ni,useEffect:Ni,useImperativeHandle:Ni,useLayoutEffect:Ni,useInsertionEffect:Ni,useMemo:Ni,useReducer:Ni,useRef:Ni,useState:Ni,useDebugValue:Ni,useDeferredValue:Ni,useTransition:Ni,useSyncExternalStore:Ni,useId:Ni,useHostTransitionStatus:Ni,useFormState:Ni,useActionState:Ni,useOptimistic:Ni,useMemoCache:Ni,useCacheRefresh:Ni},dp={readContext:Ti,use:ap,useCallback:function(s,l){return Gr().memoizedState=[s,l===void 0?null:l],s},useContext:Ti,useEffect:Xg,useImperativeHandle:function(s,l,h){h=h!=null?h.concat([s]):null,sp(4194308,4,mb.bind(null,l,s),h)},useLayoutEffect:function(s,l){return sp(4194308,4,s,l)},useInsertionEffect:function(s,l){sp(4,2,s,l)},useMemo:function(s,l){var h=Gr();l=l===void 0?null:l;var v=s();if(kr){at(!0);try{s()}finally{at(!1)}}return h.memoizedState=[v,l],v},useReducer:function(s,l,h){var v=Gr();if(h!==void 0){var C=h(l);if(kr){at(!0);try{h(l)}finally{at(!1)}}}else C=l;return v.memoizedState=v.baseState=C,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:C},v.queue=s,s=s.dispatch=gM.bind(null,rn,s),[v.memoizedState,s]},useRef:function(s){var l=Gr();return s={current:s},l.memoizedState=s},useState:function(s){s=Gg(s);var l=s.queue,h=Eb.bind(null,rn,l);return l.dispatch=h,[s.memoizedState,h]},useDebugValue:$g,useDeferredValue:function(s,l){var h=Gr();return cp(h,s,l)},useTransition:function(){var s=Gg(!1);return s=bb.bind(null,rn,s.queue,!0,!1),Gr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,h){var v=rn,C=Gr();if(Un){if(h===void 0)throw Error(i(407));h=h()}else{if(h=l(),en===null)throw Error(i(349));(Ft&124)!==0||Uu(v,l,h)}C.memoizedState=h;var U={value:h,getSnapshot:l};return C.queue=U,Xg(ib.bind(null,v,U,s),[s]),v.flags|=2048,Lu(9,od(),nb.bind(null,v,U,h,l),null),h},useId:function(){var s=Gr(),l=en.identifierPrefix;if(Un){var h=Ys,v=Xs;h=(v&~(1<<32-bt(v)-1)).toString(32)+h,l="«"+l+"R"+h,h=Wi++,0<h&&(l+="H"+h.toString(32)),l+="»"}else h=Z0++,l="«"+l+"r"+h.toString(32)+"»";return s.memoizedState=l},useHostTransitionStatus:Zg,useFormState:fb,useActionState:fb,useOptimistic:function(s){var l=Gr();l.memoizedState=l.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=up.bind(null,rn,!0,h),h.dispatch=l,[s,l]},useMemoCache:Hg,useCacheRefresh:function(){return Gr().memoizedState=mM.bind(null,rn)}},Jg={readContext:Ti,use:ap,useCallback:yb,useContext:Ti,useEffect:Yg,useImperativeHandle:gb,useInsertionEffect:op,useLayoutEffect:lp,useMemo:Qg,useReducer:Cl,useRef:Wg,useState:function(){return Cl(Go)},useDebugValue:$g,useDeferredValue:function(s,l){var h=Vi();return vb(h,qn.memoizedState,s,l)},useTransition:function(){var s=Cl(Go)[0],l=Vi().memoizedState;return[typeof s=="boolean"?s:xs(s),l]},useSyncExternalStore:tb,useId:_b,useHostTransitionStatus:Zg,useFormState:db,useActionState:db,useOptimistic:function(s,l){var h=Vi();return sb(h,qn,s,l)},useMemoCache:Hg,useCacheRefresh:Mb},Ab={readContext:Ti,use:ap,useCallback:yb,useContext:Ti,useEffect:Yg,useImperativeHandle:gb,useInsertionEffect:op,useLayoutEffect:lp,useMemo:Qg,useReducer:kg,useRef:Wg,useState:function(){return kg(Go)},useDebugValue:$g,useDeferredValue:function(s,l){var h=Vi();return qn===null?cp(h,s,l):vb(h,qn.memoizedState,s,l)},useTransition:function(){var s=kg(Go)[0],l=Vi().memoizedState;return[typeof s=="boolean"?s:xs(s),l]},useSyncExternalStore:tb,useId:_b,useHostTransitionStatus:Zg,useFormState:pb,useActionState:pb,useOptimistic:function(s,l){var h=Vi();return qn!==null?sb(h,qn,s,l):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:Hg,useCacheRefresh:Mb},yc=null,ud=0;function fd(s){var l=ud;return ud+=1,yc===null&&(yc=[]),tp(yc,s,l)}function zu(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function hp(s,l){throw l.$$typeof===g?Error(i(525)):(s=Object.prototype.toString.call(l),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function wb(s){var l=s._init;return l(s._payload)}function Cb(s){function l(_e,ye){if(s){var Ce=_e.deletions;Ce===null?(_e.deletions=[ye],_e.flags|=16):Ce.push(ye)}}function h(_e,ye){if(!s)return null;for(;ye!==null;)l(_e,ye),ye=ye.sibling;return null}function v(_e){for(var ye=new Map;_e!==null;)_e.key!==null?ye.set(_e.key,_e):ye.set(_e.index,_e),_e=_e.sibling;return ye}function C(_e,ye){return _e=Di(_e,ye),_e.index=0,_e.sibling=null,_e}function U(_e,ye,Ce){return _e.index=Ce,s?(Ce=_e.alternate,Ce!==null?(Ce=Ce.index,Ce<ye?(_e.flags|=67108866,ye):Ce):(_e.flags|=67108866,ye)):(_e.flags|=1048576,ye)}function X(_e){return s&&_e.alternate===null&&(_e.flags|=67108866),_e}function ee(_e,ye,Ce,tt){return ye===null||ye.tag!==6?(ye=$f(Ce,_e.mode,tt),ye.return=_e,ye):(ye=C(ye,Ce),ye.return=_e,ye)}function ce(_e,ye,Ce,tt){var Ut=Ce.type;return Ut===_?Ze(_e,ye,Ce.props.children,tt,Ce.key):ye!==null&&(ye.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===F&&wb(Ut)===ye.type)?(ye=C(ye,Ce.props),zu(ye,Ce),ye.return=_e,ye):(ye=lr(Ce.type,Ce.key,Ce.props,null,_e.mode,tt),zu(ye,Ce),ye.return=_e,ye)}function Pe(_e,ye,Ce,tt){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Ce.containerInfo||ye.stateNode.implementation!==Ce.implementation?(ye=Xh(Ce,_e.mode,tt),ye.return=_e,ye):(ye=C(ye,Ce.children||[]),ye.return=_e,ye)}function Ze(_e,ye,Ce,tt,Ut){return ye===null||ye.tag!==7?(ye=xl(Ce,_e.mode,tt,Ut),ye.return=_e,ye):(ye=C(ye,Ce),ye.return=_e,ye)}function it(_e,ye,Ce){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=$f(""+ye,_e.mode,Ce),ye.return=_e,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case y:return Ce=lr(ye.type,ye.key,ye.props,null,_e.mode,Ce),zu(Ce,ye),Ce.return=_e,Ce;case b:return ye=Xh(ye,_e.mode,Ce),ye.return=_e,ye;case F:var tt=ye._init;return ye=tt(ye._payload),it(_e,ye,Ce)}if($(ye)||H(ye))return ye=xl(ye,_e.mode,Ce,null),ye.return=_e,ye;if(typeof ye.then=="function")return it(_e,fd(ye),Ce);if(ye.$$typeof===A)return it(_e,Jf(_e,ye),Ce);hp(_e,ye)}return null}function Ie(_e,ye,Ce,tt){var Ut=ye!==null?ye.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return Ut!==null?null:ee(_e,ye,""+Ce,tt);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case y:return Ce.key===Ut?ce(_e,ye,Ce,tt):null;case b:return Ce.key===Ut?Pe(_e,ye,Ce,tt):null;case F:return Ut=Ce._init,Ce=Ut(Ce._payload),Ie(_e,ye,Ce,tt)}if($(Ce)||H(Ce))return Ut!==null?null:Ze(_e,ye,Ce,tt,null);if(typeof Ce.then=="function")return Ie(_e,ye,fd(Ce),tt);if(Ce.$$typeof===A)return Ie(_e,ye,Jf(_e,Ce),tt);hp(_e,Ce)}return null}function Fe(_e,ye,Ce,tt,Ut){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return _e=_e.get(Ce)||null,ee(ye,_e,""+tt,Ut);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case y:return _e=_e.get(tt.key===null?Ce:tt.key)||null,ce(ye,_e,tt,Ut);case b:return _e=_e.get(tt.key===null?Ce:tt.key)||null,Pe(ye,_e,tt,Ut);case F:var xn=tt._init;return tt=xn(tt._payload),Fe(_e,ye,Ce,tt,Ut)}if($(tt)||H(tt))return _e=_e.get(Ce)||null,Ze(ye,_e,tt,Ut,null);if(typeof tt.then=="function")return Fe(_e,ye,Ce,fd(tt),Ut);if(tt.$$typeof===A)return Fe(_e,ye,Ce,Jf(ye,tt),Ut);hp(ye,tt)}return null}function Kt(_e,ye,Ce,tt){for(var Ut=null,xn=null,zt=ye,Wt=ye=0,Ur=null;zt!==null&&Wt<Ce.length;Wt++){zt.index>Wt?(Ur=zt,zt=null):Ur=zt.sibling;var Gn=Ie(_e,zt,Ce[Wt],tt);if(Gn===null){zt===null&&(zt=Ur);break}s&&zt&&Gn.alternate===null&&l(_e,zt),ye=U(Gn,ye,Wt),xn===null?Ut=Gn:xn.sibling=Gn,xn=Gn,zt=Ur}if(Wt===Ce.length)return h(_e,zt),Un&&Io(_e,Wt),Ut;if(zt===null){for(;Wt<Ce.length;Wt++)zt=it(_e,Ce[Wt],tt),zt!==null&&(ye=U(zt,ye,Wt),xn===null?Ut=zt:xn.sibling=zt,xn=zt);return Un&&Io(_e,Wt),Ut}for(zt=v(zt);Wt<Ce.length;Wt++)Ur=Fe(zt,_e,Wt,Ce[Wt],tt),Ur!==null&&(s&&Ur.alternate!==null&&zt.delete(Ur.key===null?Wt:Ur.key),ye=U(Ur,ye,Wt),xn===null?Ut=Ur:xn.sibling=Ur,xn=Ur);return s&&zt.forEach(function(ef){return l(_e,ef)}),Un&&Io(_e,Wt),Ut}function jt(_e,ye,Ce,tt){if(Ce==null)throw Error(i(151));for(var Ut=null,xn=null,zt=ye,Wt=ye=0,Ur=null,Gn=Ce.next();zt!==null&&!Gn.done;Wt++,Gn=Ce.next()){zt.index>Wt?(Ur=zt,zt=null):Ur=zt.sibling;var ef=Ie(_e,zt,Gn.value,tt);if(ef===null){zt===null&&(zt=Ur);break}s&&zt&&ef.alternate===null&&l(_e,zt),ye=U(ef,ye,Wt),xn===null?Ut=ef:xn.sibling=ef,xn=ef,zt=Ur}if(Gn.done)return h(_e,zt),Un&&Io(_e,Wt),Ut;if(zt===null){for(;!Gn.done;Wt++,Gn=Ce.next())Gn=it(_e,Gn.value,tt),Gn!==null&&(ye=U(Gn,ye,Wt),xn===null?Ut=Gn:xn.sibling=Gn,xn=Gn);return Un&&Io(_e,Wt),Ut}for(zt=v(zt);!Gn.done;Wt++,Gn=Ce.next())Gn=Fe(zt,_e,Wt,Gn.value,tt),Gn!==null&&(s&&Gn.alternate!==null&&zt.delete(Gn.key===null?Wt:Gn.key),ye=U(Gn,ye,Wt),xn===null?Ut=Gn:xn.sibling=Gn,xn=Gn);return s&&zt.forEach(function(dB){return l(_e,dB)}),Un&&Io(_e,Wt),Ut}function ui(_e,ye,Ce,tt){if(typeof Ce=="object"&&Ce!==null&&Ce.type===_&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case y:e:{for(var Ut=Ce.key;ye!==null;){if(ye.key===Ut){if(Ut=Ce.type,Ut===_){if(ye.tag===7){h(_e,ye.sibling),tt=C(ye,Ce.props.children),tt.return=_e,_e=tt;break e}}else if(ye.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===F&&wb(Ut)===ye.type){h(_e,ye.sibling),tt=C(ye,Ce.props),zu(tt,Ce),tt.return=_e,_e=tt;break e}h(_e,ye);break}else l(_e,ye);ye=ye.sibling}Ce.type===_?(tt=xl(Ce.props.children,_e.mode,tt,Ce.key),tt.return=_e,_e=tt):(tt=lr(Ce.type,Ce.key,Ce.props,null,_e.mode,tt),zu(tt,Ce),tt.return=_e,_e=tt)}return X(_e);case b:e:{for(Ut=Ce.key;ye!==null;){if(ye.key===Ut)if(ye.tag===4&&ye.stateNode.containerInfo===Ce.containerInfo&&ye.stateNode.implementation===Ce.implementation){h(_e,ye.sibling),tt=C(ye,Ce.children||[]),tt.return=_e,_e=tt;break e}else{h(_e,ye);break}else l(_e,ye);ye=ye.sibling}tt=Xh(Ce,_e.mode,tt),tt.return=_e,_e=tt}return X(_e);case F:return Ut=Ce._init,Ce=Ut(Ce._payload),ui(_e,ye,Ce,tt)}if($(Ce))return Kt(_e,ye,Ce,tt);if(H(Ce)){if(Ut=H(Ce),typeof Ut!="function")throw Error(i(150));return Ce=Ut.call(Ce),jt(_e,ye,Ce,tt)}if(typeof Ce.then=="function")return ui(_e,ye,fd(Ce),tt);if(Ce.$$typeof===A)return ui(_e,ye,Jf(_e,Ce),tt);hp(_e,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint"?(Ce=""+Ce,ye!==null&&ye.tag===6?(h(_e,ye.sibling),tt=C(ye,Ce),tt.return=_e,_e=tt):(h(_e,ye),tt=$f(Ce,_e.mode,tt),tt.return=_e,_e=tt),X(_e)):h(_e,ye)}return function(_e,ye,Ce,tt){try{ud=0;var Ut=ui(_e,ye,Ce,tt);return yc=null,Ut}catch(zt){if(zt===id||zt===bs)throw zt;var xn=ca(29,zt,null,_e.mode);return xn.lanes=tt,xn.return=_e,xn}finally{}}}var vc=Cb(!0),Rb=Cb(!1),ti=ie(null),Ss=null;function Rl(s){var l=s.alternate;he(Pi,Pi.current&1),he(ti,s),Ss===null&&(l===null||Pu.current!==null||l.memoizedState!==null)&&(Ss=s)}function Ob(s){if(s.tag===22){if(he(Pi,Pi.current),he(ti,s),Ss===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(Ss=s)}}else Ol()}function Ol(){he(Pi,Pi.current),he(ti,ti.current)}function Ks(s){le(ti),Ss===s&&(Ss=null),le(Pi)}var Pi=ie(0);function qo(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||DM(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Dl(s,l,h,v){l=s.memoizedState,h=h(v,l),h=h==null?l:m({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var qr={enqueueSetState:function(s,l,h){s=s._reactInternals;var v=Ci(),C=Qs(v);C.payload=l,h!=null&&(C.callback=h),l=Ho(s,C,v),l!==null&&(Wr(l,s,v),gc(l,s,v))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var v=Ci(),C=Qs(v);C.tag=1,C.payload=l,h!=null&&(C.callback=h),l=Ho(s,C,v),l!==null&&(Wr(l,s,v),gc(l,s,v))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=Ci(),v=Qs(h);v.tag=2,l!=null&&(v.callback=l),l=Ho(s,v,h),l!==null&&(Wr(l,s,h),gc(l,s,h))}};function Db(s,l,h,v,C,U,X){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,U,X):l.prototype&&l.prototype.isPureReactComponent?!ys(h,v)||!ys(C,U):!0}function Nb(s,l,h,v){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,v),l.state!==s&&qr.enqueueReplaceState(l,l.state,null)}function Zs(s,l){var h=l;if("ref"in l){h={};for(var v in l)v!=="ref"&&(h[v]=l[v])}if(s=s.defaultProps){h===l&&(h=m({},h));for(var C in s)h[C]===void 0&&(h[C]=s[C])}return h}var bc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function dd(s){bc(s)}function pp(s){console.error(s)}function Pb(s){bc(s)}function mp(s,l){try{var h=s.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(v){setTimeout(function(){throw v})}}function Ja(s,l,h){try{var v=s.onCaughtError;v(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function gp(s,l,h){return h=Qs(h),h.tag=3,h.payload={element:null},h.callback=function(){mp(s,l)},h}function Ub(s){return s=Qs(s),s.tag=3,s}function yp(s,l,h,v){var C=h.type.getDerivedStateFromError;if(typeof C=="function"){var U=v.value;s.payload=function(){return C(U)},s.callback=function(){Ja(l,h,v)}}var X=h.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(s.callback=function(){Ja(l,h,v),typeof C!="function"&&(za===null?za=new Set([this]):za.add(this));var ee=v.stack;this.componentDidCatch(v.value,{componentStack:ee!==null?ee:""})})}function yM(s,l,h,v,C){if(h.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(l=h.alternate,l!==null&&$a(l,h,C,!0),h=ti.current,h!==null){switch(h.tag){case 13:return Ss===null?u():h.alternate===null&&hi===0&&(hi=3),h.flags&=-257,h.flags|=65536,h.lanes=C,v===rd?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([v]):l.add(v),He(s,v,C)),!1;case 22:return h.flags|=65536,v===rd?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([v])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([v]):h.add(v)),He(s,v,C)),!1}throw Error(i(435,h.tag))}return He(s,v,C),u(),!1}if(Un)return l=ti.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=C,v!==$h&&(s=Error(i(422),{cause:v}),mc(Sr(s,h)))):(v!==$h&&(l=Error(i(423),{cause:v}),mc(Sr(l,h))),s=s.current.alternate,s.flags|=65536,C&=-C,s.lanes|=C,v=Sr(v,h),C=gp(s.stateNode,v,C),Ou(s,C),hi!==4&&(hi=2)),!1;var U=Error(i(520),{cause:v});if(U=Sr(U,h),kn===null?kn=[U]:kn.push(U),hi!==4&&(hi=2),l===null)return!0;v=Sr(v,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,s=C&-C,h.lanes|=s,s=gp(h.stateNode,v,s),Ou(h,s),!1;case 1:if(l=h.type,U=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(za===null||!za.has(U))))return h.flags|=65536,C&=-C,h.lanes|=C,C=Ub(C),yp(C,s,h,v),Ou(h,C),!1}h=h.return}while(h!==null);return!1}var Lb=Error(i(461)),cr=!1;function Ui(s,l,h,v){l.child=s===null?Rb(l,null,h,v):vc(l,s.child,h,v)}function fa(s,l,h,v,C){h=h.render;var U=l.ref;if("ref"in v){var X={};for(var ee in v)ee!=="ref"&&(X[ee]=v[ee])}else X=v;return $s(l),v=ko(s,l,h,X,U,C),ee=Bg(),s!==null&&!cr?(rp(s,l,C),ur(s,l,C)):(Un&&ee&&wg(l),l.flags|=1,Ui(s,l,v,C),l.child)}function da(s,l,h,v,C){if(s===null){var U=h.type;return typeof U=="function"&&!Yf(U)&&U.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=U,ey(s,l,U,v,C)):(s=lr(h.type,null,v,l,l.mode,C),s.ref=l.ref,s.return=l,l.child=s)}if(U=s.child,!hd(s,C)){var X=U.memoizedProps;if(h=h.compare,h=h!==null?h:ys,h(X,v)&&s.ref===l.ref)return ur(s,l,C)}return l.flags|=1,s=Di(U,v),s.ref=l.ref,s.return=l,l.child=s}function ey(s,l,h,v,C){if(s!==null){var U=s.memoizedProps;if(ys(U,v)&&s.ref===l.ref)if(cr=!1,l.pendingProps=v=U,hd(s,C))(s.flags&131072)!==0&&(cr=!0);else return l.lanes=s.lanes,ur(s,l,C)}return Bu(s,l,h,v,C)}function xc(s,l,h){var v=l.pendingProps,C=v.children,U=s!==null?s.memoizedState:null;if(v.mode==="hidden"){if((l.flags&128)!==0){if(v=U!==null?U.baseLanes|h:h,s!==null){for(C=l.child=s.child,U=0;C!==null;)U=U|C.lanes|C.childLanes,C=C.sibling;l.childLanes=U&~v}else l.childLanes=0,l.child=null;return Sc(s,l,v,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&nd(l,U!==null?U.cachePool:null),U!==null?K0(l,U):zg(),Ob(l);else return l.lanes=l.childLanes=536870912,Sc(s,l,U!==null?U.baseLanes|h:h,h)}else U!==null?(nd(l,U.cachePool),K0(l,U),Ol(),l.memoizedState=null):(s!==null&&nd(l,null),zg(),Ol());return Ui(s,l,C,h),l.child}function Sc(s,l,h,v){var C=Tl();return C=C===null?null:{parent:Fi._currentValue,pool:C},l.memoizedState={baseLanes:h,cachePool:C},s!==null&&nd(l,null),zg(),Ob(l),s!==null&&$a(s,l,v,!0),null}function _c(s,l){var h=l.ref;if(h===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(s===null||s.ref!==h)&&(l.flags|=4194816)}}function Bu(s,l,h,v,C){return $s(l),h=ko(s,l,h,v,void 0,C),v=Bg(),s!==null&&!cr?(rp(s,l,C),ur(s,l,C)):(Un&&v&&wg(l),l.flags|=1,Ui(s,l,h,C),l.child)}function Oa(s,l,h,v,C,U){return $s(l),l.updateQueue=null,h=eb(l,v,h,C),J0(s),v=Bg(),s!==null&&!cr?(rp(s,l,U),ur(s,l,U)):(Un&&v&&wg(l),l.flags|=1,Ui(s,l,h,U),l.child)}function Da(s,l,h,v,C){if($s(l),l.stateNode===null){var U=bl,X=h.contextType;typeof X=="object"&&X!==null&&(U=Ti(X)),U=new h(v,U),l.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=qr,l.stateNode=U,U._reactInternals=l,U=l.stateNode,U.props=v,U.state=l.memoizedState,U.refs={},Lg(l),X=h.contextType,U.context=typeof X=="object"&&X!==null?Ti(X):bl,U.state=l.memoizedState,X=h.getDerivedStateFromProps,typeof X=="function"&&(Dl(l,h,X,v),U.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(X=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),X!==U.state&&qr.enqueueReplaceState(U,U.state,null),Du(l,v,U,C),ad(),U.state=l.memoizedState),typeof U.componentDidMount=="function"&&(l.flags|=4194308),v=!0}else if(s===null){U=l.stateNode;var ee=l.memoizedProps,ce=Zs(h,ee);U.props=ce;var Pe=U.context,Ze=h.contextType;X=bl,typeof Ze=="object"&&Ze!==null&&(X=Ti(Ze));var it=h.getDerivedStateFromProps;Ze=typeof it=="function"||typeof U.getSnapshotBeforeUpdate=="function",ee=l.pendingProps!==ee,Ze||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ee||Pe!==X)&&Nb(l,U,v,X),Fo=!1;var Ie=l.memoizedState;U.state=Ie,Du(l,v,U,C),ad(),Pe=l.memoizedState,ee||Ie!==Pe||Fo?(typeof it=="function"&&(Dl(l,h,it,v),Pe=l.memoizedState),(ce=Fo||Db(l,h,ce,v,Ie,Pe,X))?(Ze||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(l.flags|=4194308)):(typeof U.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=Pe),U.props=v,U.state=Pe,U.context=X,v=ce):(typeof U.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{U=l.stateNode,Yt(s,l),X=l.memoizedProps,Ze=Zs(h,X),U.props=Ze,it=l.pendingProps,Ie=U.context,Pe=h.contextType,ce=bl,typeof Pe=="object"&&Pe!==null&&(ce=Ti(Pe)),ee=h.getDerivedStateFromProps,(Pe=typeof ee=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(X!==it||Ie!==ce)&&Nb(l,U,v,ce),Fo=!1,Ie=l.memoizedState,U.state=Ie,Du(l,v,U,C),ad();var Fe=l.memoizedState;X!==it||Ie!==Fe||Fo||s!==null&&s.dependencies!==null&&Zf(s.dependencies)?(typeof ee=="function"&&(Dl(l,h,ee,v),Fe=l.memoizedState),(Ze=Fo||Db(l,h,Ze,v,Ie,Fe,ce)||s!==null&&s.dependencies!==null&&Zf(s.dependencies))?(Pe||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(v,Fe,ce),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(v,Fe,ce)),typeof U.componentDidUpdate=="function"&&(l.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof U.componentDidUpdate!="function"||X===s.memoizedProps&&Ie===s.memoizedState||(l.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||X===s.memoizedProps&&Ie===s.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=Fe),U.props=v,U.state=Fe,U.context=ce,v=Ze):(typeof U.componentDidUpdate!="function"||X===s.memoizedProps&&Ie===s.memoizedState||(l.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||X===s.memoizedProps&&Ie===s.memoizedState||(l.flags|=1024),v=!1)}return U=v,_c(s,l),v=(l.flags&128)!==0,U||v?(U=l.stateNode,h=v&&typeof h.getDerivedStateFromError!="function"?null:U.render(),l.flags|=1,s!==null&&v?(l.child=vc(l,s.child,null,C),l.child=vc(l,null,h,C)):Ui(s,l,h,C),l.memoizedState=U.state,s=l.child):s=ur(s,l,C),s}function Nl(s,l,h,v){return Tu(),l.flags|=256,Ui(s,l,h,v),l.child}var _s={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ms(s){return{baseLanes:s,cachePool:Jh()}}function Xi(s,l,h){return s=s!==null?s.childLanes&~h:0,l&&(s|=rs),s}function Fu(s,l,h){var v=l.pendingProps,C=!1,U=(l.flags&128)!==0,X;if((X=U)||(X=s!==null&&s.memoizedState===null?!1:(Pi.current&2)!==0),X&&(C=!0,l.flags&=-129),X=(l.flags&32)!==0,l.flags&=-33,s===null){if(Un){if(C?Rl(l):Ol(),Un){var ee=_i,ce;if(ce=ee){e:{for(ce=ee,ee=wa;ce.nodeType!==8;){if(!ee){ee=null;break e}if(ce=Qo(ce.nextSibling),ce===null){ee=null;break e}}ee=ce}ee!==null?(l.memoizedState={dehydrated:ee,treeContext:Sl!==null?{id:Xs,overflow:Ys}:null,retryLane:536870912,hydrationErrors:null},ce=ca(18,null,null,0),ce.stateNode=ee,ce.return=l,l.child=ce,Vr=l,_i=null,ce=!0):ce=!1}ce||_l(l)}if(ee=l.memoizedState,ee!==null&&(ee=ee.dehydrated,ee!==null))return DM(ee)?l.lanes=32:l.lanes=536870912,null;Ks(l)}return ee=v.children,v=v.fallback,C?(Ol(),C=l.mode,ee=Mc({mode:"hidden",children:ee},C),v=xl(v,C,h,null),ee.return=l,v.return=l,ee.sibling=v,l.child=ee,C=l.child,C.memoizedState=Ms(h),C.childLanes=Xi(s,X,h),l.memoizedState=_s,v):(Rl(l),Js(l,ee))}if(ce=s.memoizedState,ce!==null&&(ee=ce.dehydrated,ee!==null)){if(U)l.flags&256?(Rl(l),l.flags&=-257,l=Er(s,l,h)):l.memoizedState!==null?(Ol(),l.child=s.child,l.flags|=128,l=null):(Ol(),C=v.fallback,ee=l.mode,v=Mc({mode:"visible",children:v.children},ee),C=xl(C,ee,h,null),C.flags|=2,v.return=l,C.return=l,v.sibling=C,l.child=v,vc(l,s.child,null,h),v=l.child,v.memoizedState=Ms(h),v.childLanes=Xi(s,X,h),l.memoizedState=_s,l=C);else if(Rl(l),DM(ee)){if(X=ee.nextSibling&&ee.nextSibling.dataset,X)var Pe=X.dgst;X=Pe,v=Error(i(419)),v.stack="",v.digest=X,mc({value:v,source:null,stack:null}),l=Er(s,l,h)}else if(cr||$a(s,l,h,!1),X=(h&s.childLanes)!==0,cr||X){if(X=en,X!==null&&(v=h&-h,v=(v&42)!==0?1:Zt(v),v=(v&(X.suspendedLanes|h))!==0?0:v,v!==0&&v!==ce.retryLane))throw ce.retryLane=v,Lo(s,v),Wr(X,s,v),Lb;ee.data==="$?"||u(),l=Er(s,l,h)}else ee.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=ce.treeContext,_i=Qo(ee.nextSibling),Vr=l,Un=!0,Ya=null,wa=!1,s!==null&&(_r[Aa++]=Xs,_r[Aa++]=Ys,_r[Aa++]=Sl,Xs=s.id,Ys=s.overflow,Sl=l),l=Js(l,v.children),l.flags|=4096);return l}return C?(Ol(),C=v.fallback,ee=l.mode,ce=s.child,Pe=ce.sibling,v=Di(ce,{mode:"hidden",children:v.children}),v.subtreeFlags=ce.subtreeFlags&65011712,Pe!==null?C=Di(Pe,C):(C=xl(C,ee,h,null),C.flags|=2),C.return=l,v.return=l,v.sibling=C,l.child=v,v=C,C=l.child,ee=s.child.memoizedState,ee===null?ee=Ms(h):(ce=ee.cachePool,ce!==null?(Pe=Fi._currentValue,ce=ce.parent!==Pe?{parent:Pe,pool:Pe}:ce):ce=Jh(),ee={baseLanes:ee.baseLanes|h,cachePool:ce}),C.memoizedState=ee,C.childLanes=Xi(s,X,h),l.memoizedState=_s,v):(Rl(l),h=s.child,s=h.sibling,h=Di(h,{mode:"visible",children:v.children}),h.return=l,h.sibling=null,s!==null&&(X=l.deletions,X===null?(l.deletions=[s],l.flags|=16):X.push(s)),l.child=h,l.memoizedState=null,h)}function Js(s,l){return l=Mc({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function Mc(s,l){return s=ca(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Er(s,l,h){return vc(l,s.child,null,h),s=Js(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function Tr(s,l,h){s.lanes|=l;var v=s.alternate;v!==null&&(v.lanes|=l),Dg(s.return,l,h)}function wn(s,l,h,v,C){var U=s.memoizedState;U===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:C}:(U.isBackwards=l,U.rendering=null,U.renderingStartTime=0,U.last=v,U.tail=h,U.tailMode=C)}function es(s,l,h){var v=l.pendingProps,C=v.revealOrder,U=v.tail;if(Ui(s,l,v.children,h),v=Pi.current,(v&2)!==0)v=v&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Tr(s,h,l);else if(s.tag===19)Tr(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}switch(he(Pi,v),C){case"forwards":for(h=l.child,C=null;h!==null;)s=h.alternate,s!==null&&qo(s)===null&&(C=h),h=h.sibling;h=C,h===null?(C=l.child,l.child=null):(C=h.sibling,h.sibling=null),wn(l,!1,C,h,U);break;case"backwards":for(h=null,C=l.child,l.child=null;C!==null;){if(s=C.alternate,s!==null&&qo(s)===null){l.child=C;break}s=C.sibling,C.sibling=h,h=C,C=s}wn(l,!0,h,null,U);break;case"together":wn(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ur(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),ws|=l.lanes,(h&l.childLanes)===0)if(s!==null){if($a(s,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(i(153));if(l.child!==null){for(s=l.child,h=Di(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=Di(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function hd(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&Zf(s)))}function ts(s,l,h){switch(l.tag){case 3:ke(l,l.stateNode.containerInfo),El(l,Fi,s.memoizedState.cache),Tu();break;case 27:case 5:Ee(l);break;case 4:ke(l,l.stateNode.containerInfo);break;case 10:El(l,l.type,l.memoizedProps.value);break;case 13:var v=l.memoizedState;if(v!==null)return v.dehydrated!==null?(Rl(l),l.flags|=128,null):(h&l.child.childLanes)!==0?Fu(s,l,h):(Rl(l),s=ur(s,l,h),s!==null?s.sibling:null);Rl(l);break;case 19:var C=(s.flags&128)!==0;if(v=(h&l.childLanes)!==0,v||($a(s,l,h,!1),v=(h&l.childLanes)!==0),C){if(v)return es(s,l,h);l.flags|=128}if(C=l.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),he(Pi,Pi.current),v)break;return null;case 22:case 23:return l.lanes=0,xc(s,l,h);case 24:El(l,Fi,s.memoizedState.cache)}return ur(s,l,h)}function Ec(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps)cr=!0;else{if(!hd(s,h)&&(l.flags&128)===0)return cr=!1,ts(s,l,h);cr=(s.flags&131072)!==0}else cr=!1,Un&&(l.flags&1048576)!==0&&Yh(l,Eu,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var v=l.elementType,C=v._init;if(v=C(v._payload),l.type=v,typeof v=="function")Yf(v)?(s=Zs(v,s),l.tag=1,l=Da(null,l,v,s,h)):(l.tag=0,l=Bu(null,l,v,s,h));else{if(v!=null){if(C=v.$$typeof,C===T){l.tag=11,l=fa(null,l,v,s,h);break e}else if(C===z){l.tag=14,l=da(null,l,v,s,h);break e}}throw l=G(v)||v,Error(i(306,l,""))}}return l;case 0:return Bu(s,l,l.type,l.pendingProps,h);case 1:return v=l.type,C=Zs(v,l.pendingProps),Da(s,l,v,C,h);case 3:e:{if(ke(l,l.stateNode.containerInfo),s===null)throw Error(i(387));v=l.pendingProps;var U=l.memoizedState;C=U.element,Yt(s,l),Du(l,v,null,h);var X=l.memoizedState;if(v=X.cache,El(l,Fi,v),v!==U.cache&&Kf(l,[Fi],h,!0),ad(),v=X.element,U.isDehydrated)if(U={element:v,isDehydrated:!1,cache:X.cache},l.updateQueue.baseState=U,l.memoizedState=U,l.flags&256){l=Nl(s,l,v,h);break e}else if(v!==C){C=Sr(Error(i(424)),l),mc(C),l=Nl(s,l,v,h);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(_i=Qo(s.firstChild),Vr=l,Un=!0,Ya=null,wa=!0,h=Rb(l,null,v,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Tu(),v===C){l=ur(s,l,h);break e}Ui(s,l,v,h)}l=l.child}return l;case 26:return _c(s,l),s===null?(h=rR(l.type,null,l.pendingProps,null))?l.memoizedState=h:Un||(h=l.type,s=l.pendingProps,v=Vb(me.current).createElement(h),v[Qn]=l,v[di]=s,Xr(v,h,s),Ve(v),l.stateNode=v):l.memoizedState=rR(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Ee(l),s===null&&Un&&(v=l.stateNode=tR(l.type,l.pendingProps,me.current),Vr=l,wa=!0,C=_i,$u(l.type)?(NM=C,_i=Qo(v.firstChild)):_i=C),Ui(s,l,l.pendingProps.children,h),_c(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&Un&&((C=v=_i)&&(v=Vz(v,l.type,l.pendingProps,wa),v!==null?(l.stateNode=v,Vr=l,_i=Qo(v.firstChild),wa=!1,C=!0):C=!1),C||_l(l)),Ee(l),C=l.type,U=l.pendingProps,X=s!==null?s.memoizedProps:null,v=U.children,CM(C,U)?v=null:X!==null&&CM(C,X)&&(l.flags|=32),l.memoizedState!==null&&(C=ko(s,l,fM,null,null,h),fy._currentValue=C),_c(s,l),Ui(s,l,v,h),l.child;case 6:return s===null&&Un&&((s=h=_i)&&(h=kz(h,l.pendingProps,wa),h!==null?(l.stateNode=h,Vr=l,_i=null,s=!0):s=!1),s||_l(l)),null;case 13:return Fu(s,l,h);case 4:return ke(l,l.stateNode.containerInfo),v=l.pendingProps,s===null?l.child=vc(l,null,v,h):Ui(s,l,v,h),l.child;case 11:return fa(s,l,l.type,l.pendingProps,h);case 7:return Ui(s,l,l.pendingProps,h),l.child;case 8:return Ui(s,l,l.pendingProps.children,h),l.child;case 12:return Ui(s,l,l.pendingProps.children,h),l.child;case 10:return v=l.pendingProps,El(l,l.type,v.value),Ui(s,l,v.children,h),l.child;case 9:return C=l.type._context,v=l.pendingProps.children,$s(l),C=Ti(C),v=v(C),l.flags|=1,Ui(s,l,v,h),l.child;case 14:return da(s,l,l.type,l.pendingProps,h);case 15:return ey(s,l,l.type,l.pendingProps,h);case 19:return es(s,l,h);case 31:return v=l.pendingProps,h=l.mode,v={mode:v.mode,children:v.children},s===null?(h=Mc(v,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=Di(s.child,v),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return xc(s,l,h);case 24:return $s(l),v=Ti(Fi),s===null?(C=Tl(),C===null&&(C=en,U=Kh(),C.pooledCache=U,U.refCount++,U!==null&&(C.pooledCacheLanes|=h),C=U),l.memoizedState={parent:v,cache:C},Lg(l),El(l,Fi,C)):((s.lanes&h)!==0&&(Yt(s,l),Du(l,null,null,h),ad()),C=s.memoizedState,U=l.memoizedState,C.parent!==v?(C={parent:v,cache:v},l.memoizedState=C,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=C),El(l,Fi,v)):(v=U.cache,El(l,Fi,v),v!==C.cache&&Kf(l,[Fi],h,!0))),Ui(s,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function Es(s){s.flags|=4}function pd(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!cR(l)){if(l=ti.current,l!==null&&((Ft&4194048)===Ft?Ss!==null:(Ft&62914560)!==Ft&&(Ft&536870912)===0||l!==Ss))throw Ka=rd,Pg;s.flags|=8192}}function jo(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?st():536870912,s.lanes|=l,Nn|=l)}function Tc(s,l){if(!Un)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function si(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,v=0;if(l)for(var C=s.child;C!==null;)h|=C.lanes|C.childLanes,v|=C.subtreeFlags&65011712,v|=C.flags&65011712,C.return=s,C=C.sibling;else for(C=s.child;C!==null;)h|=C.lanes|C.childLanes,v|=C.subtreeFlags,v|=C.flags,C.return=s,C=C.sibling;return s.subtreeFlags|=v,s.childLanes=h,l}function ty(s,l,h){var v=l.pendingProps;switch(Cg(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return si(l),null;case 1:return si(l),null;case 3:return h=l.stateNode,v=null,s!==null&&(v=s.memoizedState.cache),l.memoizedState.cache!==v&&(l.flags|=2048),Bo(Fi),Qe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(vs(l)?Es(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Hn())),si(l),null;case 26:return h=l.memoizedState,s===null?(Es(l),h!==null?(si(l),pd(l,h)):(si(l),l.flags&=-16777217)):h?h!==s.memoizedState?(Es(l),si(l),pd(l,h)):(si(l),l.flags&=-16777217):(s.memoizedProps!==v&&Es(l),si(l),l.flags&=-16777217),null;case 27:Ge(l),h=me.current;var C=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==v&&Es(l);else{if(!v){if(l.stateNode===null)throw Error(i(166));return si(l),null}s=ae.current,vs(l)?X0(l):(s=tR(C,v,h),l.stateNode=s,Es(l))}return si(l),null;case 5:if(Ge(l),h=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==v&&Es(l);else{if(!v){if(l.stateNode===null)throw Error(i(166));return si(l),null}if(s=ae.current,vs(l))X0(l);else{switch(C=Vb(me.current),s){case 1:s=C.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:s=C.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":s=C.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":s=C.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof v.is=="string"?C.createElement("select",{is:v.is}):C.createElement("select"),v.multiple?s.multiple=!0:v.size&&(s.size=v.size);break;default:s=typeof v.is=="string"?C.createElement(h,{is:v.is}):C.createElement(h)}}s[Qn]=l,s[di]=v;e:for(C=l.child;C!==null;){if(C.tag===5||C.tag===6)s.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===l)break e;for(;C.sibling===null;){if(C.return===null||C.return===l)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}l.stateNode=s;e:switch(Xr(s,h,v),h){case"button":case"input":case"select":case"textarea":s=!!v.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Es(l)}}return si(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==v&&Es(l);else{if(typeof v!="string"&&l.stateNode===null)throw Error(i(166));if(s=me.current,vs(l)){if(s=l.stateNode,h=l.memoizedProps,v=null,C=Vr,C!==null)switch(C.tag){case 27:case 5:v=C.memoizedProps}s[Qn]=l,s=!!(s.nodeValue===h||v!==null&&v.suppressHydrationWarning===!0||YC(s.nodeValue,h)),s||_l(l)}else s=Vb(s).createTextNode(v),s[Qn]=l,l.stateNode=s}return si(l),null;case 13:if(v=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(C=vs(l),v!==null&&v.dehydrated!==null){if(s===null){if(!C)throw Error(i(318));if(C=l.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(i(317));C[Qn]=l}else Tu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;si(l),C=!1}else C=Hn(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=C),C=!0;if(!C)return l.flags&256?(Ks(l),l):(Ks(l),null)}if(Ks(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=v!==null,s=s!==null&&s.memoizedState!==null,h){v=l.child,C=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(C=v.alternate.memoizedState.cachePool.pool);var U=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(U=v.memoizedState.cachePool.pool),U!==C&&(v.flags|=2048)}return h!==s&&h&&(l.child.flags|=8192),jo(l,l.updateQueue),si(l),null;case 4:return Qe(),s===null&&MM(l.stateNode.containerInfo),si(l),null;case 10:return Bo(l.type),si(l),null;case 19:if(le(Pi),C=l.memoizedState,C===null)return si(l),null;if(v=(l.flags&128)!==0,U=C.rendering,U===null)if(v)Tc(C,!1);else{if(hi!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(U=qo(s),U!==null){for(l.flags|=128,Tc(C,!1),s=U.updateQueue,l.updateQueue=s,jo(l,s),l.subtreeFlags=0,s=h,h=l.child;h!==null;)Ag(h,s),h=h.sibling;return he(Pi,Pi.current&1|2),l.child}s=s.sibling}C.tail!==null&&ze()>Nr&&(l.flags|=128,v=!0,Tc(C,!1),l.lanes=4194304)}else{if(!v)if(s=qo(U),s!==null){if(l.flags|=128,v=!0,s=s.updateQueue,l.updateQueue=s,jo(l,s),Tc(C,!0),C.tail===null&&C.tailMode==="hidden"&&!U.alternate&&!Un)return si(l),null}else 2*ze()-C.renderingStartTime>Nr&&h!==536870912&&(l.flags|=128,v=!0,Tc(C,!1),l.lanes=4194304);C.isBackwards?(U.sibling=l.child,l.child=U):(s=C.last,s!==null?s.sibling=U:l.child=U,C.last=U)}return C.tail!==null?(l=C.tail,C.rendering=l,C.tail=l.sibling,C.renderingStartTime=ze(),l.sibling=null,s=Pi.current,he(Pi,v?s&1|2:s&1),l):(si(l),null);case 22:case 23:return Ks(l),sd(),v=l.memoizedState!==null,s!==null?s.memoizedState!==null!==v&&(l.flags|=8192):v&&(l.flags|=8192),v?(h&536870912)!==0&&(l.flags&128)===0&&(si(l),l.subtreeFlags&6&&(l.flags|=8192)):si(l),h=l.updateQueue,h!==null&&jo(l,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==h&&(l.flags|=2048),s!==null&&le(Qa),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Bo(Fi),si(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function Hu(s,l){switch(Cg(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Bo(Fi),Qe(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Ge(l),null;case 13:if(Ks(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Tu()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return le(Pi),null;case 4:return Qe(),null;case 10:return Bo(l.type),null;case 22:case 23:return Ks(l),sd(),s!==null&&le(Qa),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Bo(Fi),null;case 25:return null;default:return null}}function Vu(s,l){switch(Cg(l),l.tag){case 3:Bo(Fi),Qe();break;case 26:case 27:case 5:Ge(l);break;case 4:Qe();break;case 13:Ks(l);break;case 19:le(Pi);break;case 10:Bo(l.type);break;case 22:case 23:Ks(l),sd(),s!==null&&le(Qa);break;case 24:Bo(Fi)}}function Ac(s,l){try{var h=l.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var C=v.next;h=C;do{if((h.tag&s)===s){v=void 0;var U=h.create,X=h.inst;v=U(),X.destroy=v}h=h.next}while(h!==C)}}catch(ee){ge(l,l.return,ee)}}function Na(s,l,h){try{var v=l.updateQueue,C=v!==null?v.lastEffect:null;if(C!==null){var U=C.next;v=U;do{if((v.tag&s)===s){var X=v.inst,ee=X.destroy;if(ee!==void 0){X.destroy=void 0,C=l;var ce=h,Pe=ee;try{Pe()}catch(Ze){ge(C,ce,Ze)}}}v=v.next}while(v!==U)}}catch(Ze){ge(l,l.return,Ze)}}function wc(s){var l=s.updateQueue;if(l!==null){var h=s.stateNode;try{Q0(l,h)}catch(v){ge(s,s.return,v)}}}function Wo(s,l,h){h.props=Zs(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(v){ge(s,l,v)}}function Cc(s,l){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var v=s.stateNode;break;case 30:v=s.stateNode;break;default:v=s.stateNode}typeof h=="function"?s.refCleanup=h(v):h.current=v}}catch(C){ge(s,l,C)}}function eo(s,l){var h=s.ref,v=s.refCleanup;if(h!==null)if(typeof v=="function")try{v()}catch(C){ge(s,l,C)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(C){ge(s,l,C)}else h.current=null}function ku(s){var l=s.type,h=s.memoizedProps,v=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&v.focus();break e;case"img":h.src?v.src=h.src:h.srcSet&&(v.srcset=h.srcSet)}}catch(C){ge(s,s.return,C)}}function md(s,l,h){try{var v=s.stateNode;Iz(v,s.type,h,l),v[di]=l}catch(C){ge(s,s.return,C)}}function gd(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&$u(s.type)||s.tag===4}function Pl(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||gd(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&$u(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ul(s,l,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(s),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Hb));else if(v!==4&&(v===27&&$u(s.type)&&(h=s.stateNode,l=null),s=s.child,s!==null))for(Ul(s,l,h),s=s.sibling;s!==null;)Ul(s,l,h),s=s.sibling}function Ll(s,l,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(v!==4&&(v===27&&$u(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(Ll(s,l,h),s=s.sibling;s!==null;)Ll(s,l,h),s=s.sibling}function Il(s){var l=s.stateNode,h=s.memoizedProps;try{for(var v=s.type,C=l.attributes;C.length;)l.removeAttributeNode(C[0]);Xr(l,v,h),l[Qn]=s,l[di]=h}catch(U){ge(s,s.return,U)}}var to=!1,oi=!1,Gu=!1,Pa=typeof WeakSet=="function"?WeakSet:Set,ni=null;function Yi(s,l){if(s=s.containerInfo,AM=Xb,s=bg(s),qf(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var C=v.anchorOffset,U=v.focusNode;v=v.focusOffset;try{h.nodeType,U.nodeType}catch{h=null;break e}var X=0,ee=-1,ce=-1,Pe=0,Ze=0,it=s,Ie=null;t:for(;;){for(var Fe;it!==h||C!==0&&it.nodeType!==3||(ee=X+C),it!==U||v!==0&&it.nodeType!==3||(ce=X+v),it.nodeType===3&&(X+=it.nodeValue.length),(Fe=it.firstChild)!==null;)Ie=it,it=Fe;for(;;){if(it===s)break t;if(Ie===h&&++Pe===C&&(ee=X),Ie===U&&++Ze===v&&(ce=X),(Fe=it.nextSibling)!==null)break;it=Ie,Ie=it.parentNode}it=Fe}h=ee===-1||ce===-1?null:{start:ee,end:ce}}else h=null}h=h||{start:0,end:0}}else h=null;for(wM={focusedElem:s,selectionRange:h},Xb=!1,ni=l;ni!==null;)if(l=ni,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,ni=s;else for(;ni!==null;){switch(l=ni,U=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&U!==null){s=void 0,h=l,C=U.memoizedProps,U=U.memoizedState,v=h.stateNode;try{var Kt=Zs(h.type,C,h.elementType===h.type);s=v.getSnapshotBeforeUpdate(Kt,U),v.__reactInternalSnapshotBeforeUpdate=s}catch(jt){ge(h,h.return,jt)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,h=s.nodeType,h===9)OM(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":OM(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=l.sibling,s!==null){s.return=l.return,ni=s;break}ni=l.return}}function Xo(s,l,h){var v=h.flags;switch(h.tag){case 0:case 11:case 15:jr(s,h),v&4&&Ac(5,h);break;case 1:if(jr(s,h),v&4)if(s=h.stateNode,l===null)try{s.componentDidMount()}catch(X){ge(h,h.return,X)}else{var C=Zs(h.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(C,l,s.__reactInternalSnapshotBeforeUpdate)}catch(X){ge(h,h.return,X)}}v&64&&wc(h),v&512&&Cc(h,h.return);break;case 3:if(jr(s,h),v&64&&(s=h.updateQueue,s!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{Q0(s,l)}catch(X){ge(h,h.return,X)}}break;case 27:l===null&&v&4&&Il(h);case 26:case 5:jr(s,h),l===null&&v&4&&ku(h),v&512&&Cc(h,h.return);break;case 12:jr(s,h);break;case 13:jr(s,h),v&4&&zl(s,h),v&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=pi.bind(null,h),Gz(s,h))));break;case 22:if(v=h.memoizedState!==null||to,!v){l=l!==null&&l.memoizedState!==null||oi,C=to;var U=oi;to=v,(oi=l)&&!U?no(s,h,(h.subtreeFlags&8772)!==0):jr(s,h),to=C,oi=U}break;case 30:break;default:jr(s,h)}}function cn(s){var l=s.alternate;l!==null&&(s.alternate=null,cn(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Qt(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ht=null,Dn=!1;function ns(s,l,h){for(h=h.child;h!==null;)Rc(s,l,h),h=h.sibling}function Rc(s,l,h){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Le,h)}catch{}switch(h.tag){case 26:oi||eo(h,l),ns(s,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:oi||eo(h,l);var v=Ht,C=Dn;$u(h.type)&&(Ht=h.stateNode,Dn=!1),ns(s,l,h),oy(h.stateNode),Ht=v,Dn=C;break;case 5:oi||eo(h,l);case 6:if(v=Ht,C=Dn,Ht=null,ns(s,l,h),Ht=v,Dn=C,Ht!==null)if(Dn)try{(Ht.nodeType===9?Ht.body:Ht.nodeName==="HTML"?Ht.ownerDocument.body:Ht).removeChild(h.stateNode)}catch(U){ge(h,l,U)}else try{Ht.removeChild(h.stateNode)}catch(U){ge(h,l,U)}break;case 18:Ht!==null&&(Dn?(s=Ht,JC(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),my(s)):JC(Ht,h.stateNode));break;case 4:v=Ht,C=Dn,Ht=h.stateNode.containerInfo,Dn=!0,ns(s,l,h),Ht=v,Dn=C;break;case 0:case 11:case 14:case 15:oi||Na(2,h,l),oi||Na(4,h,l),ns(s,l,h);break;case 1:oi||(eo(h,l),v=h.stateNode,typeof v.componentWillUnmount=="function"&&Wo(h,l,v)),ns(s,l,h);break;case 21:ns(s,l,h);break;case 22:oi=(v=oi)||h.memoizedState!==null,ns(s,l,h),oi=v;break;default:ns(s,l,h)}}function zl(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{my(s)}catch(h){ge(l,l.return,h)}}function vp(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new Pa),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new Pa),l;default:throw Error(i(435,s.tag))}}function Oc(s,l){var h=vp(s);l.forEach(function(v){var C=$t.bind(null,s,v);h.has(v)||(h.add(v),v.then(C,C))})}function fr(s,l){var h=l.deletions;if(h!==null)for(var v=0;v<h.length;v++){var C=h[v],U=s,X=l,ee=X;e:for(;ee!==null;){switch(ee.tag){case 27:if($u(ee.type)){Ht=ee.stateNode,Dn=!1;break e}break;case 5:Ht=ee.stateNode,Dn=!1;break e;case 3:case 4:Ht=ee.stateNode.containerInfo,Dn=!0;break e}ee=ee.return}if(Ht===null)throw Error(i(160));Rc(U,X,C),Ht=null,Dn=!1,U=C.alternate,U!==null&&(U.return=null),C.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)bp(l,s),l=l.sibling}var Ts=null;function bp(s,l){var h=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:fr(l,s),Ai(s),v&4&&(Na(3,s,s.return),Ac(3,s),Na(5,s,s.return));break;case 1:fr(l,s),Ai(s),v&512&&(oi||h===null||eo(h,h.return)),v&64&&to&&(s=s.updateQueue,s!==null&&(v=s.callbacks,v!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?v:h.concat(v))));break;case 26:var C=Ts;if(fr(l,s),Ai(s),v&512&&(oi||h===null||eo(h,h.return)),v&4){var U=h!==null?h.memoizedState:null;if(v=s.memoizedState,h===null)if(v===null)if(s.stateNode===null){e:{v=s.type,h=s.memoizedProps,C=C.ownerDocument||C;t:switch(v){case"title":U=C.getElementsByTagName("title")[0],(!U||U[rr]||U[Qn]||U.namespaceURI==="http://www.w3.org/2000/svg"||U.hasAttribute("itemprop"))&&(U=C.createElement(v),C.head.insertBefore(U,C.querySelector("head > title"))),Xr(U,v,h),U[Qn]=s,Ve(U),v=U;break e;case"link":var X=oR("link","href",C).get(v+(h.href||""));if(X){for(var ee=0;ee<X.length;ee++)if(U=X[ee],U.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&U.getAttribute("rel")===(h.rel==null?null:h.rel)&&U.getAttribute("title")===(h.title==null?null:h.title)&&U.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){X.splice(ee,1);break t}}U=C.createElement(v),Xr(U,v,h),C.head.appendChild(U);break;case"meta":if(X=oR("meta","content",C).get(v+(h.content||""))){for(ee=0;ee<X.length;ee++)if(U=X[ee],U.getAttribute("content")===(h.content==null?null:""+h.content)&&U.getAttribute("name")===(h.name==null?null:h.name)&&U.getAttribute("property")===(h.property==null?null:h.property)&&U.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&U.getAttribute("charset")===(h.charSet==null?null:h.charSet)){X.splice(ee,1);break t}}U=C.createElement(v),Xr(U,v,h),C.head.appendChild(U);break;default:throw Error(i(468,v))}U[Qn]=s,Ve(U),v=U}s.stateNode=v}else lR(C,s.type,s.stateNode);else s.stateNode=sR(C,v,s.memoizedProps);else U!==v?(U===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):U.count--,v===null?lR(C,s.type,s.stateNode):sR(C,v,s.memoizedProps)):v===null&&s.stateNode!==null&&md(s,s.memoizedProps,h.memoizedProps)}break;case 27:fr(l,s),Ai(s),v&512&&(oi||h===null||eo(h,h.return)),h!==null&&v&4&&md(s,s.memoizedProps,h.memoizedProps);break;case 5:if(fr(l,s),Ai(s),v&512&&(oi||h===null||eo(h,h.return)),s.flags&32){C=s.stateNode;try{Br(C,"")}catch(Fe){ge(s,s.return,Fe)}}v&4&&s.stateNode!=null&&(C=s.memoizedProps,md(s,C,h!==null?h.memoizedProps:C)),v&1024&&(Gu=!0);break;case 6:if(fr(l,s),Ai(s),v&4){if(s.stateNode===null)throw Error(i(162));v=s.memoizedProps,h=s.stateNode;try{h.nodeValue=v}catch(Fe){ge(s,s.return,Fe)}}break;case 3:if(qb=null,C=Ts,Ts=kb(l.containerInfo),fr(l,s),Ts=C,Ai(s),v&4&&h!==null&&h.memoizedState.isDehydrated)try{my(l.containerInfo)}catch(Fe){ge(s,s.return,Fe)}Gu&&(Gu=!1,Bl(s));break;case 4:v=Ts,Ts=kb(s.stateNode.containerInfo),fr(l,s),Ai(s),Ts=v;break;case 12:fr(l,s),Ai(s);break;case 13:fr(l,s),Ai(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Zn=ze()),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,Oc(s,v)));break;case 22:C=s.memoizedState!==null;var ce=h!==null&&h.memoizedState!==null,Pe=to,Ze=oi;if(to=Pe||C,oi=Ze||ce,fr(l,s),oi=Ze,to=Pe,Ai(s),v&8192)e:for(l=s.stateNode,l._visibility=C?l._visibility&-2:l._visibility|1,C&&(h===null||ce||to||oi||Ua(s)),h=null,l=s;;){if(l.tag===5||l.tag===26){if(h===null){ce=h=l;try{if(U=ce.stateNode,C)X=U.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{ee=ce.stateNode;var it=ce.memoizedProps.style,Ie=it!=null&&it.hasOwnProperty("display")?it.display:null;ee.style.display=Ie==null||typeof Ie=="boolean"?"":(""+Ie).trim()}}catch(Fe){ge(ce,ce.return,Fe)}}}else if(l.tag===6){if(h===null){ce=l;try{ce.stateNode.nodeValue=C?"":ce.memoizedProps}catch(Fe){ge(ce,ce.return,Fe)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}v&4&&(v=s.updateQueue,v!==null&&(h=v.retryQueue,h!==null&&(v.retryQueue=null,Oc(s,h))));break;case 19:fr(l,s),Ai(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,Oc(s,v)));break;case 30:break;case 21:break;default:fr(l,s),Ai(s)}}function Ai(s){var l=s.flags;if(l&2){try{for(var h,v=s.return;v!==null;){if(gd(v)){h=v;break}v=v.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var C=h.stateNode,U=Pl(s);Ll(s,U,C);break;case 5:var X=h.stateNode;h.flags&32&&(Br(X,""),h.flags&=-33);var ee=Pl(s);Ll(s,ee,X);break;case 3:case 4:var ce=h.stateNode.containerInfo,Pe=Pl(s);Ul(s,Pe,ce);break;default:throw Error(i(161))}}catch(Ze){ge(s,s.return,Ze)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function Bl(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;Bl(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function jr(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Xo(s,l.alternate,l),l=l.sibling}function Ua(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Na(4,l,l.return),Ua(l);break;case 1:eo(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&Wo(l,l.return,h),Ua(l);break;case 27:oy(l.stateNode);case 26:case 5:eo(l,l.return),Ua(l);break;case 22:l.memoizedState===null&&Ua(l);break;case 30:Ua(l);break;default:Ua(l)}s=s.sibling}}function no(s,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var v=l.alternate,C=s,U=l,X=U.flags;switch(U.tag){case 0:case 11:case 15:no(C,U,h),Ac(4,U);break;case 1:if(no(C,U,h),v=U,C=v.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(Pe){ge(v,v.return,Pe)}if(v=U,C=v.updateQueue,C!==null){var ee=v.stateNode;try{var ce=C.shared.hiddenCallbacks;if(ce!==null)for(C.shared.hiddenCallbacks=null,C=0;C<ce.length;C++)Nu(ce[C],ee)}catch(Pe){ge(v,v.return,Pe)}}h&&X&64&&wc(U),Cc(U,U.return);break;case 27:Il(U);case 26:case 5:no(C,U,h),h&&v===null&&X&4&&ku(U),Cc(U,U.return);break;case 12:no(C,U,h);break;case 13:no(C,U,h),h&&X&4&&zl(C,U);break;case 22:U.memoizedState===null&&no(C,U,h),Cc(U,U.return);break;case 30:break;default:no(C,U,h)}l=l.sibling}}function xp(s,l){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&Au(h))}function Sp(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Au(s))}function ii(s,l,h,v){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)_p(s,l,h,v),l=l.sibling}function _p(s,l,h,v){var C=l.flags;switch(l.tag){case 0:case 11:case 15:ii(s,l,h,v),C&2048&&Ac(9,l);break;case 1:ii(s,l,h,v);break;case 3:ii(s,l,h,v),C&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Au(s)));break;case 12:if(C&2048){ii(s,l,h,v),s=l.stateNode;try{var U=l.memoizedProps,X=U.id,ee=U.onPostCommit;typeof ee=="function"&&ee(X,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ce){ge(l,l.return,ce)}}else ii(s,l,h,v);break;case 13:ii(s,l,h,v);break;case 23:break;case 22:U=l.stateNode,X=l.alternate,l.memoizedState!==null?U._visibility&2?ii(s,l,h,v):As(s,l):U._visibility&2?ii(s,l,h,v):(U._visibility|=2,Yo(s,l,h,v,(l.subtreeFlags&10256)!==0)),C&2048&&xp(X,l);break;case 24:ii(s,l,h,v),C&2048&&Sp(l.alternate,l);break;default:ii(s,l,h,v)}}function Yo(s,l,h,v,C){for(C=C&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var U=s,X=l,ee=h,ce=v,Pe=X.flags;switch(X.tag){case 0:case 11:case 15:Yo(U,X,ee,ce,C),Ac(8,X);break;case 23:break;case 22:var Ze=X.stateNode;X.memoizedState!==null?Ze._visibility&2?Yo(U,X,ee,ce,C):As(U,X):(Ze._visibility|=2,Yo(U,X,ee,ce,C)),C&&Pe&2048&&xp(X.alternate,X);break;case 24:Yo(U,X,ee,ce,C),C&&Pe&2048&&Sp(X.alternate,X);break;default:Yo(U,X,ee,ce,C)}l=l.sibling}}function As(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=s,v=l,C=v.flags;switch(v.tag){case 22:As(h,v),C&2048&&xp(v.alternate,v);break;case 24:As(h,v),C&2048&&Sp(v.alternate,v);break;default:As(h,v)}l=l.sibling}}var La=8192;function qu(s){if(s.subtreeFlags&La)for(s=s.child;s!==null;)Ib(s),s=s.sibling}function Ib(s){switch(s.tag){case 26:qu(s),s.flags&La&&s.memoizedState!==null&&nB(Ts,s.memoizedState,s.memoizedProps);break;case 5:qu(s);break;case 3:case 4:var l=Ts;Ts=kb(s.stateNode.containerInfo),qu(s),Ts=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=La,La=16777216,qu(s),La=l):qu(s));break;default:qu(s)}}function zb(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function li(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var v=l[h];ni=v,ro(v,s)}zb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ny(s),s=s.sibling}function ny(s){switch(s.tag){case 0:case 11:case 15:li(s),s.flags&2048&&Na(9,s,s.return);break;case 3:li(s);break;case 12:li(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,io(s)):li(s);break;default:li(s)}}function io(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var v=l[h];ni=v,ro(v,s)}zb(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Na(8,l,l.return),io(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,io(l));break;default:io(l)}s=s.sibling}}function ro(s,l){for(;ni!==null;){var h=ni;switch(h.tag){case 0:case 11:case 15:Na(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var v=h.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Au(h.memoizedState.cache)}if(v=h.child,v!==null)v.return=h,ni=v;else e:for(h=s;ni!==null;){v=ni;var C=v.sibling,U=v.return;if(cn(v),v===h){ni=null;break e}if(C!==null){C.return=U,ni=C;break e}ni=U}}}var wi={getCacheForType:function(s){var l=Ti(Fi),h=l.data.get(s);return h===void 0&&(h=s(),l.data.set(s,h)),h}},iy=typeof WeakMap=="function"?WeakMap:Map,Vn=0,en=null,pn=null,Ft=0,on=0,Mi=null,Ia=!1,ju=!1,Wu=!1,is=0,hi=0,ws=0,ao=0,Dc=0,rs=0,Nn=0,kn=null,kt=null,bn=!1,Zn=0,Nr=1/0,as=null,za=null,$i=0,Pr=null,ri=null,Ba=0,$o=0,yd=null,Fa=null,so=0,Nc=null;function Ci(){if((Vn&2)!==0&&Ft!==0)return Ft&-Ft;if(B.T!==null){var s=nn;return s!==0?s:bM()}return qt()}function Mp(){rs===0&&(rs=(Ft&536870912)===0||Un?fe():536870912);var s=ti.current;return s!==null&&(s.flags|=32),rs}function Wr(s,l,h){(s===en&&(on===2||on===9)||s.cancelPendingCommit!==null)&&(Hl(s,0),Cs(s,Ft,rs,!1)),Ye(s,h),((Vn&2)===0||s!==en)&&(s===en&&((Vn&2)===0&&(ao|=h),hi===4&&Cs(s,Ft,rs,!1)),Gl(s))}function Xu(s,l,h){if((Vn&6)!==0)throw Error(i(327));var v=!h&&(l&124)===0&&(l&s.expiredLanes)===0||Oe(s,l),C=v?R(s,l):d(s,l,!0),U=v;do{if(C===0){ju&&!v&&Cs(s,l,0,!1);break}else{if(h=s.current.alternate,U&&!Fl(h)){C=d(s,l,!1),U=!1;continue}if(C===2){if(U=l,s.errorRecoveryDisabledLanes&U)var X=0;else X=s.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){l=X;e:{var ee=s;C=kn;var ce=ee.current.memoizedState.isDehydrated;if(ce&&(Hl(ee,X).flags|=256),X=d(ee,X,!1),X!==2){if(Wu&&!ce){ee.errorRecoveryDisabledLanes|=U,ao|=U,C=4;break e}U=kt,kt=C,U!==null&&(kt===null?kt=U:kt.push.apply(kt,U))}C=X}if(U=!1,C!==2)continue}}if(C===1){Hl(s,0),Cs(s,l,0,!0);break}e:{switch(v=s,U=C,U){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:Cs(v,l,rs,!Ia);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(C=Zn+300-ze(),10<C)){if(Cs(v,l,rs,!Ia),oe(v,0,!0)!==0)break e;v.timeoutHandle=KC(vd.bind(null,v,h,kt,as,bn,l,rs,ao,Nn,Ia,U,2,-0,0),C);break e}vd(v,h,kt,as,bn,l,rs,ao,Nn,Ia,U,0,-0,0)}}break}while(!0);Gl(s)}function vd(s,l,h,v,C,U,X,ee,ce,Pe,Ze,it,Ie,Fe){if(s.timeoutHandle=-1,it=l.subtreeFlags,(it&8192||(it&16785408)===16785408)&&(uy={stylesheets:null,count:0,unsuspend:tB},Ib(l),it=iB(),it!==null)){s.cancelPendingCommit=it(dt.bind(null,s,l,U,h,v,C,X,ee,ce,Ze,1,Ie,Fe)),Cs(s,U,X,!Pe);return}dt(s,l,U,h,v,C,X,ee,ce)}function Fl(s){for(var l=s;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var v=0;v<h.length;v++){var C=h[v],U=C.getSnapshot;C=C.value;try{if(!sa(U(),C))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Cs(s,l,h,v){l&=~Dc,l&=~ao,s.suspendedLanes|=l,s.pingedLanes&=~l,v&&(s.warmLanes|=l),v=s.expirationTimes;for(var C=l;0<C;){var U=31-bt(C),X=1<<U;v[U]=-1,C&=~X}h!==0&&mt(s,h,l)}function oo(){return(Vn&6)===0?(ry(0),!1):!0}function Pc(){if(pn!==null){if(on===0)var s=pn.return;else s=pn,zo=Ml=null,Fg(s),yc=null,ud=0,s=pn;for(;s!==null;)Vu(s.alternate,s),s=s.return;pn=null}}function Hl(s,l){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,Bz(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),Pc(),en=s,pn=h=Di(s.current,null),Ft=l,on=0,Mi=null,Ia=!1,ju=Oe(s,l),Wu=!1,Nn=rs=Dc=ao=ws=hi=0,kt=kn=null,bn=!1,(l&8)!==0&&(l|=l&32);var v=s.entangledLanes;if(v!==0)for(s=s.entanglements,v&=l;0<v;){var C=31-bt(v),U=1<<C;l|=s[C],v&=~U}return is=l,Xf(),h}function Ep(s,l){rn=null,B.H=cd,l===id||l===bs?(l=Ug(),on=3):l===Pg?(l=Ug(),on=4):on=l===Lb?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Mi=l,pn===null&&(hi=1,mp(s,Sr(l,s.current)))}function Yu(){var s=B.H;return B.H=cd,s===null?cd:s}function Tp(){var s=B.A;return B.A=wi,s}function u(){hi=4,Ia||(Ft&4194048)!==Ft&&ti.current!==null||(ju=!0),(ws&134217727)===0&&(ao&134217727)===0||en===null||Cs(en,Ft,rs,!1)}function d(s,l,h){var v=Vn;Vn|=2;var C=Yu(),U=Tp();(en!==s||Ft!==l)&&(as=null,Hl(s,l)),l=!1;var X=hi;e:do try{if(on!==0&&pn!==null){var ee=pn,ce=Mi;switch(on){case 8:Pc(),X=6;break e;case 3:case 2:case 9:case 6:ti.current===null&&(l=!0);var Pe=on;if(on=0,Mi=null,ue(s,ee,ce,Pe),h&&ju){X=0;break e}break;default:Pe=on,on=0,Mi=null,ue(s,ee,ce,Pe)}}S(),X=hi;break}catch(Ze){Ep(s,Ze)}while(!0);return l&&s.shellSuspendCounter++,zo=Ml=null,Vn=v,B.H=C,B.A=U,pn===null&&(en=null,Ft=0,Xf()),X}function S(){for(;pn!==null;)k(pn)}function R(s,l){var h=Vn;Vn|=2;var v=Yu(),C=Tp();en!==s||Ft!==l?(as=null,Nr=ze()+500,Hl(s,l)):ju=Oe(s,l);e:do try{if(on!==0&&pn!==null){l=pn;var U=Mi;t:switch(on){case 1:on=0,Mi=null,ue(s,l,U,1);break;case 2:case 9:if(ep(U)){on=0,Mi=null,ne(l);break}l=function(){on!==2&&on!==9||en!==s||(on=7),Gl(s)},U.then(l,l);break e;case 3:on=7;break e;case 4:on=5;break e;case 7:ep(U)?(on=0,Mi=null,ne(l)):(on=0,Mi=null,ue(s,l,U,7));break;case 5:var X=null;switch(pn.tag){case 26:X=pn.memoizedState;case 5:case 27:var ee=pn;if(!X||cR(X)){on=0,Mi=null;var ce=ee.sibling;if(ce!==null)pn=ce;else{var Pe=ee.return;Pe!==null?(pn=Pe,Me(Pe)):pn=null}break t}}on=0,Mi=null,ue(s,l,U,5);break;case 6:on=0,Mi=null,ue(s,l,U,6);break;case 8:Pc(),hi=6;break e;default:throw Error(i(462))}}I();break}catch(Ze){Ep(s,Ze)}while(!0);return zo=Ml=null,B.H=v,B.A=C,Vn=h,pn!==null?0:(en=null,Ft=0,Xf(),hi)}function I(){for(;pn!==null&&!We();)k(pn)}function k(s){var l=Ec(s.alternate,s,is);s.memoizedProps=s.pendingProps,l===null?Me(s):pn=l}function ne(s){var l=s,h=l.alternate;switch(l.tag){case 15:case 0:l=Oa(h,l,l.pendingProps,l.type,void 0,Ft);break;case 11:l=Oa(h,l,l.pendingProps,l.type.render,l.ref,Ft);break;case 5:Fg(l);default:Vu(h,l),l=pn=Ag(l,is),l=Ec(h,l,is)}s.memoizedProps=s.pendingProps,l===null?Me(s):pn=l}function ue(s,l,h,v){zo=Ml=null,Fg(l),yc=null,ud=0;var C=l.return;try{if(yM(s,C,l,h,Ft)){hi=1,mp(s,Sr(h,s.current)),pn=null;return}}catch(U){if(C!==null)throw pn=C,U;hi=1,mp(s,Sr(h,s.current)),pn=null;return}l.flags&32768?(Un||v===1?s=!0:ju||(Ft&536870912)!==0?s=!1:(Ia=s=!0,(v===2||v===9||v===3||v===6)&&(v=ti.current,v!==null&&v.tag===13&&(v.flags|=16384))),Ke(l,s)):Me(l)}function Me(s){var l=s;do{if((l.flags&32768)!==0){Ke(l,Ia);return}s=l.return;var h=ty(l.alternate,l,is);if(h!==null){pn=h;return}if(l=l.sibling,l!==null){pn=l;return}pn=l=s}while(l!==null);hi===0&&(hi=5)}function Ke(s,l){do{var h=Hu(s.alternate,s);if(h!==null){h.flags&=32767,pn=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(s=s.sibling,s!==null)){pn=s;return}pn=s=h}while(s!==null);hi=6,pn=null}function dt(s,l,h,v,C,U,X,ee,ce){s.cancelPendingCommit=null;do Vl();while($i!==0);if((Vn&6)!==0)throw Error(i(327));if(l!==null){if(l===s.current)throw Error(i(177));if(U=l.lanes|l.childLanes,U|=jh,pt(s,h,U,X,ee,ce),s===en&&(pn=en=null,Ft=0),ri=l,Pr=s,Ba=h,$o=U,yd=C,Fa=v,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Ln(te,function(){return kl(),null})):(s.callbackNode=null,s.callbackPriority=0),v=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||v){v=B.T,B.T=null,C=j.p,j.p=2,X=Vn,Vn|=4;try{Yi(s,l,h)}finally{Vn=X,j.p=C,B.T=v}}$i=1,At(),Ct(),tn()}}function At(){if($i===1){$i=0;var s=Pr,l=ri,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=B.T,B.T=null;var v=j.p;j.p=2;var C=Vn;Vn|=4;try{bp(l,s);var U=wM,X=bg(s.containerInfo),ee=U.focusedElem,ce=U.selectionRange;if(X!==ee&&ee&&ee.ownerDocument&&vg(ee.ownerDocument.documentElement,ee)){if(ce!==null&&qf(ee)){var Pe=ce.start,Ze=ce.end;if(Ze===void 0&&(Ze=Pe),"selectionStart"in ee)ee.selectionStart=Pe,ee.selectionEnd=Math.min(Ze,ee.value.length);else{var it=ee.ownerDocument||document,Ie=it&&it.defaultView||window;if(Ie.getSelection){var Fe=Ie.getSelection(),Kt=ee.textContent.length,jt=Math.min(ce.start,Kt),ui=ce.end===void 0?jt:Math.min(ce.end,Kt);!Fe.extend&&jt>ui&&(X=ui,ui=jt,jt=X);var _e=yg(ee,jt),ye=yg(ee,ui);if(_e&&ye&&(Fe.rangeCount!==1||Fe.anchorNode!==_e.node||Fe.anchorOffset!==_e.offset||Fe.focusNode!==ye.node||Fe.focusOffset!==ye.offset)){var Ce=it.createRange();Ce.setStart(_e.node,_e.offset),Fe.removeAllRanges(),jt>ui?(Fe.addRange(Ce),Fe.extend(ye.node,ye.offset)):(Ce.setEnd(ye.node,ye.offset),Fe.addRange(Ce))}}}}for(it=[],Fe=ee;Fe=Fe.parentNode;)Fe.nodeType===1&&it.push({element:Fe,left:Fe.scrollLeft,top:Fe.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<it.length;ee++){var tt=it[ee];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Xb=!!AM,wM=AM=null}finally{Vn=C,j.p=v,B.T=h}}s.current=l,$i=2}}function Ct(){if($i===2){$i=0;var s=Pr,l=ri,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=B.T,B.T=null;var v=j.p;j.p=2;var C=Vn;Vn|=4;try{Xo(s,l.alternate,l)}finally{Vn=C,j.p=v,B.T=h}}$i=3}}function tn(){if($i===4||$i===3){$i=0,Re();var s=Pr,l=ri,h=Ba,v=Fa;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?$i=5:($i=0,ri=Pr=null,Ha(s,s.pendingLanes));var C=s.pendingLanes;if(C===0&&(za=null),Sn(h),l=l.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Le,l,void 0,(l.current.flags&128)===128)}catch{}if(v!==null){l=B.T,C=j.p,j.p=2,B.T=null;try{for(var U=s.onRecoverableError,X=0;X<v.length;X++){var ee=v[X];U(ee.value,{componentStack:ee.stack})}}finally{B.T=l,j.p=C}}(Ba&3)!==0&&Vl(),Gl(s),C=s.pendingLanes,(h&4194090)!==0&&(C&42)!==0?s===Nc?so++:(so=0,Nc=s):so=0,ry(0)}}function Ha(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Au(l)))}function Vl(s){return At(),Ct(),tn(),kl()}function kl(){if($i!==5)return!1;var s=Pr,l=$o;$o=0;var h=Sn(Ba),v=B.T,C=j.p;try{j.p=32>h?32:h,B.T=null,h=yd,yd=null;var U=Pr,X=Ba;if($i=0,ri=Pr=null,Ba=0,(Vn&6)!==0)throw Error(i(331));var ee=Vn;if(Vn|=4,ny(U.current),_p(U,U.current,X,h),Vn=ee,ry(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Le,U)}catch{}return!0}finally{j.p=C,B.T=v,Ha(s,l)}}function Ue(s,l,h){l=Sr(h,l),l=gp(s.stateNode,l,2),s=Ho(s,l,2),s!==null&&(Ye(s,2),Gl(s))}function ge(s,l,h){if(s.tag===3)Ue(s,s,h);else for(;l!==null;){if(l.tag===3){Ue(l,s,h);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(za===null||!za.has(v))){s=Sr(h,s),h=Ub(2),v=Ho(l,h,2),v!==null&&(yp(h,v,l,s),Ye(v,2),Gl(v));break}}l=l.return}}function He(s,l,h){var v=s.pingCache;if(v===null){v=s.pingCache=new iy;var C=new Set;v.set(l,C)}else C=v.get(l),C===void 0&&(C=new Set,v.set(l,C));C.has(h)||(Wu=!0,C.add(h),s=lt.bind(null,s,l,h),l.then(s,s))}function lt(s,l,h){var v=s.pingCache;v!==null&&v.delete(l),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,en===s&&(Ft&h)===h&&(hi===4||hi===3&&(Ft&62914560)===Ft&&300>ze()-Zn?(Vn&2)===0&&Hl(s,0):Dc|=h,Nn===Ft&&(Nn=0)),Gl(s)}function It(s,l){l===0&&(l=st()),s=Lo(s,l),s!==null&&(Ye(s,l),Gl(s))}function pi(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),It(s,h)}function $t(s,l){var h=0;switch(s.tag){case 13:var v=s.stateNode,C=s.memoizedState;C!==null&&(h=C.retryLane);break;case 19:v=s.stateNode;break;case 22:v=s.stateNode._retryCache;break;default:throw Error(i(314))}v!==null&&v.delete(l),It(s,h)}function Ln(s,l){return nt(s,l)}var Li=null,yn=null,lo=!1,Ap=!1,vM=!1,bd=0;function Gl(s){s!==yn&&s.next===null&&(yn===null?Li=yn=s:yn=yn.next=s),Ap=!0,lo||(lo=!0,Rz())}function ry(s,l){if(!vM&&Ap){vM=!0;do for(var h=!1,v=Li;v!==null;){if(s!==0){var C=v.pendingLanes;if(C===0)var U=0;else{var X=v.suspendedLanes,ee=v.pingedLanes;U=(1<<31-bt(42|s)+1)-1,U&=C&~(X&~ee),U=U&201326741?U&201326741|1:U?U|2:0}U!==0&&(h=!0,VC(v,U))}else U=Ft,U=oe(v,v===en?U:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(U&3)===0||Oe(v,U)||(h=!0,VC(v,U));v=v.next}while(h);vM=!1}}function Cz(){BC()}function BC(){Ap=lo=!1;var s=0;bd!==0&&(zz()&&(s=bd),bd=0);for(var l=ze(),h=null,v=Li;v!==null;){var C=v.next,U=FC(v,l);U===0?(v.next=null,h===null?Li=C:h.next=C,C===null&&(yn=h)):(h=v,(s!==0||(U&3)!==0)&&(Ap=!0)),v=C}ry(s)}function FC(s,l){for(var h=s.suspendedLanes,v=s.pingedLanes,C=s.expirationTimes,U=s.pendingLanes&-62914561;0<U;){var X=31-bt(U),ee=1<<X,ce=C[X];ce===-1?((ee&h)===0||(ee&v)!==0)&&(C[X]=ft(ee,l)):ce<=l&&(s.expiredLanes|=ee),U&=~ee}if(l=en,h=Ft,h=oe(s,s===l?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v=s.callbackNode,h===0||s===l&&(on===2||on===9)||s.cancelPendingCommit!==null)return v!==null&&v!==null&&J(v),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||Oe(s,h)){if(l=h&-h,l===s.callbackPriority)return l;switch(v!==null&&J(v),Sn(h)){case 2:case 8:h=Ae;break;case 32:h=te;break;case 268435456:h=be;break;default:h=te}return v=HC.bind(null,s),h=nt(h,v),s.callbackPriority=l,s.callbackNode=h,l}return v!==null&&v!==null&&J(v),s.callbackPriority=2,s.callbackNode=null,2}function HC(s,l){if($i!==0&&$i!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(Vl()&&s.callbackNode!==h)return null;var v=Ft;return v=oe(s,s===en?v:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v===0?null:(Xu(s,v,l),FC(s,ze()),s.callbackNode!=null&&s.callbackNode===h?HC.bind(null,s):null)}function VC(s,l){if(Vl())return null;Xu(s,l,!0)}function Rz(){Fz(function(){(Vn&6)!==0?nt(ot,Cz):BC()})}function bM(){return bd===0&&(bd=fe()),bd}function kC(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Df(""+s)}function GC(s,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,s.id&&h.setAttribute("form",s.id),l.parentNode.insertBefore(h,l),s=new FormData(s),h.parentNode.removeChild(h),s}function Oz(s,l,h,v,C){if(l==="submit"&&h&&h.stateNode===C){var U=kC((C[di]||null).action),X=v.submitter;X&&(l=(l=X[di]||null)?kC(l.formAction):X.getAttribute("formAction"),l!==null&&(U=l,X=null));var ee=new hu("action","action",null,v,C);s.push({event:ee,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(bd!==0){var ce=X?GC(C,X):new FormData(C);Kg(h,{pending:!0,data:ce,method:C.method,action:U},null,ce)}}else typeof U=="function"&&(ee.preventDefault(),ce=X?GC(C,X):new FormData(C),Kg(h,{pending:!0,data:ce,method:C.method,action:U},U,ce))},currentTarget:C}]})}}for(var xM=0;xM<Wf.length;xM++){var SM=Wf[xM],Dz=SM.toLowerCase(),Nz=SM[0].toUpperCase()+SM.slice(1);or(Dz,"on"+Nz)}or(Hr,"onAnimationEnd"),or(_g,"onAnimationIteration"),or(la,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(W0,"onTransitionRun"),or(Po,"onTransitionStart"),or(Su,"onTransitionCancel"),or(Uo,"onTransitionEnd"),Z("onMouseEnter",["mouseout","mouseover"]),Z("onMouseLeave",["mouseout","mouseover"]),Z("onPointerEnter",["pointerout","pointerover"]),Z("onPointerLeave",["pointerout","pointerover"]),Vt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ay="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ay));function qC(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var v=s[h],C=v.event;v=v.listeners;e:{var U=void 0;if(l)for(var X=v.length-1;0<=X;X--){var ee=v[X],ce=ee.instance,Pe=ee.currentTarget;if(ee=ee.listener,ce!==U&&C.isPropagationStopped())break e;U=ee,C.currentTarget=Pe;try{U(C)}catch(Ze){bc(Ze)}C.currentTarget=null,U=ce}else for(X=0;X<v.length;X++){if(ee=v[X],ce=ee.instance,Pe=ee.currentTarget,ee=ee.listener,ce!==U&&C.isPropagationStopped())break e;U=ee,C.currentTarget=Pe;try{U(C)}catch(Ze){bc(Ze)}C.currentTarget=null,U=ce}}}}function _n(s,l){var h=l[nr];h===void 0&&(h=l[nr]=new Set);var v=s+"__bubble";h.has(v)||(jC(l,s,2,!1),h.add(v))}function _M(s,l,h){var v=0;l&&(v|=4),jC(h,s,v,l)}var Bb="_reactListening"+Math.random().toString(36).slice(2);function MM(s){if(!s[Bb]){s[Bb]=!0,je.forEach(function(h){h!=="selectionchange"&&(Pz.has(h)||_M(h,!1,s),_M(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Bb]||(l[Bb]=!0,_M("selectionchange",!1,l))}}function jC(s,l,h,v){switch(mR(l)){case 2:var C=sB;break;case 8:C=oB;break;default:C=zM}h=C.bind(null,l,h,s),C=void 0,!Pf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(C=!0),v?C!==void 0?s.addEventListener(l,h,{capture:!0,passive:C}):s.addEventListener(l,h,!0):C!==void 0?s.addEventListener(l,h,{passive:C}):s.addEventListener(l,h,!1)}function EM(s,l,h,v,C){var U=v;if((l&1)===0&&(l&2)===0&&v!==null)e:for(;;){if(v===null)return;var X=v.tag;if(X===3||X===4){var ee=v.stateNode.containerInfo;if(ee===C)break;if(X===4)for(X=v.return;X!==null;){var ce=X.tag;if((ce===3||ce===4)&&X.stateNode.containerInfo===C)return;X=X.return}for(;ee!==null;){if(X=Fn(ee),X===null)return;if(ce=X.tag,ce===5||ce===6||ce===26||ce===27){v=U=X;continue e}ee=ee.parentNode}}v=v.return}ag(function(){var Pe=U,Ze=Nh(h),it=[];e:{var Ie=qh.get(s);if(Ie!==void 0){var Fe=hu,Kt=s;switch(s){case"keypress":if(fl(h)===0)break e;case"keydown":case"keyup":Fe=ug;break;case"focusin":Kt="focus",Fe=Uh;break;case"focusout":Kt="blur",Fe=Uh;break;case"beforeblur":case"afterblur":Fe=Uh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=lg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=sM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=dg;break;case Hr:case _g:case la:Fe=D0;break;case Uo:Fe=Ro;break;case"scroll":case"scrollend":Fe=C0;break;case"wheel":Fe=oM;break;case"copy":case"cut":case"paste":Fe=P0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=Ih;break;case"toggle":case"beforetoggle":Fe=hl}var jt=(l&4)!==0,ui=!jt&&(s==="scroll"||s==="scrollend"),_e=jt?Ie!==null?Ie+"Capture":null:Ie;jt=[];for(var ye=Pe,Ce;ye!==null;){var tt=ye;if(Ce=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||Ce===null||_e===null||(tt=uu(ye,_e),tt!=null&&jt.push(sy(ye,tt,Ce))),ui)break;ye=ye.return}0<jt.length&&(Ie=new Fe(Ie,Kt,null,h,Ze),it.push({event:Ie,listeners:jt}))}}if((l&7)===0){e:{if(Ie=s==="mouseover"||s==="pointerover",Fe=s==="mouseout"||s==="pointerout",Ie&&h!==Dh&&(Kt=h.relatedTarget||h.fromElement)&&(Fn(Kt)||Kt[Ei]))break e;if((Fe||Ie)&&(Ie=Ze.window===Ze?Ze:(Ie=Ze.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,Fe?(Kt=h.relatedTarget||h.toElement,Fe=Pe,Kt=Kt?Fn(Kt):null,Kt!==null&&(ui=a(Kt),jt=Kt.tag,Kt!==ui||jt!==5&&jt!==27&&jt!==6)&&(Kt=null)):(Fe=null,Kt=Pe),Fe!==Kt)){if(jt=lg,tt="onMouseLeave",_e="onMouseEnter",ye="mouse",(s==="pointerout"||s==="pointerover")&&(jt=Ih,tt="onPointerLeave",_e="onPointerEnter",ye="pointer"),ui=Fe==null?Ie:ia(Fe),Ce=Kt==null?Ie:ia(Kt),Ie=new jt(tt,ye+"leave",Fe,h,Ze),Ie.target=ui,Ie.relatedTarget=Ce,tt=null,Fn(Ze)===Pe&&(jt=new jt(_e,ye+"enter",Kt,h,Ze),jt.target=Ce,jt.relatedTarget=ui,tt=jt),ui=tt,Fe&&Kt)t:{for(jt=Fe,_e=Kt,ye=0,Ce=jt;Ce;Ce=wp(Ce))ye++;for(Ce=0,tt=_e;tt;tt=wp(tt))Ce++;for(;0<ye-Ce;)jt=wp(jt),ye--;for(;0<Ce-ye;)_e=wp(_e),Ce--;for(;ye--;){if(jt===_e||_e!==null&&jt===_e.alternate)break t;jt=wp(jt),_e=wp(_e)}jt=null}else jt=null;Fe!==null&&WC(it,Ie,Fe,jt,!1),Kt!==null&&ui!==null&&WC(it,ui,Kt,jt,!0)}}e:{if(Ie=Pe?ia(Pe):window,Fe=Ie.nodeName&&Ie.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Ie.type==="file")var Ut=Bh;else if(gg(Ie))if(Fh)Ut=gl;else{Ut=G0;var xn=lM}else Fe=Ie.nodeName,!Fe||Fe.toLowerCase()!=="input"||Ie.type!=="checkbox"&&Ie.type!=="radio"?Pe&&Oh(Pe.elementType)&&(Ut=Bh):Ut=Gf;if(Ut&&(Ut=Ut(s,Pe))){aa(it,Ut,h,Ze);break e}xn&&xn(s,Ie,Pe),s==="focusout"&&Pe&&Ie.type==="number"&&Pe.memoizedProps.value!=null&&yr(Ie,"number",Ie.value)}switch(xn=Pe?ia(Pe):window,s){case"focusin":(gg(xn)||xn.contentEditable==="true")&&(Do=xn,Vh=Pe,jf=null);break;case"focusout":jf=Vh=Do=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,Sg(it,h,Ze);break;case"selectionchange":if(xg)break;case"keydown":case"keyup":Sg(it,h,Ze)}var zt;if(zf)e:{switch(s){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else ml?Hf(s,h)&&(Wt="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(Wt="onCompositionStart");Wt&&(Ff&&h.locale!=="ko"&&(ml||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&ml&&(zt=og()):(wo=Ze,sg="value"in wo?wo.value:wo.textContent,ml=!0)),xn=Fb(Pe,Wt),0<xn.length&&(Wt=new Lh(Wt,s,null,h,Ze),it.push({event:Wt,listeners:xn}),zt?Wt.data=zt:(zt=pg(h),zt!==null&&(Wt.data=zt)))),(zt=Bf?Vf(s,h):mg(s,h))&&(Wt=Fb(Pe,"onBeforeInput"),0<Wt.length&&(xn=new Lh("onBeforeInput","beforeinput",null,h,Ze),it.push({event:xn,listeners:Wt}),xn.data=zt)),Oz(it,s,Pe,h,Ze)}qC(it,l)})}function sy(s,l,h){return{instance:s,listener:l,currentTarget:h}}function Fb(s,l){for(var h=l+"Capture",v=[];s!==null;){var C=s,U=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||U===null||(C=uu(s,h),C!=null&&v.unshift(sy(s,C,U)),C=uu(s,l),C!=null&&v.push(sy(s,C,U))),s.tag===3)return v;s=s.return}return[]}function wp(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function WC(s,l,h,v,C){for(var U=l._reactName,X=[];h!==null&&h!==v;){var ee=h,ce=ee.alternate,Pe=ee.stateNode;if(ee=ee.tag,ce!==null&&ce===v)break;ee!==5&&ee!==26&&ee!==27||Pe===null||(ce=Pe,C?(Pe=uu(h,U),Pe!=null&&X.unshift(sy(h,Pe,ce))):C||(Pe=uu(h,U),Pe!=null&&X.push(sy(h,Pe,ce)))),h=h.return}X.length!==0&&s.push({event:l,listeners:X})}var Uz=/\r\n?/g,Lz=/\u0000|\uFFFD/g;function XC(s){return(typeof s=="string"?s:""+s).replace(Uz,`
`).replace(Lz,"")}function YC(s,l){return l=XC(l),XC(s)===l}function Hb(){}function ci(s,l,h,v,C,U){switch(h){case"children":typeof v=="string"?l==="body"||l==="textarea"&&v===""||Br(s,v):(typeof v=="number"||typeof v=="bigint")&&l!=="body"&&Br(s,""+v);break;case"className":gt(s,"class",v);break;case"tabIndex":gt(s,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":gt(s,h,v);break;case"style":Of(s,v,U);break;case"data":if(l!=="object"){gt(s,"data",v);break}case"src":case"href":if(v===""&&(l!=="a"||h!=="href")){s.removeAttribute(h);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(h);break}v=Df(""+v),s.setAttribute(h,v);break;case"action":case"formAction":if(typeof v=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof U=="function"&&(h==="formAction"?(l!=="input"&&ci(s,l,"name",C.name,C,null),ci(s,l,"formEncType",C.formEncType,C,null),ci(s,l,"formMethod",C.formMethod,C,null),ci(s,l,"formTarget",C.formTarget,C,null)):(ci(s,l,"encType",C.encType,C,null),ci(s,l,"method",C.method,C,null),ci(s,l,"target",C.target,C,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(h);break}v=Df(""+v),s.setAttribute(h,v);break;case"onClick":v!=null&&(s.onclick=Hb);break;case"onScroll":v!=null&&_n("scroll",s);break;case"onScrollEnd":v!=null&&_n("scrollend",s);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(h=v.__html,h!=null){if(C.children!=null)throw Error(i(60));s.innerHTML=h}}break;case"multiple":s.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":s.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){s.removeAttribute("xlink:href");break}h=Df(""+v),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(h,""+v):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":v===!0?s.setAttribute(h,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(h,v):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?s.setAttribute(h,v):s.removeAttribute(h);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?s.removeAttribute(h):s.setAttribute(h,v);break;case"popover":_n("beforetoggle",s),_n("toggle",s),rt(s,"popover",v);break;case"xlinkActuate":yt(s,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":yt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":yt(s,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":yt(s,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":yt(s,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":yt(s,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":yt(s,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":yt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":yt(s,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":rt(s,"is",v);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=ig.get(h)||h,rt(s,h,v))}}function TM(s,l,h,v,C,U){switch(h){case"style":Of(s,v,U);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(h=v.__html,h!=null){if(C.children!=null)throw Error(i(60));s.innerHTML=h}}break;case"children":typeof v=="string"?Br(s,v):(typeof v=="number"||typeof v=="bigint")&&Br(s,""+v);break;case"onScroll":v!=null&&_n("scroll",s);break;case"onScrollEnd":v!=null&&_n("scrollend",s);break;case"onClick":v!=null&&(s.onclick=Hb);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Et.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(C=h.endsWith("Capture"),l=h.slice(2,C?h.length-7:void 0),U=s[di]||null,U=U!=null?U[h]:null,typeof U=="function"&&s.removeEventListener(l,U,C),typeof v=="function")){typeof U!="function"&&U!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(l,v,C);break e}h in s?s[h]=v:v===!0?s.setAttribute(h,""):rt(s,h,v)}}}function Xr(s,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_n("error",s),_n("load",s);var v=!1,C=!1,U;for(U in h)if(h.hasOwnProperty(U)){var X=h[U];if(X!=null)switch(U){case"src":v=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:ci(s,l,U,X,h,null)}}C&&ci(s,l,"srcSet",h.srcSet,h,null),v&&ci(s,l,"src",h.src,h,null);return;case"input":_n("invalid",s);var ee=U=X=C=null,ce=null,Pe=null;for(v in h)if(h.hasOwnProperty(v)){var Ze=h[v];if(Ze!=null)switch(v){case"name":C=Ze;break;case"type":X=Ze;break;case"checked":ce=Ze;break;case"defaultChecked":Pe=Ze;break;case"value":U=Ze;break;case"defaultValue":ee=Ze;break;case"children":case"dangerouslySetInnerHTML":if(Ze!=null)throw Error(i(137,l));break;default:ci(s,l,v,Ze,h,null)}}Kn(s,U,ee,ce,Pe,X,C,!1),Si(s);return;case"select":_n("invalid",s),v=X=U=null;for(C in h)if(h.hasOwnProperty(C)&&(ee=h[C],ee!=null))switch(C){case"value":U=ee;break;case"defaultValue":X=ee;break;case"multiple":v=ee;default:ci(s,l,C,ee,h,null)}l=U,h=X,s.multiple=!!v,l!=null?Bi(s,!!v,l,!1):h!=null&&Bi(s,!!v,h,!0);return;case"textarea":_n("invalid",s),U=C=v=null;for(X in h)if(h.hasOwnProperty(X)&&(ee=h[X],ee!=null))switch(X){case"value":v=ee;break;case"defaultValue":C=ee;break;case"children":U=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(91));break;default:ci(s,l,X,ee,h,null)}sr(s,v,C,U),Si(s);return;case"option":for(ce in h)if(h.hasOwnProperty(ce)&&(v=h[ce],v!=null))switch(ce){case"selected":s.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:ci(s,l,ce,v,h,null)}return;case"dialog":_n("beforetoggle",s),_n("toggle",s),_n("cancel",s),_n("close",s);break;case"iframe":case"object":_n("load",s);break;case"video":case"audio":for(v=0;v<ay.length;v++)_n(ay[v],s);break;case"image":_n("error",s),_n("load",s);break;case"details":_n("toggle",s);break;case"embed":case"source":case"link":_n("error",s),_n("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pe in h)if(h.hasOwnProperty(Pe)&&(v=h[Pe],v!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:ci(s,l,Pe,v,h,null)}return;default:if(Oh(l)){for(Ze in h)h.hasOwnProperty(Ze)&&(v=h[Ze],v!==void 0&&TM(s,l,Ze,v,h,void 0));return}}for(ee in h)h.hasOwnProperty(ee)&&(v=h[ee],v!=null&&ci(s,l,ee,v,h,null))}function Iz(s,l,h,v){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,U=null,X=null,ee=null,ce=null,Pe=null,Ze=null;for(Fe in h){var it=h[Fe];if(h.hasOwnProperty(Fe)&&it!=null)switch(Fe){case"checked":break;case"value":break;case"defaultValue":ce=it;default:v.hasOwnProperty(Fe)||ci(s,l,Fe,null,v,it)}}for(var Ie in v){var Fe=v[Ie];if(it=h[Ie],v.hasOwnProperty(Ie)&&(Fe!=null||it!=null))switch(Ie){case"type":U=Fe;break;case"name":C=Fe;break;case"checked":Pe=Fe;break;case"defaultChecked":Ze=Fe;break;case"value":X=Fe;break;case"defaultValue":ee=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(i(137,l));break;default:Fe!==it&&ci(s,l,Ie,Fe,v,it)}}qs(s,X,ee,ce,Pe,Ze,U,C);return;case"select":Fe=X=ee=Ie=null;for(U in h)if(ce=h[U],h.hasOwnProperty(U)&&ce!=null)switch(U){case"value":break;case"multiple":Fe=ce;default:v.hasOwnProperty(U)||ci(s,l,U,null,v,ce)}for(C in v)if(U=v[C],ce=h[C],v.hasOwnProperty(C)&&(U!=null||ce!=null))switch(C){case"value":Ie=U;break;case"defaultValue":ee=U;break;case"multiple":X=U;default:U!==ce&&ci(s,l,C,U,v,ce)}l=ee,h=X,v=Fe,Ie!=null?Bi(s,!!h,Ie,!1):!!v!=!!h&&(l!=null?Bi(s,!!h,l,!0):Bi(s,!!h,h?[]:"",!1));return;case"textarea":Fe=Ie=null;for(ee in h)if(C=h[ee],h.hasOwnProperty(ee)&&C!=null&&!v.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:ci(s,l,ee,null,v,C)}for(X in v)if(C=v[X],U=h[X],v.hasOwnProperty(X)&&(C!=null||U!=null))switch(X){case"value":Ie=C;break;case"defaultValue":Fe=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:C!==U&&ci(s,l,X,C,v,U)}ar(s,Ie,Fe);return;case"option":for(var Kt in h)if(Ie=h[Kt],h.hasOwnProperty(Kt)&&Ie!=null&&!v.hasOwnProperty(Kt))switch(Kt){case"selected":s.selected=!1;break;default:ci(s,l,Kt,null,v,Ie)}for(ce in v)if(Ie=v[ce],Fe=h[ce],v.hasOwnProperty(ce)&&Ie!==Fe&&(Ie!=null||Fe!=null))switch(ce){case"selected":s.selected=Ie&&typeof Ie!="function"&&typeof Ie!="symbol";break;default:ci(s,l,ce,Ie,v,Fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var jt in h)Ie=h[jt],h.hasOwnProperty(jt)&&Ie!=null&&!v.hasOwnProperty(jt)&&ci(s,l,jt,null,v,Ie);for(Pe in v)if(Ie=v[Pe],Fe=h[Pe],v.hasOwnProperty(Pe)&&Ie!==Fe&&(Ie!=null||Fe!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(i(137,l));break;default:ci(s,l,Pe,Ie,v,Fe)}return;default:if(Oh(l)){for(var ui in h)Ie=h[ui],h.hasOwnProperty(ui)&&Ie!==void 0&&!v.hasOwnProperty(ui)&&TM(s,l,ui,void 0,v,Ie);for(Ze in v)Ie=v[Ze],Fe=h[Ze],!v.hasOwnProperty(Ze)||Ie===Fe||Ie===void 0&&Fe===void 0||TM(s,l,Ze,Ie,v,Fe);return}}for(var _e in h)Ie=h[_e],h.hasOwnProperty(_e)&&Ie!=null&&!v.hasOwnProperty(_e)&&ci(s,l,_e,null,v,Ie);for(it in v)Ie=v[it],Fe=h[it],!v.hasOwnProperty(it)||Ie===Fe||Ie==null&&Fe==null||ci(s,l,it,Ie,v,Fe)}var AM=null,wM=null;function Vb(s){return s.nodeType===9?s:s.ownerDocument}function $C(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function QC(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function CM(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var RM=null;function zz(){var s=window.event;return s&&s.type==="popstate"?s===RM?!1:(RM=s,!0):(RM=null,!1)}var KC=typeof setTimeout=="function"?setTimeout:void 0,Bz=typeof clearTimeout=="function"?clearTimeout:void 0,ZC=typeof Promise=="function"?Promise:void 0,Fz=typeof queueMicrotask=="function"?queueMicrotask:typeof ZC<"u"?function(s){return ZC.resolve(null).then(s).catch(Hz)}:KC;function Hz(s){setTimeout(function(){throw s})}function $u(s){return s==="head"}function JC(s,l){var h=l,v=0,C=0;do{var U=h.nextSibling;if(s.removeChild(h),U&&U.nodeType===8)if(h=U.data,h==="/$"){if(0<v&&8>v){h=v;var X=s.ownerDocument;if(h&1&&oy(X.documentElement),h&2&&oy(X.body),h&4)for(h=X.head,oy(h),X=h.firstChild;X;){var ee=X.nextSibling,ce=X.nodeName;X[rr]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&X.rel.toLowerCase()==="stylesheet"||h.removeChild(X),X=ee}}if(C===0){s.removeChild(U),my(l);return}C--}else h==="$"||h==="$?"||h==="$!"?C++:v=h.charCodeAt(0)-48;else v=0;h=U}while(h);my(l)}function OM(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":OM(h),Qt(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function Vz(s,l,h,v){for(;s.nodeType===1;){var C=h;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!v&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(v){if(!s[rr])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(U=s.getAttribute("rel"),U==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(U!==C.rel||s.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||s.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||s.getAttribute("title")!==(C.title==null?null:C.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(U=s.getAttribute("src"),(U!==(C.src==null?null:C.src)||s.getAttribute("type")!==(C.type==null?null:C.type)||s.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&U&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var U=C.name==null?null:""+C.name;if(C.type==="hidden"&&s.getAttribute("name")===U)return s}else return s;if(s=Qo(s.nextSibling),s===null)break}return null}function kz(s,l,h){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=Qo(s.nextSibling),s===null))return null;return s}function DM(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function Gz(s,l){var h=s.ownerDocument;if(s.data!=="$?"||h.readyState==="complete")l();else{var v=function(){l(),h.removeEventListener("DOMContentLoaded",v)};h.addEventListener("DOMContentLoaded",v),s._reactRetry=v}}function Qo(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var NM=null;function eR(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return s;l--}else h==="/$"&&l++}s=s.previousSibling}return null}function tR(s,l,h){switch(l=Vb(h),s){case"html":if(s=l.documentElement,!s)throw Error(i(452));return s;case"head":if(s=l.head,!s)throw Error(i(453));return s;case"body":if(s=l.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function oy(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Qt(s)}var co=new Map,nR=new Set;function kb(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Uc=j.d;j.d={f:qz,r:jz,D:Wz,C:Xz,L:Yz,m:$z,X:Kz,S:Qz,M:Zz};function qz(){var s=Uc.f(),l=oo();return s||l}function jz(s){var l=zi(s);l!==null&&l.tag===5&&l.type==="form"?Sb(l):Uc.r(s)}var Cp=typeof document>"u"?null:document;function iR(s,l,h){var v=Cp;if(v&&typeof l=="string"&&l){var C=ei(l);C='link[rel="'+s+'"][href="'+C+'"]',typeof h=="string"&&(C+='[crossorigin="'+h+'"]'),nR.has(C)||(nR.add(C),s={rel:s,crossOrigin:h,href:l},v.querySelector(C)===null&&(l=v.createElement("link"),Xr(l,"link",s),Ve(l),v.head.appendChild(l)))}}function Wz(s){Uc.D(s),iR("dns-prefetch",s,null)}function Xz(s,l){Uc.C(s,l),iR("preconnect",s,l)}function Yz(s,l,h){Uc.L(s,l,h);var v=Cp;if(v&&s&&l){var C='link[rel="preload"][as="'+ei(l)+'"]';l==="image"&&h&&h.imageSrcSet?(C+='[imagesrcset="'+ei(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(C+='[imagesizes="'+ei(h.imageSizes)+'"]')):C+='[href="'+ei(s)+'"]';var U=C;switch(l){case"style":U=Rp(s);break;case"script":U=Op(s)}co.has(U)||(s=m({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:s,as:l},h),co.set(U,s),v.querySelector(C)!==null||l==="style"&&v.querySelector(ly(U))||l==="script"&&v.querySelector(cy(U))||(l=v.createElement("link"),Xr(l,"link",s),Ve(l),v.head.appendChild(l)))}}function $z(s,l){Uc.m(s,l);var h=Cp;if(h&&s){var v=l&&typeof l.as=="string"?l.as:"script",C='link[rel="modulepreload"][as="'+ei(v)+'"][href="'+ei(s)+'"]',U=C;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":U=Op(s)}if(!co.has(U)&&(s=m({rel:"modulepreload",href:s},l),co.set(U,s),h.querySelector(C)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(cy(U)))return}v=h.createElement("link"),Xr(v,"link",s),Ve(v),h.head.appendChild(v)}}}function Qz(s,l,h){Uc.S(s,l,h);var v=Cp;if(v&&s){var C=ra(v).hoistableStyles,U=Rp(s);l=l||"default";var X=C.get(U);if(!X){var ee={loading:0,preload:null};if(X=v.querySelector(ly(U)))ee.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":l},h),(h=co.get(U))&&PM(s,h);var ce=X=v.createElement("link");Ve(ce),Xr(ce,"link",s),ce._p=new Promise(function(Pe,Ze){ce.onload=Pe,ce.onerror=Ze}),ce.addEventListener("load",function(){ee.loading|=1}),ce.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,Gb(X,l,v)}X={type:"stylesheet",instance:X,count:1,state:ee},C.set(U,X)}}}function Kz(s,l){Uc.X(s,l);var h=Cp;if(h&&s){var v=ra(h).hoistableScripts,C=Op(s),U=v.get(C);U||(U=h.querySelector(cy(C)),U||(s=m({src:s,async:!0},l),(l=co.get(C))&&UM(s,l),U=h.createElement("script"),Ve(U),Xr(U,"link",s),h.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},v.set(C,U))}}function Zz(s,l){Uc.M(s,l);var h=Cp;if(h&&s){var v=ra(h).hoistableScripts,C=Op(s),U=v.get(C);U||(U=h.querySelector(cy(C)),U||(s=m({src:s,async:!0,type:"module"},l),(l=co.get(C))&&UM(s,l),U=h.createElement("script"),Ve(U),Xr(U,"link",s),h.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},v.set(C,U))}}function rR(s,l,h,v){var C=(C=me.current)?kb(C):null;if(!C)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=Rp(h.href),h=ra(C).hoistableStyles,v=h.get(l),v||(v={type:"style",instance:null,count:0,state:null},h.set(l,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=Rp(h.href);var U=ra(C).hoistableStyles,X=U.get(s);if(X||(C=C.ownerDocument||C,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},U.set(s,X),(U=C.querySelector(ly(s)))&&!U._p&&(X.instance=U,X.state.loading=5),co.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},co.set(s,h),U||Jz(C,s,h,X.state))),l&&v===null)throw Error(i(528,""));return X}if(l&&v!==null)throw Error(i(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Op(h),h=ra(C).hoistableScripts,v=h.get(l),v||(v={type:"script",instance:null,count:0,state:null},h.set(l,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Rp(s){return'href="'+ei(s)+'"'}function ly(s){return'link[rel="stylesheet"]['+s+"]"}function aR(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function Jz(s,l,h,v){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?v.loading=1:(l=s.createElement("link"),v.preload=l,l.addEventListener("load",function(){return v.loading|=1}),l.addEventListener("error",function(){return v.loading|=2}),Xr(l,"link",h),Ve(l),s.head.appendChild(l))}function Op(s){return'[src="'+ei(s)+'"]'}function cy(s){return"script[async]"+s}function sR(s,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var v=s.querySelector('style[data-href~="'+ei(h.href)+'"]');if(v)return l.instance=v,Ve(v),v;var C=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return v=(s.ownerDocument||s).createElement("style"),Ve(v),Xr(v,"style",C),Gb(v,h.precedence,s),l.instance=v;case"stylesheet":C=Rp(h.href);var U=s.querySelector(ly(C));if(U)return l.state.loading|=4,l.instance=U,Ve(U),U;v=aR(h),(C=co.get(C))&&PM(v,C),U=(s.ownerDocument||s).createElement("link"),Ve(U);var X=U;return X._p=new Promise(function(ee,ce){X.onload=ee,X.onerror=ce}),Xr(U,"link",v),l.state.loading|=4,Gb(U,h.precedence,s),l.instance=U;case"script":return U=Op(h.src),(C=s.querySelector(cy(U)))?(l.instance=C,Ve(C),C):(v=h,(C=co.get(U))&&(v=m({},h),UM(v,C)),s=s.ownerDocument||s,C=s.createElement("script"),Ve(C),Xr(C,"link",v),s.head.appendChild(C),l.instance=C);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(v=l.instance,l.state.loading|=4,Gb(v,h.precedence,s));return l.instance}function Gb(s,l,h){for(var v=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=v.length?v[v.length-1]:null,U=C,X=0;X<v.length;X++){var ee=v[X];if(ee.dataset.precedence===l)U=ee;else if(U!==C)break}U?U.parentNode.insertBefore(s,U.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(s,l.firstChild))}function PM(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function UM(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var qb=null;function oR(s,l,h){if(qb===null){var v=new Map,C=qb=new Map;C.set(h,v)}else C=qb,v=C.get(h),v||(v=new Map,C.set(h,v));if(v.has(s))return v;for(v.set(s,null),h=h.getElementsByTagName(s),C=0;C<h.length;C++){var U=h[C];if(!(U[rr]||U[Qn]||s==="link"&&U.getAttribute("rel")==="stylesheet")&&U.namespaceURI!=="http://www.w3.org/2000/svg"){var X=U.getAttribute(l)||"";X=s+X;var ee=v.get(X);ee?ee.push(U):v.set(X,[U])}}return v}function lR(s,l,h){s=s.ownerDocument||s,s.head.insertBefore(h,l==="title"?s.querySelector("head > title"):null)}function eB(s,l,h){if(h===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function cR(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var uy=null;function tB(){}function nB(s,l,h){if(uy===null)throw Error(i(475));var v=uy;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var C=Rp(h.href),U=s.querySelector(ly(C));if(U){s=U._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(v.count++,v=jb.bind(v),s.then(v,v)),l.state.loading|=4,l.instance=U,Ve(U);return}U=s.ownerDocument||s,h=aR(h),(C=co.get(C))&&PM(h,C),U=U.createElement("link"),Ve(U);var X=U;X._p=new Promise(function(ee,ce){X.onload=ee,X.onerror=ce}),Xr(U,"link",h),l.instance=U}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(v.count++,l=jb.bind(v),s.addEventListener("load",l),s.addEventListener("error",l))}}function iB(){if(uy===null)throw Error(i(475));var s=uy;return s.stylesheets&&s.count===0&&LM(s,s.stylesheets),0<s.count?function(l){var h=setTimeout(function(){if(s.stylesheets&&LM(s,s.stylesheets),s.unsuspend){var v=s.unsuspend;s.unsuspend=null,v()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(h)}}:null}function jb(){if(this.count--,this.count===0){if(this.stylesheets)LM(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Wb=null;function LM(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Wb=new Map,l.forEach(rB,s),Wb=null,jb.call(s))}function rB(s,l){if(!(l.state.loading&4)){var h=Wb.get(s);if(h)var v=h.get(null);else{h=new Map,Wb.set(s,h);for(var C=s.querySelectorAll("link[data-precedence],style[data-precedence]"),U=0;U<C.length;U++){var X=C[U];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(h.set(X.dataset.precedence,X),v=X)}v&&h.set(null,v)}C=l.instance,X=C.getAttribute("data-precedence"),U=h.get(X)||v,U===v&&h.set(null,C),h.set(X,C),this.count++,v=jb.bind(this),C.addEventListener("load",v),C.addEventListener("error",v),U?U.parentNode.insertBefore(C,U.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(C,s.firstChild)),l.state.loading|=4}}var fy={$$typeof:A,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function aB(s,l,h,v,C,U,X,ee){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=v,this.onUncaughtError=C,this.onCaughtError=U,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function uR(s,l,h,v,C,U,X,ee,ce,Pe,Ze,it){return s=new aB(s,l,h,X,ee,ce,Pe,it),l=1,U===!0&&(l|=24),U=ca(3,null,null,l),s.current=U,U.stateNode=s,l=Kh(),l.refCount++,s.pooledCache=l,l.refCount++,U.memoizedState={element:v,isDehydrated:h,cache:l},Lg(U),s}function fR(s){return s?(s=bl,s):bl}function dR(s,l,h,v,C,U){C=fR(C),v.context===null?v.context=C:v.pendingContext=C,v=Qs(l),v.payload={element:h},U=U===void 0?null:U,U!==null&&(v.callback=U),h=Ho(s,v,l),h!==null&&(Wr(h,s,l),gc(h,s,l))}function hR(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function IM(s,l){hR(s,l),(s=s.alternate)&&hR(s,l)}function pR(s){if(s.tag===13){var l=Lo(s,67108864);l!==null&&Wr(l,s,67108864),IM(s,67108864)}}var Xb=!0;function sB(s,l,h,v){var C=B.T;B.T=null;var U=j.p;try{j.p=2,zM(s,l,h,v)}finally{j.p=U,B.T=C}}function oB(s,l,h,v){var C=B.T;B.T=null;var U=j.p;try{j.p=8,zM(s,l,h,v)}finally{j.p=U,B.T=C}}function zM(s,l,h,v){if(Xb){var C=BM(v);if(C===null)EM(s,l,v,Yb,h),gR(s,v);else if(cB(C,s,l,h,v))v.stopPropagation();else if(gR(s,v),l&4&&-1<lB.indexOf(s)){for(;C!==null;){var U=zi(C);if(U!==null)switch(U.tag){case 3:if(U=U.stateNode,U.current.memoizedState.isDehydrated){var X=qe(U.pendingLanes);if(X!==0){var ee=U;for(ee.pendingLanes|=2,ee.entangledLanes|=2;X;){var ce=1<<31-bt(X);ee.entanglements[1]|=ce,X&=~ce}Gl(U),(Vn&6)===0&&(Nr=ze()+500,ry(0))}}break;case 13:ee=Lo(U,2),ee!==null&&Wr(ee,U,2),oo(),IM(U,2)}if(U=BM(v),U===null&&EM(s,l,v,Yb,h),U===C)break;C=U}C!==null&&v.stopPropagation()}else EM(s,l,v,null,h)}}function BM(s){return s=Nh(s),FM(s)}var Yb=null;function FM(s){if(Yb=null,s=Fn(s),s!==null){var l=a(s);if(l===null)s=null;else{var h=l.tag;if(h===13){if(s=o(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Yb=s,null}function mR(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ve()){case ot:return 2;case Ae:return 8;case te:case Y:return 32;case be:return 268435456;default:return 32}default:return 32}}var HM=!1,Qu=null,Ku=null,Zu=null,dy=new Map,hy=new Map,Ju=[],lB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gR(s,l){switch(s){case"focusin":case"focusout":Qu=null;break;case"dragenter":case"dragleave":Ku=null;break;case"mouseover":case"mouseout":Zu=null;break;case"pointerover":case"pointerout":dy.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":hy.delete(l.pointerId)}}function py(s,l,h,v,C,U){return s===null||s.nativeEvent!==U?(s={blockedOn:l,domEventName:h,eventSystemFlags:v,nativeEvent:U,targetContainers:[C]},l!==null&&(l=zi(l),l!==null&&pR(l)),s):(s.eventSystemFlags|=v,l=s.targetContainers,C!==null&&l.indexOf(C)===-1&&l.push(C),s)}function cB(s,l,h,v,C){switch(l){case"focusin":return Qu=py(Qu,s,l,h,v,C),!0;case"dragenter":return Ku=py(Ku,s,l,h,v,C),!0;case"mouseover":return Zu=py(Zu,s,l,h,v,C),!0;case"pointerover":var U=C.pointerId;return dy.set(U,py(dy.get(U)||null,s,l,h,v,C)),!0;case"gotpointercapture":return U=C.pointerId,hy.set(U,py(hy.get(U)||null,s,l,h,v,C)),!0}return!1}function yR(s){var l=Fn(s.target);if(l!==null){var h=a(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){s.blockedOn=l,vi(s.priority,function(){if(h.tag===13){var v=Ci();v=Zt(v);var C=Lo(h,v);C!==null&&Wr(C,h,v),IM(h,v)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function $b(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=BM(s.nativeEvent);if(h===null){h=s.nativeEvent;var v=new h.constructor(h.type,h);Dh=v,h.target.dispatchEvent(v),Dh=null}else return l=zi(h),l!==null&&pR(l),s.blockedOn=h,!1;l.shift()}return!0}function vR(s,l,h){$b(s)&&h.delete(l)}function uB(){HM=!1,Qu!==null&&$b(Qu)&&(Qu=null),Ku!==null&&$b(Ku)&&(Ku=null),Zu!==null&&$b(Zu)&&(Zu=null),dy.forEach(vR),hy.forEach(vR)}function Qb(s,l){s.blockedOn===l&&(s.blockedOn=null,HM||(HM=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,uB)))}var Kb=null;function bR(s){Kb!==s&&(Kb=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Kb===s&&(Kb=null);for(var l=0;l<s.length;l+=3){var h=s[l],v=s[l+1],C=s[l+2];if(typeof v!="function"){if(FM(v||h)===null)continue;break}var U=zi(h);U!==null&&(s.splice(l,3),l-=3,Kg(U,{pending:!0,data:C,method:h.method,action:v},v,C))}}))}function my(s){function l(ce){return Qb(ce,s)}Qu!==null&&Qb(Qu,s),Ku!==null&&Qb(Ku,s),Zu!==null&&Qb(Zu,s),dy.forEach(l),hy.forEach(l);for(var h=0;h<Ju.length;h++){var v=Ju[h];v.blockedOn===s&&(v.blockedOn=null)}for(;0<Ju.length&&(h=Ju[0],h.blockedOn===null);)yR(h),h.blockedOn===null&&Ju.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(v=0;v<h.length;v+=3){var C=h[v],U=h[v+1],X=C[di]||null;if(typeof U=="function")X||bR(h);else if(X){var ee=null;if(U&&U.hasAttribute("formAction")){if(C=U,X=U[di]||null)ee=X.formAction;else if(FM(C)!==null)continue}else ee=X.action;typeof ee=="function"?h[v+1]=ee:(h.splice(v,3),v-=3),bR(h)}}}function VM(s){this._internalRoot=s}Zb.prototype.render=VM.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(i(409));var h=l.current,v=Ci();dR(h,v,s,l,null,null)},Zb.prototype.unmount=VM.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;dR(s.current,2,null,s,null,null),oo(),l[Ei]=null}};function Zb(s){this._internalRoot=s}Zb.prototype.unstable_scheduleHydration=function(s){if(s){var l=qt();s={blockedOn:null,target:s,priority:l};for(var h=0;h<Ju.length&&l!==0&&l<Ju[h].priority;h++);Ju.splice(h,0,s),h===0&&yR(s)}};var xR=e.version;if(xR!=="19.1.0")throw Error(i(527,xR,"19.1.0"));j.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(l),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var fB={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jb.isDisabled&&Jb.supportsFiber)try{Le=Jb.inject(fB),ct=Jb}catch{}}return yy.createRoot=function(s,l){if(!r(s))throw Error(i(299));var h=!1,v="",C=dd,U=pp,X=Pb,ee=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(C=l.onUncaughtError),l.onCaughtError!==void 0&&(U=l.onCaughtError),l.onRecoverableError!==void 0&&(X=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(ee=l.unstable_transitionCallbacks)),l=uR(s,1,!1,null,null,h,v,C,U,X,ee,null),s[Ei]=l.current,MM(s),new VM(l)},yy.hydrateRoot=function(s,l,h){if(!r(s))throw Error(i(299));var v=!1,C="",U=dd,X=pp,ee=Pb,ce=null,Pe=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(C=h.identifierPrefix),h.onUncaughtError!==void 0&&(U=h.onUncaughtError),h.onCaughtError!==void 0&&(X=h.onCaughtError),h.onRecoverableError!==void 0&&(ee=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(ce=h.unstable_transitionCallbacks),h.formState!==void 0&&(Pe=h.formState)),l=uR(s,1,!0,l,h??null,v,C,U,X,ee,ce,Pe),l.context=fR(null),h=l.current,v=Ci(),v=Zt(v),C=Qs(v),C.callback=null,Ho(h,C,v),h=v,l.current.lanes=h,Ye(l,h),Gl(l),s[Ei]=l.current,MM(s),new Zb(l)},yy.version="19.1.0",yy}var OR;function MB(){if(OR)return qM.exports;OR=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qM.exports=_B(),qM.exports}var EB=MB();const TB=Xv(EB);var YM={exports:{}},$M={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DR;function AB(){if(DR)return $M;DR=1;var n=_h();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,r=n.useRef,a=n.useEffect,o=n.useMemo,c=n.useDebugValue;return $M.useSyncExternalStoreWithSelector=function(f,p,m,g,y){var b=r(null);if(b.current===null){var _={hasValue:!1,value:null};b.current=_}else _=b.current;b=o(function(){function M(O){if(!x){if(x=!0,D=O,O=g(O),y!==void 0&&_.hasValue){var N=_.value;if(y(N,O))return A=N}return A=O}if(N=A,t(D,O))return N;var z=g(O);return y!==void 0&&y(N,z)?(D=O,N):(D=O,A=z)}var x=!1,D,A,T=m===void 0?null:m;return[function(){return M(p())},T===null?void 0:function(){return M(T())}]},[p,m,g,y]);var E=i(f,b[0],b[1]);return a(function(){_.hasValue=!0,_.value=E},[E]),c(E),E},$M}var NR;function wB(){return NR||(NR=1,YM.exports=AB()),YM.exports}var CB=wB();function J3(n){n()}function RB(){let n=null,e=null;return{clear(){n=null,e=null},notify(){J3(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const r=e={callback:t,next:null,prev:e};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var PR={notify(){},get:()=>[]};function OB(n,e){let t,i=PR,r=0,a=!1;function o(E){m();const M=i.subscribe(E);let x=!1;return()=>{x||(x=!0,M(),g())}}function c(){i.notify()}function f(){_.onStateChange&&_.onStateChange()}function p(){return a}function m(){r++,t||(t=n.subscribe(f),i=RB())}function g(){r--,t&&r===0&&(t(),t=void 0,i.clear(),i=PR)}function y(){a||(a=!0,m())}function b(){a&&(a=!1,g())}const _={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:f,isSubscribed:p,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>i};return _}var DB=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NB=DB(),PB=()=>typeof navigator<"u"&&navigator.product==="ReactNative",UB=PB(),LB=()=>NB||UB?K.useLayoutEffect:K.useEffect,IB=LB();function UR(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function Xy(n,e){if(UR(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!UR(n[t[r]],e[t[r]]))return!1;return!0}var QM=Symbol.for("react-redux-context"),KM=typeof globalThis<"u"?globalThis:{};function zB(){if(!K.createContext)return{};const n=KM[QM]??(KM[QM]=new Map);let e=n.get(K.createContext);return e||(e=K.createContext(null),n.set(K.createContext,e)),e}var yf=zB();function BB(n){const{children:e,context:t,serverState:i,store:r}=n,a=K.useMemo(()=>{const f=OB(r);return{store:r,subscription:f,getServerState:i?()=>i:void 0}},[r,i]),o=K.useMemo(()=>r.getState(),[r]);IB(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),o!==r.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,o]);const c=t||yf;return K.createElement(c.Provider,{value:a},e)}var FB=BB;function IA(n=yf){return function(){return K.useContext(n)}}var eN=IA();function tN(n=yf){const e=n===yf?eN:IA(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var nN=tN();function HB(n=yf){const e=n===yf?nN:tN(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var zA=HB(),VB=(n,e)=>n===e;function kB(n=yf){const e=n===yf?eN:IA(n),t=(i,r={})=>{const{equalityFn:a=VB}=typeof r=="function"?{equalityFn:r}:r,o=e(),{store:c,subscription:f,getServerState:p}=o;K.useRef(!0);const m=K.useCallback({[i.name](y){return i(y)}}[i.name],[i]),g=CB.useSyncExternalStoreWithSelector(f.addNestedSub,c.getState,p||c.getState,m,a);return K.useDebugValue(g),g};return Object.assign(t,{withTypes:()=>t}),t}var iN=kB(),GB=J3;/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Yv="176",po={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Yl={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},rN=0,CT=1,aN=2,qB=3,sN=0,j_=1,Yy=2,el=3,tu=0,ba=1,il=2,Zc=0,Kd=1,RT=2,OT=3,DT=4,oN=5,uf=100,lN=101,cN=102,uN=103,fN=104,dN=200,hN=201,pN=202,mN=203,OS=204,DS=205,gN=206,yN=207,vN=208,bN=209,xN=210,SN=211,_N=212,MN=213,EN=214,NS=0,PS=1,US=2,ch=3,LS=4,IS=5,zS=6,BS=7,$v=0,TN=1,AN=2,Jl=0,wN=1,CN=2,RN=3,BA=4,ON=5,DN=6,NN=7,NT="attached",PN="detached",W_=300,nu=301,vf=302,dv=303,hv=304,Hm=306,pv=1e3,yo=1001,mv=1002,Zr=1003,FA=1004,jB=1004,cm=1005,WB=1005,Ar=1006,$y=1007,XB=1007,Zl=1008,YB=1008,xo=1009,HA=1010,VA=1011,Em=1012,X_=1013,iu=1014,ds=1015,Vm=1016,Y_=1017,$_=1018,Tm=1020,kA=35902,GA=1021,qA=1022,va=1023,Am=1026,wm=1027,Q_=1028,Qv=1029,jA=1030,K_=1031,$B=1032,Z_=1033,Qy=33776,Ky=33777,Zy=33778,Jy=33779,FS=35840,HS=35841,VS=35842,kS=35843,GS=36196,qS=37492,jS=37496,WS=37808,XS=37809,YS=37810,$S=37811,QS=37812,KS=37813,ZS=37814,JS=37815,e_=37816,t_=37817,n_=37818,i_=37819,r_=37820,a_=37821,ev=36492,s_=36494,o_=36495,WA=36283,l_=36284,c_=36285,u_=36286,UN=2200,LN=2201,IN=2202,gv=2300,f_=2301,pS=2302,qd=2400,jd=2401,yv=2402,J_=2500,XA=2501,QB=0,KB=1,ZB=2,zN=3200,BN=3201,JB=3202,e4=3203,_f=0,FN=1,Wc="",$r="srgb",bf="srgb-linear",vv="linear",ai="srgb",t4=0,Id=7680,n4=7681,i4=7682,r4=7683,a4=34055,s4=34056,o4=5386,l4=512,c4=513,u4=514,f4=515,d4=516,h4=517,p4=518,PT=519,HN=512,VN=513,kN=514,YA=515,GN=516,qN=517,jN=518,WN=519,bv=35044,m4=35048,g4=35040,y4=35045,v4=35049,b4=35041,x4=35046,S4=35050,_4=35042,M4="100",UT="300 es",vo=2e3,xv=2001,E4={COMPUTE:"compute",RENDER:"render"},T4={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},A4={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};let uc=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,e);e.target=null}}};const pa=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let LR=1234567;const Zd=Math.PI/180,Cm=180/Math.PI;function Ls(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(pa[n&255]+pa[n>>8&255]+pa[n>>16&255]+pa[n>>24&255]+"-"+pa[e&255]+pa[e>>8&255]+"-"+pa[e>>16&15|64]+pa[e>>24&255]+"-"+pa[t&63|128]+pa[t>>8&255]+"-"+pa[t>>16&255]+pa[t>>24&255]+pa[i&255]+pa[i>>8&255]+pa[i>>16&255]+pa[i>>24&255]).toLowerCase()}function an(n,e,t){return Math.max(e,Math.min(t,n))}function $A(n,e){return(n%e+e)%e}function w4(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function C4(n,e,t){return n!==e?(t-n)/(e-n):0}function tv(n,e,t){return(1-t)*n+t*e}function R4(n,e,t,i){return tv(n,e,1-Math.exp(-t*i))}function O4(n,e=1){return e-Math.abs($A(n,e*2)-e)}function D4(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function N4(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function P4(n,e){return n+Math.floor(Math.random()*(e-n+1))}function U4(n,e){return n+Math.random()*(e-n)}function L4(n){return n*(.5-Math.random())}function I4(n){n!==void 0&&(LR=n);let e=LR+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function z4(n){return n*Zd}function B4(n){return n*Cm}function F4(n){return(n&n-1)===0&&n!==0}function H4(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function V4(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function k4(n,e,t,i,r){const a=Math.cos,o=Math.sin,c=a(t/2),f=o(t/2),p=a((e+i)/2),m=o((e+i)/2),g=a((e-i)/2),y=o((e-i)/2),b=a((i-e)/2),_=o((i-e)/2);switch(r){case"XYX":n.set(c*m,f*g,f*y,c*p);break;case"YZY":n.set(f*y,c*m,f*g,c*p);break;case"ZXZ":n.set(f*g,f*y,c*m,c*p);break;case"XZX":n.set(c*m,f*_,f*b,c*p);break;case"YXY":n.set(f*b,c*m,f*_,c*p);break;case"ZYZ":n.set(f*_,f*b,c*m,c*p);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function qa(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function un(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const XN={DEG2RAD:Zd,RAD2DEG:Cm,generateUUID:Ls,clamp:an,euclideanModulo:$A,mapLinear:w4,inverseLerp:C4,lerp:tv,damp:R4,pingpong:O4,smoothstep:D4,smootherstep:N4,randInt:P4,randFloat:U4,randFloatSpread:L4,seededRandom:I4,degToRad:z4,radToDeg:B4,isPowerOfTwo:F4,ceilPowerOfTwo:H4,floorPowerOfTwo:V4,setQuaternionFromProperEuler:k4,normalize:un,denormalize:qa};class Je{constructor(e=0,t=0){Je.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=an(this.x,e.x,t.x),this.y=an(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=an(this.x,e,t),this.y=an(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(an(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(an(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),a=this.x-e.x,o=this.y-e.y;return this.x=a*i-o*r+e.x,this.y=a*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ln{constructor(e,t,i,r,a,o,c,f,p){ln.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,o,c,f,p)}set(e,t,i,r,a,o,c,f,p){const m=this.elements;return m[0]=e,m[1]=r,m[2]=c,m[3]=t,m[4]=a,m[5]=f,m[6]=i,m[7]=o,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,o=i[0],c=i[3],f=i[6],p=i[1],m=i[4],g=i[7],y=i[2],b=i[5],_=i[8],E=r[0],M=r[3],x=r[6],D=r[1],A=r[4],T=r[7],O=r[2],N=r[5],z=r[8];return a[0]=o*E+c*D+f*O,a[3]=o*M+c*A+f*N,a[6]=o*x+c*T+f*z,a[1]=p*E+m*D+g*O,a[4]=p*M+m*A+g*N,a[7]=p*x+m*T+g*z,a[2]=y*E+b*D+_*O,a[5]=y*M+b*A+_*N,a[8]=y*x+b*T+_*z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],o=e[4],c=e[5],f=e[6],p=e[7],m=e[8];return t*o*m-t*c*p-i*a*m+i*c*f+r*a*p-r*o*f}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],o=e[4],c=e[5],f=e[6],p=e[7],m=e[8],g=m*o-c*p,y=c*f-m*a,b=p*a-o*f,_=t*g+i*y+r*b;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const E=1/_;return e[0]=g*E,e[1]=(r*p-m*i)*E,e[2]=(c*i-r*o)*E,e[3]=y*E,e[4]=(m*t-r*f)*E,e[5]=(r*a-c*t)*E,e[6]=b*E,e[7]=(i*f-p*t)*E,e[8]=(o*t-i*a)*E,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,a,o,c){const f=Math.cos(a),p=Math.sin(a);return this.set(i*f,i*p,-i*(f*o+p*c)+o+e,-r*p,r*f,-r*(-p*o+f*c)+c+t,0,0,1),this}scale(e,t){return this.premultiply(ZM.makeScale(e,t)),this}rotate(e){return this.premultiply(ZM.makeRotation(-e)),this}translate(e,t){return this.premultiply(ZM.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const ZM=new ln;function YN(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const G4={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function um(n,e){return new G4[n](e)}function Sv(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function $N(){const n=Sv("canvas");return n.style.display="block",n}const IR={};function mS(n){n in IR||(IR[n]=!0,console.warn(n))}function q4(n,e,t){return new Promise(function(i,r){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:i()}}setTimeout(a,t)})}function j4(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function W4(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const zR=new ln().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),BR=new ln().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function X4(){const n={enabled:!0,workingColorSpace:bf,spaces:{},convert:function(r,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===ai&&(r.r=Jc(r.r),r.g=Jc(r.g),r.b=Jc(r.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[a].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===ai&&(r.r=gm(r.r),r.g=gm(r.g),r.b=gm(r.b))),r},fromWorkingColorSpace:function(r,a){return this.convert(r,this.workingColorSpace,a)},toWorkingColorSpace:function(r,a){return this.convert(r,a,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===Wc?vv:this.spaces[r].transfer},getLuminanceCoefficients:function(r,a=this.workingColorSpace){return r.fromArray(this.spaces[a].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,a,o){return r.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[bf]:{primaries:e,whitePoint:i,transfer:vv,toXYZ:zR,fromXYZ:BR,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:$r},outputColorSpaceConfig:{drawingBufferColorSpace:$r}},[$r]:{primaries:e,whitePoint:i,transfer:ai,toXYZ:zR,fromXYZ:BR,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:$r}}}),n}const Pn=X4();function Jc(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function gm(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Dp;class QN{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Dp===void 0&&(Dp=Sv("canvas")),Dp.width=e.width,Dp.height=e.height;const r=Dp.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=Dp}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Sv("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let o=0;o<a.length;o++)a[o]=Jc(a[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Jc(t[i]/255)*255):t[i]=Jc(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Y4=0;class hf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Y4++}),this.uuid=Ls(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let o=0,c=r.length;o<c;o++)r[o].isDataTexture?a.push(JM(r[o].image)):a.push(JM(r[o]))}else a=JM(r);i.url=a}return t||(e.images[this.uuid]=i),i}}function JM(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?QN.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let $4=0;class ji extends uc{constructor(e=ji.DEFAULT_IMAGE,t=ji.DEFAULT_MAPPING,i=yo,r=yo,a=Ar,o=Zl,c=va,f=xo,p=ji.DEFAULT_ANISOTROPY,m=Wc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:$4++}),this.uuid=Ls(),this.name="",this.source=new hf(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=o,this.anisotropy=p,this.format=c,this.internalFormat=null,this.type=f,this.offset=new Je(0,0),this.repeat=new Je(1,1),this.center=new Je(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ln,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isTextureArray=e.isTextureArray,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==W_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case pv:e.x=e.x-Math.floor(e.x);break;case yo:e.x=e.x<0?0:1;break;case mv:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case pv:e.y=e.y-Math.floor(e.y);break;case yo:e.y=e.y<0?0:1;break;case mv:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ji.DEFAULT_IMAGE=null;ji.DEFAULT_MAPPING=W_;ji.DEFAULT_ANISOTROPY=1;class zn{constructor(e=0,t=0,i=0,r=1){zn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*a,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*a,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*a,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,a;const f=e.elements,p=f[0],m=f[4],g=f[8],y=f[1],b=f[5],_=f[9],E=f[2],M=f[6],x=f[10];if(Math.abs(m-y)<.01&&Math.abs(g-E)<.01&&Math.abs(_-M)<.01){if(Math.abs(m+y)<.1&&Math.abs(g+E)<.1&&Math.abs(_+M)<.1&&Math.abs(p+b+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const A=(p+1)/2,T=(b+1)/2,O=(x+1)/2,N=(m+y)/4,z=(g+E)/4,F=(_+M)/4;return A>T&&A>O?A<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(A),r=N/i,a=z/i):T>O?T<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(T),i=N/r,a=F/r):O<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(O),i=z/a,r=F/a),this.set(i,r,a,t),this}let D=Math.sqrt((M-_)*(M-_)+(g-E)*(g-E)+(y-m)*(y-m));return Math.abs(D)<.001&&(D=1),this.x=(M-_)/D,this.y=(g-E)/D,this.z=(y-m)/D,this.w=Math.acos((p+b+x-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=an(this.x,e.x,t.x),this.y=an(this.y,e.y,t.y),this.z=an(this.z,e.z,t.z),this.w=an(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=an(this.x,e,t),this.y=an(this.y,e,t),this.z=an(this.z,e,t),this.w=an(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(an(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class e1 extends uc{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth?i.depth:1,this.scissor=new zn(0,0,e,t),this.scissorTest=!1,this.viewport=new zn(0,0,e,t);const r={width:e,height:t,depth:this.depth};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ar,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},i);const a=new ji(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);a.flipY=!1,a.generateMipmaps=i.generateMipmaps,a.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let c=0;c<o;c++)this.textures[c]=a.clone(),this.textures[c].isRenderTargetTexture=!0,this.textures[c].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,a=this.textures.length;r<a;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new hf(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ic extends e1{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class Kv extends ji{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Zr,this.minFilter=Zr,this.wrapR=yo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Q4 extends ic{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Kv(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class t1 extends ji{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Zr,this.minFilter=Zr,this.wrapR=yo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class K4 extends ic{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new t1(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class xa{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,a,o,c){let f=i[r+0],p=i[r+1],m=i[r+2],g=i[r+3];const y=a[o+0],b=a[o+1],_=a[o+2],E=a[o+3];if(c===0){e[t+0]=f,e[t+1]=p,e[t+2]=m,e[t+3]=g;return}if(c===1){e[t+0]=y,e[t+1]=b,e[t+2]=_,e[t+3]=E;return}if(g!==E||f!==y||p!==b||m!==_){let M=1-c;const x=f*y+p*b+m*_+g*E,D=x>=0?1:-1,A=1-x*x;if(A>Number.EPSILON){const O=Math.sqrt(A),N=Math.atan2(O,x*D);M=Math.sin(M*N)/O,c=Math.sin(c*N)/O}const T=c*D;if(f=f*M+y*T,p=p*M+b*T,m=m*M+_*T,g=g*M+E*T,M===1-c){const O=1/Math.sqrt(f*f+p*p+m*m+g*g);f*=O,p*=O,m*=O,g*=O}}e[t]=f,e[t+1]=p,e[t+2]=m,e[t+3]=g}static multiplyQuaternionsFlat(e,t,i,r,a,o){const c=i[r],f=i[r+1],p=i[r+2],m=i[r+3],g=a[o],y=a[o+1],b=a[o+2],_=a[o+3];return e[t]=c*_+m*g+f*b-p*y,e[t+1]=f*_+m*y+p*g-c*b,e[t+2]=p*_+m*b+c*y-f*g,e[t+3]=m*_-c*g-f*y-p*b,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,a=e._z,o=e._order,c=Math.cos,f=Math.sin,p=c(i/2),m=c(r/2),g=c(a/2),y=f(i/2),b=f(r/2),_=f(a/2);switch(o){case"XYZ":this._x=y*m*g+p*b*_,this._y=p*b*g-y*m*_,this._z=p*m*_+y*b*g,this._w=p*m*g-y*b*_;break;case"YXZ":this._x=y*m*g+p*b*_,this._y=p*b*g-y*m*_,this._z=p*m*_-y*b*g,this._w=p*m*g+y*b*_;break;case"ZXY":this._x=y*m*g-p*b*_,this._y=p*b*g+y*m*_,this._z=p*m*_+y*b*g,this._w=p*m*g-y*b*_;break;case"ZYX":this._x=y*m*g-p*b*_,this._y=p*b*g+y*m*_,this._z=p*m*_-y*b*g,this._w=p*m*g+y*b*_;break;case"YZX":this._x=y*m*g+p*b*_,this._y=p*b*g+y*m*_,this._z=p*m*_-y*b*g,this._w=p*m*g-y*b*_;break;case"XZY":this._x=y*m*g-p*b*_,this._y=p*b*g-y*m*_,this._z=p*m*_+y*b*g,this._w=p*m*g+y*b*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],a=t[8],o=t[1],c=t[5],f=t[9],p=t[2],m=t[6],g=t[10],y=i+c+g;if(y>0){const b=.5/Math.sqrt(y+1);this._w=.25/b,this._x=(m-f)*b,this._y=(a-p)*b,this._z=(o-r)*b}else if(i>c&&i>g){const b=2*Math.sqrt(1+i-c-g);this._w=(m-f)/b,this._x=.25*b,this._y=(r+o)/b,this._z=(a+p)/b}else if(c>g){const b=2*Math.sqrt(1+c-i-g);this._w=(a-p)/b,this._x=(r+o)/b,this._y=.25*b,this._z=(f+m)/b}else{const b=2*Math.sqrt(1+g-i-c);this._w=(o-r)/b,this._x=(a+p)/b,this._y=(f+m)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(an(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,a=e._z,o=e._w,c=t._x,f=t._y,p=t._z,m=t._w;return this._x=i*m+o*c+r*p-a*f,this._y=r*m+o*f+a*c-i*p,this._z=a*m+o*p+i*f-r*c,this._w=o*m-i*c-r*f-a*p,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,a=this._z,o=this._w;let c=o*e._w+i*e._x+r*e._y+a*e._z;if(c<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,c=-c):this.copy(e),c>=1)return this._w=o,this._x=i,this._y=r,this._z=a,this;const f=1-c*c;if(f<=Number.EPSILON){const b=1-t;return this._w=b*o+t*this._w,this._x=b*i+t*this._x,this._y=b*r+t*this._y,this._z=b*a+t*this._z,this.normalize(),this}const p=Math.sqrt(f),m=Math.atan2(p,c),g=Math.sin((1-t)*m)/p,y=Math.sin(t*m)/p;return this._w=o*g+this._w*y,this._x=i*g+this._x*y,this._y=r*g+this._y*y,this._z=a*g+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),a=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class re{constructor(e=0,t=0,i=0){re.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(FR.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(FR.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6]*r,this.y=a[1]*t+a[4]*i+a[7]*r,this.z=a[2]*t+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,a=e.elements,o=1/(a[3]*t+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*i+a[8]*r+a[12])*o,this.y=(a[1]*t+a[5]*i+a[9]*r+a[13])*o,this.z=(a[2]*t+a[6]*i+a[10]*r+a[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,a=e.x,o=e.y,c=e.z,f=e.w,p=2*(o*r-c*i),m=2*(c*t-a*r),g=2*(a*i-o*t);return this.x=t+f*p+o*g-c*m,this.y=i+f*m+c*p-a*g,this.z=r+f*g+a*m-o*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r,this.y=a[1]*t+a[5]*i+a[9]*r,this.z=a[2]*t+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=an(this.x,e.x,t.x),this.y=an(this.y,e.y,t.y),this.z=an(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=an(this.x,e,t),this.y=an(this.y,e,t),this.z=an(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(an(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,a=e.z,o=t.x,c=t.y,f=t.z;return this.x=r*f-a*c,this.y=a*o-i*f,this.z=i*c-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return eE.copy(this).projectOnVector(e),this.sub(eE)}reflect(e){return this.sub(eE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(an(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const eE=new re,FR=new xa;class Sa{constructor(e=new re(1/0,1/0,1/0),t=new re(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Ko.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Ko.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Ko.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const a=i.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,c=a.count;o<c;o++)e.isMesh===!0?e.getVertexPosition(o,Ko):Ko.fromBufferAttribute(a,o),Ko.applyMatrix4(e.matrixWorld),this.expandByPoint(Ko);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),ex.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),ex.copy(i.boundingBox)),ex.applyMatrix4(e.matrixWorld),this.union(ex)}const r=e.children;for(let a=0,o=r.length;a<o;a++)this.expandByObject(r[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ko),Ko.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(vy),tx.subVectors(this.max,vy),Np.subVectors(e.a,vy),Pp.subVectors(e.b,vy),Up.subVectors(e.c,vy),tf.subVectors(Pp,Np),nf.subVectors(Up,Pp),xd.subVectors(Np,Up);let t=[0,-tf.z,tf.y,0,-nf.z,nf.y,0,-xd.z,xd.y,tf.z,0,-tf.x,nf.z,0,-nf.x,xd.z,0,-xd.x,-tf.y,tf.x,0,-nf.y,nf.x,0,-xd.y,xd.x,0];return!tE(t,Np,Pp,Up,tx)||(t=[1,0,0,0,1,0,0,0,1],!tE(t,Np,Pp,Up,tx))?!1:(nx.crossVectors(tf,nf),t=[nx.x,nx.y,nx.z],tE(t,Np,Pp,Up,tx))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ko).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ko).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Lc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Lc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Lc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Lc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Lc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Lc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Lc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Lc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Lc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Lc=[new re,new re,new re,new re,new re,new re,new re,new re],Ko=new re,ex=new Sa,Np=new re,Pp=new re,Up=new re,tf=new re,nf=new re,xd=new re,vy=new re,tx=new re,nx=new re,Sd=new re;function tE(n,e,t,i,r){for(let a=0,o=n.length-3;a<=o;a+=3){Sd.fromArray(n,a);const c=r.x*Math.abs(Sd.x)+r.y*Math.abs(Sd.y)+r.z*Math.abs(Sd.z),f=e.dot(Sd),p=t.dot(Sd),m=i.dot(Sd);if(Math.max(-Math.max(f,p,m),Math.min(f,p,m))>c)return!1}return!0}const Z4=new Sa,by=new re,nE=new re;class Jr{constructor(e=new re,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):Z4.setFromPoints(e).getCenter(i);let r=0;for(let a=0,o=e.length;a<o;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;by.subVectors(e,this.center);const t=by.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(by,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(nE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(by.copy(e.center).add(nE)),this.expandByPoint(by.copy(e.center).sub(nE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ic=new re,iE=new re,ix=new re,rf=new re,rE=new re,rx=new re,aE=new re;class Mh{constructor(e=new re,t=new re(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ic)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ic.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ic.copy(this.origin).addScaledVector(this.direction,t),Ic.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){iE.copy(e).add(t).multiplyScalar(.5),ix.copy(t).sub(e).normalize(),rf.copy(this.origin).sub(iE);const a=e.distanceTo(t)*.5,o=-this.direction.dot(ix),c=rf.dot(this.direction),f=-rf.dot(ix),p=rf.lengthSq(),m=Math.abs(1-o*o);let g,y,b,_;if(m>0)if(g=o*f-c,y=o*c-f,_=a*m,g>=0)if(y>=-_)if(y<=_){const E=1/m;g*=E,y*=E,b=g*(g+o*y+2*c)+y*(o*g+y+2*f)+p}else y=a,g=Math.max(0,-(o*y+c)),b=-g*g+y*(y+2*f)+p;else y=-a,g=Math.max(0,-(o*y+c)),b=-g*g+y*(y+2*f)+p;else y<=-_?(g=Math.max(0,-(-o*a+c)),y=g>0?-a:Math.min(Math.max(-a,-f),a),b=-g*g+y*(y+2*f)+p):y<=_?(g=0,y=Math.min(Math.max(-a,-f),a),b=y*(y+2*f)+p):(g=Math.max(0,-(o*a+c)),y=g>0?a:Math.min(Math.max(-a,-f),a),b=-g*g+y*(y+2*f)+p);else y=o>0?-a:a,g=Math.max(0,-(o*y+c)),b=-g*g+y*(y+2*f)+p;return i&&i.copy(this.origin).addScaledVector(this.direction,g),r&&r.copy(iE).addScaledVector(ix,y),b}intersectSphere(e,t){Ic.subVectors(e.center,this.origin);const i=Ic.dot(this.direction),r=Ic.dot(Ic)-i*i,a=e.radius*e.radius;if(r>a)return null;const o=Math.sqrt(a-r),c=i-o,f=i+o;return f<0?null:c<0?this.at(f,t):this.at(c,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,a,o,c,f;const p=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,y=this.origin;return p>=0?(i=(e.min.x-y.x)*p,r=(e.max.x-y.x)*p):(i=(e.max.x-y.x)*p,r=(e.min.x-y.x)*p),m>=0?(a=(e.min.y-y.y)*m,o=(e.max.y-y.y)*m):(a=(e.max.y-y.y)*m,o=(e.min.y-y.y)*m),i>o||a>r||((a>i||isNaN(i))&&(i=a),(o<r||isNaN(r))&&(r=o),g>=0?(c=(e.min.z-y.z)*g,f=(e.max.z-y.z)*g):(c=(e.max.z-y.z)*g,f=(e.min.z-y.z)*g),i>f||c>r)||((c>i||i!==i)&&(i=c),(f<r||r!==r)&&(r=f),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Ic)!==null}intersectTriangle(e,t,i,r,a){rE.subVectors(t,e),rx.subVectors(i,e),aE.crossVectors(rE,rx);let o=this.direction.dot(aE),c;if(o>0){if(r)return null;c=1}else if(o<0)c=-1,o=-o;else return null;rf.subVectors(this.origin,e);const f=c*this.direction.dot(rx.crossVectors(rf,rx));if(f<0)return null;const p=c*this.direction.dot(rE.cross(rf));if(p<0||f+p>o)return null;const m=-c*rf.dot(aE);return m<0?null:this.at(m/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Xt{constructor(e,t,i,r,a,o,c,f,p,m,g,y,b,_,E,M){Xt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,a,o,c,f,p,m,g,y,b,_,E,M)}set(e,t,i,r,a,o,c,f,p,m,g,y,b,_,E,M){const x=this.elements;return x[0]=e,x[4]=t,x[8]=i,x[12]=r,x[1]=a,x[5]=o,x[9]=c,x[13]=f,x[2]=p,x[6]=m,x[10]=g,x[14]=y,x[3]=b,x[7]=_,x[11]=E,x[15]=M,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Xt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Lp.setFromMatrixColumn(e,0).length(),a=1/Lp.setFromMatrixColumn(e,1).length(),o=1/Lp.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*a,t[5]=i[5]*a,t[6]=i[6]*a,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,a=e.z,o=Math.cos(i),c=Math.sin(i),f=Math.cos(r),p=Math.sin(r),m=Math.cos(a),g=Math.sin(a);if(e.order==="XYZ"){const y=o*m,b=o*g,_=c*m,E=c*g;t[0]=f*m,t[4]=-f*g,t[8]=p,t[1]=b+_*p,t[5]=y-E*p,t[9]=-c*f,t[2]=E-y*p,t[6]=_+b*p,t[10]=o*f}else if(e.order==="YXZ"){const y=f*m,b=f*g,_=p*m,E=p*g;t[0]=y+E*c,t[4]=_*c-b,t[8]=o*p,t[1]=o*g,t[5]=o*m,t[9]=-c,t[2]=b*c-_,t[6]=E+y*c,t[10]=o*f}else if(e.order==="ZXY"){const y=f*m,b=f*g,_=p*m,E=p*g;t[0]=y-E*c,t[4]=-o*g,t[8]=_+b*c,t[1]=b+_*c,t[5]=o*m,t[9]=E-y*c,t[2]=-o*p,t[6]=c,t[10]=o*f}else if(e.order==="ZYX"){const y=o*m,b=o*g,_=c*m,E=c*g;t[0]=f*m,t[4]=_*p-b,t[8]=y*p+E,t[1]=f*g,t[5]=E*p+y,t[9]=b*p-_,t[2]=-p,t[6]=c*f,t[10]=o*f}else if(e.order==="YZX"){const y=o*f,b=o*p,_=c*f,E=c*p;t[0]=f*m,t[4]=E-y*g,t[8]=_*g+b,t[1]=g,t[5]=o*m,t[9]=-c*m,t[2]=-p*m,t[6]=b*g+_,t[10]=y-E*g}else if(e.order==="XZY"){const y=o*f,b=o*p,_=c*f,E=c*p;t[0]=f*m,t[4]=-g,t[8]=p*m,t[1]=y*g+E,t[5]=o*m,t[9]=b*g-_,t[2]=_*g-b,t[6]=c*m,t[10]=E*g+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(J4,e,e5)}lookAt(e,t,i){const r=this.elements;return Rs.subVectors(e,t),Rs.lengthSq()===0&&(Rs.z=1),Rs.normalize(),af.crossVectors(i,Rs),af.lengthSq()===0&&(Math.abs(i.z)===1?Rs.x+=1e-4:Rs.z+=1e-4,Rs.normalize(),af.crossVectors(i,Rs)),af.normalize(),ax.crossVectors(Rs,af),r[0]=af.x,r[4]=ax.x,r[8]=Rs.x,r[1]=af.y,r[5]=ax.y,r[9]=Rs.y,r[2]=af.z,r[6]=ax.z,r[10]=Rs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,a=this.elements,o=i[0],c=i[4],f=i[8],p=i[12],m=i[1],g=i[5],y=i[9],b=i[13],_=i[2],E=i[6],M=i[10],x=i[14],D=i[3],A=i[7],T=i[11],O=i[15],N=r[0],z=r[4],F=r[8],P=r[12],w=r[1],L=r[5],H=r[9],V=r[13],G=r[2],$=r[6],B=r[10],j=r[14],q=r[3],Q=r[7],W=r[11],ie=r[15];return a[0]=o*N+c*w+f*G+p*q,a[4]=o*z+c*L+f*$+p*Q,a[8]=o*F+c*H+f*B+p*W,a[12]=o*P+c*V+f*j+p*ie,a[1]=m*N+g*w+y*G+b*q,a[5]=m*z+g*L+y*$+b*Q,a[9]=m*F+g*H+y*B+b*W,a[13]=m*P+g*V+y*j+b*ie,a[2]=_*N+E*w+M*G+x*q,a[6]=_*z+E*L+M*$+x*Q,a[10]=_*F+E*H+M*B+x*W,a[14]=_*P+E*V+M*j+x*ie,a[3]=D*N+A*w+T*G+O*q,a[7]=D*z+A*L+T*$+O*Q,a[11]=D*F+A*H+T*B+O*W,a[15]=D*P+A*V+T*j+O*ie,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],a=e[12],o=e[1],c=e[5],f=e[9],p=e[13],m=e[2],g=e[6],y=e[10],b=e[14],_=e[3],E=e[7],M=e[11],x=e[15];return _*(+a*f*g-r*p*g-a*c*y+i*p*y+r*c*b-i*f*b)+E*(+t*f*b-t*p*y+a*o*y-r*o*b+r*p*m-a*f*m)+M*(+t*p*g-t*c*b-a*o*g+i*o*b+a*c*m-i*p*m)+x*(-r*c*m-t*f*g+t*c*y+r*o*g-i*o*y+i*f*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],a=e[3],o=e[4],c=e[5],f=e[6],p=e[7],m=e[8],g=e[9],y=e[10],b=e[11],_=e[12],E=e[13],M=e[14],x=e[15],D=g*M*p-E*y*p+E*f*b-c*M*b-g*f*x+c*y*x,A=_*y*p-m*M*p-_*f*b+o*M*b+m*f*x-o*y*x,T=m*E*p-_*g*p+_*c*b-o*E*b-m*c*x+o*g*x,O=_*g*f-m*E*f-_*c*y+o*E*y+m*c*M-o*g*M,N=t*D+i*A+r*T+a*O;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const z=1/N;return e[0]=D*z,e[1]=(E*y*a-g*M*a-E*r*b+i*M*b+g*r*x-i*y*x)*z,e[2]=(c*M*a-E*f*a+E*r*p-i*M*p-c*r*x+i*f*x)*z,e[3]=(g*f*a-c*y*a-g*r*p+i*y*p+c*r*b-i*f*b)*z,e[4]=A*z,e[5]=(m*M*a-_*y*a+_*r*b-t*M*b-m*r*x+t*y*x)*z,e[6]=(_*f*a-o*M*a-_*r*p+t*M*p+o*r*x-t*f*x)*z,e[7]=(o*y*a-m*f*a+m*r*p-t*y*p-o*r*b+t*f*b)*z,e[8]=T*z,e[9]=(_*g*a-m*E*a-_*i*b+t*E*b+m*i*x-t*g*x)*z,e[10]=(o*E*a-_*c*a+_*i*p-t*E*p-o*i*x+t*c*x)*z,e[11]=(m*c*a-o*g*a-m*i*p+t*g*p+o*i*b-t*c*b)*z,e[12]=O*z,e[13]=(m*E*r-_*g*r+_*i*y-t*E*y-m*i*M+t*g*M)*z,e[14]=(_*c*r-o*E*r-_*i*f+t*E*f+o*i*M-t*c*M)*z,e[15]=(o*g*r-m*c*r+m*i*f-t*g*f-o*i*y+t*c*y)*z,this}scale(e){const t=this.elements,i=e.x,r=e.y,a=e.z;return t[0]*=i,t[4]*=r,t[8]*=a,t[1]*=i,t[5]*=r,t[9]*=a,t[2]*=i,t[6]*=r,t[10]*=a,t[3]*=i,t[7]*=r,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),a=1-i,o=e.x,c=e.y,f=e.z,p=a*o,m=a*c;return this.set(p*o+i,p*c-r*f,p*f+r*c,0,p*c+r*f,m*c+i,m*f-r*o,0,p*f-r*c,m*f+r*o,a*f*f+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,a,o){return this.set(1,i,a,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,a=t._x,o=t._y,c=t._z,f=t._w,p=a+a,m=o+o,g=c+c,y=a*p,b=a*m,_=a*g,E=o*m,M=o*g,x=c*g,D=f*p,A=f*m,T=f*g,O=i.x,N=i.y,z=i.z;return r[0]=(1-(E+x))*O,r[1]=(b+T)*O,r[2]=(_-A)*O,r[3]=0,r[4]=(b-T)*N,r[5]=(1-(y+x))*N,r[6]=(M+D)*N,r[7]=0,r[8]=(_+A)*z,r[9]=(M-D)*z,r[10]=(1-(y+E))*z,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let a=Lp.set(r[0],r[1],r[2]).length();const o=Lp.set(r[4],r[5],r[6]).length(),c=Lp.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],Zo.copy(this);const p=1/a,m=1/o,g=1/c;return Zo.elements[0]*=p,Zo.elements[1]*=p,Zo.elements[2]*=p,Zo.elements[4]*=m,Zo.elements[5]*=m,Zo.elements[6]*=m,Zo.elements[8]*=g,Zo.elements[9]*=g,Zo.elements[10]*=g,t.setFromRotationMatrix(Zo),i.x=a,i.y=o,i.z=c,this}makePerspective(e,t,i,r,a,o,c=vo){const f=this.elements,p=2*a/(t-e),m=2*a/(i-r),g=(t+e)/(t-e),y=(i+r)/(i-r);let b,_;if(c===vo)b=-(o+a)/(o-a),_=-2*o*a/(o-a);else if(c===xv)b=-o/(o-a),_=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+c);return f[0]=p,f[4]=0,f[8]=g,f[12]=0,f[1]=0,f[5]=m,f[9]=y,f[13]=0,f[2]=0,f[6]=0,f[10]=b,f[14]=_,f[3]=0,f[7]=0,f[11]=-1,f[15]=0,this}makeOrthographic(e,t,i,r,a,o,c=vo){const f=this.elements,p=1/(t-e),m=1/(i-r),g=1/(o-a),y=(t+e)*p,b=(i+r)*m;let _,E;if(c===vo)_=(o+a)*g,E=-2*g;else if(c===xv)_=a*g,E=-1*g;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+c);return f[0]=2*p,f[4]=0,f[8]=0,f[12]=-y,f[1]=0,f[5]=2*m,f[9]=0,f[13]=-b,f[2]=0,f[6]=0,f[10]=E,f[14]=-_,f[3]=0,f[7]=0,f[11]=0,f[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Lp=new re,Zo=new Xt,J4=new re(0,0,0),e5=new re(1,1,1),af=new re,ax=new re,Rs=new re,HR=new Xt,VR=new xa;class zs{constructor(e=0,t=0,i=0,r=zs.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,a=r[0],o=r[4],c=r[8],f=r[1],p=r[5],m=r[9],g=r[2],y=r[6],b=r[10];switch(t){case"XYZ":this._y=Math.asin(an(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,b),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(y,p),this._z=0);break;case"YXZ":this._x=Math.asin(-an(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(c,b),this._z=Math.atan2(f,p)):(this._y=Math.atan2(-g,a),this._z=0);break;case"ZXY":this._x=Math.asin(an(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,b),this._z=Math.atan2(-o,p)):(this._y=0,this._z=Math.atan2(f,a));break;case"ZYX":this._y=Math.asin(-an(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,b),this._z=Math.atan2(f,a)):(this._x=0,this._z=Math.atan2(-o,p));break;case"YZX":this._z=Math.asin(an(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-g,a)):(this._x=0,this._y=Math.atan2(c,b));break;case"XZY":this._z=Math.asin(-an(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(y,p),this._y=Math.atan2(c,a)):(this._x=Math.atan2(-m,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return HR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(HR,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return VR.setFromEuler(this),this.setFromQuaternion(VR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}zs.DEFAULT_ORDER="XYZ";class Rm{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let t5=0;const kR=new re,Ip=new xa,zc=new Xt,sx=new re,xy=new re,n5=new re,i5=new xa,GR=new re(1,0,0),qR=new re(0,1,0),jR=new re(0,0,1),WR={type:"added"},r5={type:"removed"},zp={type:"childadded",child:null},sE={type:"childremoved",child:null};class Bn extends uc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:t5++}),this.uuid=Ls(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Bn.DEFAULT_UP.clone();const e=new re,t=new zs,i=new xa,r=new re(1,1,1);function a(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(a),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Xt},normalMatrix:{value:new ln}}),this.matrix=new Xt,this.matrixWorld=new Xt,this.matrixAutoUpdate=Bn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Bn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Rm,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Ip.setFromAxisAngle(e,t),this.quaternion.multiply(Ip),this}rotateOnWorldAxis(e,t){return Ip.setFromAxisAngle(e,t),this.quaternion.premultiply(Ip),this}rotateX(e){return this.rotateOnAxis(GR,e)}rotateY(e){return this.rotateOnAxis(qR,e)}rotateZ(e){return this.rotateOnAxis(jR,e)}translateOnAxis(e,t){return kR.copy(e).applyQuaternion(this.quaternion),this.position.add(kR.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(GR,e)}translateY(e){return this.translateOnAxis(qR,e)}translateZ(e){return this.translateOnAxis(jR,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(zc.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?sx.copy(e):sx.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),xy.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?zc.lookAt(xy,sx,this.up):zc.lookAt(sx,xy,this.up),this.quaternion.setFromRotationMatrix(zc),r&&(zc.extractRotation(r.matrixWorld),Ip.setFromRotationMatrix(zc),this.quaternion.premultiply(Ip.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(WR),zp.child=e,this.dispatchEvent(zp),zp.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(r5),sE.child=e,this.dispatchEvent(sE),sE.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),zc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),zc.multiply(e.parent.matrixWorld)),e.applyMatrix4(zc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(WR),zp.child=e,this.dispatchEvent(zp),zp.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xy,e,n5),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xy,i5,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let a=0,o=r.length;a<o;a++)r[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(c=>({...c,boundingBox:c.boundingBox?{min:c.boundingBox.min.toArray(),max:c.boundingBox.max.toArray()}:void 0,boundingSphere:c.boundingSphere?{radius:c.boundingSphere.radius,center:c.boundingSphere.center.toArray()}:void 0})),r.instanceInfo=this._instanceInfo.map(c=>({...c})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function a(c,f){return c[f.uuid]===void 0&&(c[f.uuid]=f.toJSON(e)),f.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const f=c.shapes;if(Array.isArray(f))for(let p=0,m=f.length;p<m;p++){const g=f[p];a(e.shapes,g)}else a(e.shapes,f)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let f=0,p=this.material.length;f<p;f++)c.push(a(e.materials,this.material[f]));r.material=c}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let c=0;c<this.children.length;c++)r.children.push(this.children[c].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let c=0;c<this.animations.length;c++){const f=this.animations[c];r.animations.push(a(e.animations,f))}}if(t){const c=o(e.geometries),f=o(e.materials),p=o(e.textures),m=o(e.images),g=o(e.shapes),y=o(e.skeletons),b=o(e.animations),_=o(e.nodes);c.length>0&&(i.geometries=c),f.length>0&&(i.materials=f),p.length>0&&(i.textures=p),m.length>0&&(i.images=m),g.length>0&&(i.shapes=g),y.length>0&&(i.skeletons=y),b.length>0&&(i.animations=b),_.length>0&&(i.nodes=_)}return i.object=r,i;function o(c){const f=[];for(const p in c){const m=c[p];delete m.metadata,f.push(m)}return f}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Bn.DEFAULT_UP=new re(0,1,0);Bn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Bn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Jo=new re,Bc=new re,oE=new re,Fc=new re,Bp=new re,Fp=new re,XR=new re,lE=new re,cE=new re,uE=new re,fE=new zn,dE=new zn,hE=new zn;class fs{constructor(e=new re,t=new re,i=new re){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Jo.subVectors(e,t),r.cross(Jo);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,t,i,r,a){Jo.subVectors(r,t),Bc.subVectors(i,t),oE.subVectors(e,t);const o=Jo.dot(Jo),c=Jo.dot(Bc),f=Jo.dot(oE),p=Bc.dot(Bc),m=Bc.dot(oE),g=o*p-c*c;if(g===0)return a.set(0,0,0),null;const y=1/g,b=(p*f-c*m)*y,_=(o*m-c*f)*y;return a.set(1-b-_,_,b)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Fc)===null?!1:Fc.x>=0&&Fc.y>=0&&Fc.x+Fc.y<=1}static getInterpolation(e,t,i,r,a,o,c,f){return this.getBarycoord(e,t,i,r,Fc)===null?(f.x=0,f.y=0,"z"in f&&(f.z=0),"w"in f&&(f.w=0),null):(f.setScalar(0),f.addScaledVector(a,Fc.x),f.addScaledVector(o,Fc.y),f.addScaledVector(c,Fc.z),f)}static getInterpolatedAttribute(e,t,i,r,a,o){return fE.setScalar(0),dE.setScalar(0),hE.setScalar(0),fE.fromBufferAttribute(e,t),dE.fromBufferAttribute(e,i),hE.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector(fE,a.x),o.addScaledVector(dE,a.y),o.addScaledVector(hE,a.z),o}static isFrontFacing(e,t,i,r){return Jo.subVectors(i,t),Bc.subVectors(e,t),Jo.cross(Bc).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Jo.subVectors(this.c,this.b),Bc.subVectors(this.a,this.b),Jo.cross(Bc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return fs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return fs.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,a){return fs.getInterpolation(e,this.a,this.b,this.c,t,i,r,a)}containsPoint(e){return fs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return fs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,a=this.c;let o,c;Bp.subVectors(r,i),Fp.subVectors(a,i),lE.subVectors(e,i);const f=Bp.dot(lE),p=Fp.dot(lE);if(f<=0&&p<=0)return t.copy(i);cE.subVectors(e,r);const m=Bp.dot(cE),g=Fp.dot(cE);if(m>=0&&g<=m)return t.copy(r);const y=f*g-m*p;if(y<=0&&f>=0&&m<=0)return o=f/(f-m),t.copy(i).addScaledVector(Bp,o);uE.subVectors(e,a);const b=Bp.dot(uE),_=Fp.dot(uE);if(_>=0&&b<=_)return t.copy(a);const E=b*p-f*_;if(E<=0&&p>=0&&_<=0)return c=p/(p-_),t.copy(i).addScaledVector(Fp,c);const M=m*_-b*g;if(M<=0&&g-m>=0&&b-_>=0)return XR.subVectors(a,r),c=(g-m)/(g-m+(b-_)),t.copy(r).addScaledVector(XR,c);const x=1/(M+E+y);return o=E*x,c=y*x,t.copy(i).addScaledVector(Bp,o).addScaledVector(Fp,c)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const KN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},sf={h:0,s:0,l:0},ox={h:0,s:0,l:0};function pE(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Rt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=$r){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Pn.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Pn.workingColorSpace){return this.r=e,this.g=t,this.b=i,Pn.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Pn.workingColorSpace){if(e=$A(e,1),t=an(t,0,1),i=an(i,0,1),t===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+t):i+t-i*t,o=2*i-a;this.r=pE(o,a,e+1/3),this.g=pE(o,a,e),this.b=pE(o,a,e-1/3)}return Pn.toWorkingColorSpace(this,r),this}setStyle(e,t=$r){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=r[1],c=r[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=$r){const i=KN[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Jc(e.r),this.g=Jc(e.g),this.b=Jc(e.b),this}copyLinearToSRGB(e){return this.r=gm(e.r),this.g=gm(e.g),this.b=gm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=$r){return Pn.fromWorkingColorSpace(ma.copy(this),e),Math.round(an(ma.r*255,0,255))*65536+Math.round(an(ma.g*255,0,255))*256+Math.round(an(ma.b*255,0,255))}getHexString(e=$r){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Pn.workingColorSpace){Pn.fromWorkingColorSpace(ma.copy(this),t);const i=ma.r,r=ma.g,a=ma.b,o=Math.max(i,r,a),c=Math.min(i,r,a);let f,p;const m=(c+o)/2;if(c===o)f=0,p=0;else{const g=o-c;switch(p=m<=.5?g/(o+c):g/(2-o-c),o){case i:f=(r-a)/g+(r<a?6:0);break;case r:f=(a-i)/g+2;break;case a:f=(i-r)/g+4;break}f/=6}return e.h=f,e.s=p,e.l=m,e}getRGB(e,t=Pn.workingColorSpace){return Pn.fromWorkingColorSpace(ma.copy(this),t),e.r=ma.r,e.g=ma.g,e.b=ma.b,e}getStyle(e=$r){Pn.fromWorkingColorSpace(ma.copy(this),e);const t=ma.r,i=ma.g,r=ma.b;return e!==$r?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(sf),this.setHSL(sf.h+e,sf.s+t,sf.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(sf),e.getHSL(ox);const i=tv(sf.h,ox.h,t),r=tv(sf.s,ox.s,t),a=tv(sf.l,ox.l,t);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*t+a[3]*i+a[6]*r,this.g=a[1]*t+a[4]*i+a[7]*r,this.b=a[2]*t+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ma=new Rt;Rt.NAMES=KN;let a5=0;class Ea extends uc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:a5++}),this.uuid=Ls(),this.name="",this.type="Material",this.blending=Kd,this.side=tu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=OS,this.blendDst=DS,this.blendEquation=uf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Rt(0,0,0),this.blendAlpha=0,this.depthFunc=ch,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=PT,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Id,this.stencilZFail=Id,this.stencilZPass=Id,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Kd&&(i.blending=this.blending),this.side!==tu&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==OS&&(i.blendSrc=this.blendSrc),this.blendDst!==DS&&(i.blendDst=this.blendDst),this.blendEquation!==uf&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==ch&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==PT&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Id&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Id&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Id&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const o=[];for(const c in a){const f=a[c];delete f.metadata,o.push(f)}return o}if(t){const a=r(e.textures),o=r(e.images);a.length>0&&(i.textures=a),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=t[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Mf extends Ea{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Rt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zs,this.combine=$v,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Xc=s5();function s5(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let f=0;f<256;++f){const p=f-127;p<-27?(i[f]=0,i[f|256]=32768,r[f]=24,r[f|256]=24):p<-14?(i[f]=1024>>-p-14,i[f|256]=1024>>-p-14|32768,r[f]=-p-1,r[f|256]=-p-1):p<=15?(i[f]=p+15<<10,i[f|256]=p+15<<10|32768,r[f]=13,r[f|256]=13):p<128?(i[f]=31744,i[f|256]=64512,r[f]=24,r[f|256]=24):(i[f]=31744,i[f|256]=64512,r[f]=13,r[f|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),c=new Uint32Array(64);for(let f=1;f<1024;++f){let p=f<<13,m=0;for(;(p&8388608)===0;)p<<=1,m-=8388608;p&=-8388609,m+=947912704,a[f]=p|m}for(let f=1024;f<2048;++f)a[f]=939524096+(f-1024<<13);for(let f=1;f<31;++f)o[f]=f<<23;o[31]=1199570944,o[32]=2147483648;for(let f=33;f<63;++f)o[f]=2147483648+(f-32<<23);o[63]=3347054592;for(let f=1;f<64;++f)f!==32&&(c[f]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:a,exponentTable:o,offsetTable:c}}function ls(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=an(n,-65504,65504),Xc.floatView[0]=n;const e=Xc.uint32View[0],t=e>>23&511;return Xc.baseTable[t]+((e&8388607)>>Xc.shiftTable[t])}function By(n){const e=n>>10;return Xc.uint32View[0]=Xc.mantissaTable[Xc.offsetTable[e]+(n&1023)]+Xc.exponentTable[e],Xc.floatView[0]}class o5{static toHalfFloat(e){return ls(e)}static fromHalfFloat(e){return By(e)}}const dr=new re,lx=new Je;let l5=0;class Yn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:l5++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=bv,this.updateRanges=[],this.gpuType=ds,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)lx.fromBufferAttribute(this,t),lx.applyMatrix3(e),this.setXY(t,lx.x,lx.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)dr.fromBufferAttribute(this,t),dr.applyMatrix3(e),this.setXYZ(t,dr.x,dr.y,dr.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)dr.fromBufferAttribute(this,t),dr.applyMatrix4(e),this.setXYZ(t,dr.x,dr.y,dr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)dr.fromBufferAttribute(this,t),dr.applyNormalMatrix(e),this.setXYZ(t,dr.x,dr.y,dr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)dr.fromBufferAttribute(this,t),dr.transformDirection(e),this.setXYZ(t,dr.x,dr.y,dr.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=qa(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=un(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=qa(t,this.array)),t}setX(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=qa(t,this.array)),t}setY(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=qa(t,this.array)),t}setZ(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=qa(t,this.array)),t}setW(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),i=un(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),i=un(i,this.array),r=un(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),i=un(i,this.array),r=un(r,this.array),a=un(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==bv&&(e.usage=this.usage),e}}class c5 extends Yn{constructor(e,t,i){super(new Int8Array(e),t,i)}}class u5 extends Yn{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class f5 extends Yn{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class d5 extends Yn{constructor(e,t,i){super(new Int16Array(e),t,i)}}class QA extends Yn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class h5 extends Yn{constructor(e,t,i){super(new Int32Array(e),t,i)}}class KA extends Yn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class p5 extends Yn{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=By(this.array[e*this.itemSize]);return this.normalized&&(t=qa(t,this.array)),t}setX(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize]=ls(t),this}getY(e){let t=By(this.array[e*this.itemSize+1]);return this.normalized&&(t=qa(t,this.array)),t}setY(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+1]=ls(t),this}getZ(e){let t=By(this.array[e*this.itemSize+2]);return this.normalized&&(t=qa(t,this.array)),t}setZ(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+2]=ls(t),this}getW(e){let t=By(this.array[e*this.itemSize+3]);return this.normalized&&(t=qa(t,this.array)),t}setW(e,t){return this.normalized&&(t=un(t,this.array)),this.array[e*this.itemSize+3]=ls(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),i=un(i,this.array)),this.array[e+0]=ls(t),this.array[e+1]=ls(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),i=un(i,this.array),r=un(r,this.array)),this.array[e+0]=ls(t),this.array[e+1]=ls(i),this.array[e+2]=ls(r),this}setXYZW(e,t,i,r,a){return e*=this.itemSize,this.normalized&&(t=un(t,this.array),i=un(i,this.array),r=un(r,this.array),a=un(a,this.array)),this.array[e+0]=ls(t),this.array[e+1]=ls(i),this.array[e+2]=ls(r),this.array[e+3]=ls(a),this}}class Nt extends Yn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let m5=0;const uo=new Xt,mE=new Bn,Hp=new re,Os=new Sa,Sy=new Sa,Lr=new re;class sn extends uc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:m5++}),this.uuid=Ls(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(YN(e)?KA:QA)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new ln().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return uo.makeRotationFromQuaternion(e),this.applyMatrix4(uo),this}rotateX(e){return uo.makeRotationX(e),this.applyMatrix4(uo),this}rotateY(e){return uo.makeRotationY(e),this.applyMatrix4(uo),this}rotateZ(e){return uo.makeRotationZ(e),this.applyMatrix4(uo),this}translate(e,t,i){return uo.makeTranslation(e,t,i),this.applyMatrix4(uo),this}scale(e,t,i){return uo.makeScale(e,t,i),this.applyMatrix4(uo),this}lookAt(e){return mE.lookAt(e),mE.updateMatrix(),this.applyMatrix4(mE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Hp).negate(),this.translate(Hp.x,Hp.y,Hp.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,a=e.length;r<a;r++){const o=e[r];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Nt(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const a=e[r];t.setXYZ(r,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Sa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new re(-1/0,-1/0,-1/0),new re(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const a=t[i];Os.setFromBufferAttribute(a),this.morphTargetsRelative?(Lr.addVectors(this.boundingBox.min,Os.min),this.boundingBox.expandByPoint(Lr),Lr.addVectors(this.boundingBox.max,Os.max),this.boundingBox.expandByPoint(Lr)):(this.boundingBox.expandByPoint(Os.min),this.boundingBox.expandByPoint(Os.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Jr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new re,1/0);return}if(e){const i=this.boundingSphere.center;if(Os.setFromBufferAttribute(e),t)for(let a=0,o=t.length;a<o;a++){const c=t[a];Sy.setFromBufferAttribute(c),this.morphTargetsRelative?(Lr.addVectors(Os.min,Sy.min),Os.expandByPoint(Lr),Lr.addVectors(Os.max,Sy.max),Os.expandByPoint(Lr)):(Os.expandByPoint(Sy.min),Os.expandByPoint(Sy.max))}Os.getCenter(i);let r=0;for(let a=0,o=e.count;a<o;a++)Lr.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared(Lr));if(t)for(let a=0,o=t.length;a<o;a++){const c=t[a],f=this.morphTargetsRelative;for(let p=0,m=c.count;p<m;p++)Lr.fromBufferAttribute(c,p),f&&(Hp.fromBufferAttribute(e,p),Lr.add(Hp)),r=Math.max(r,i.distanceToSquared(Lr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Yn(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),c=[],f=[];for(let F=0;F<i.count;F++)c[F]=new re,f[F]=new re;const p=new re,m=new re,g=new re,y=new Je,b=new Je,_=new Je,E=new re,M=new re;function x(F,P,w){p.fromBufferAttribute(i,F),m.fromBufferAttribute(i,P),g.fromBufferAttribute(i,w),y.fromBufferAttribute(a,F),b.fromBufferAttribute(a,P),_.fromBufferAttribute(a,w),m.sub(p),g.sub(p),b.sub(y),_.sub(y);const L=1/(b.x*_.y-_.x*b.y);isFinite(L)&&(E.copy(m).multiplyScalar(_.y).addScaledVector(g,-b.y).multiplyScalar(L),M.copy(g).multiplyScalar(b.x).addScaledVector(m,-_.x).multiplyScalar(L),c[F].add(E),c[P].add(E),c[w].add(E),f[F].add(M),f[P].add(M),f[w].add(M))}let D=this.groups;D.length===0&&(D=[{start:0,count:e.count}]);for(let F=0,P=D.length;F<P;++F){const w=D[F],L=w.start,H=w.count;for(let V=L,G=L+H;V<G;V+=3)x(e.getX(V+0),e.getX(V+1),e.getX(V+2))}const A=new re,T=new re,O=new re,N=new re;function z(F){O.fromBufferAttribute(r,F),N.copy(O);const P=c[F];A.copy(P),A.sub(O.multiplyScalar(O.dot(P))).normalize(),T.crossVectors(N,P);const L=T.dot(f[F])<0?-1:1;o.setXYZW(F,A.x,A.y,A.z,L)}for(let F=0,P=D.length;F<P;++F){const w=D[F],L=w.start,H=w.count;for(let V=L,G=L+H;V<G;V+=3)z(e.getX(V+0)),z(e.getX(V+1)),z(e.getX(V+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Yn(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let y=0,b=i.count;y<b;y++)i.setXYZ(y,0,0,0);const r=new re,a=new re,o=new re,c=new re,f=new re,p=new re,m=new re,g=new re;if(e)for(let y=0,b=e.count;y<b;y+=3){const _=e.getX(y+0),E=e.getX(y+1),M=e.getX(y+2);r.fromBufferAttribute(t,_),a.fromBufferAttribute(t,E),o.fromBufferAttribute(t,M),m.subVectors(o,a),g.subVectors(r,a),m.cross(g),c.fromBufferAttribute(i,_),f.fromBufferAttribute(i,E),p.fromBufferAttribute(i,M),c.add(m),f.add(m),p.add(m),i.setXYZ(_,c.x,c.y,c.z),i.setXYZ(E,f.x,f.y,f.z),i.setXYZ(M,p.x,p.y,p.z)}else for(let y=0,b=t.count;y<b;y+=3)r.fromBufferAttribute(t,y+0),a.fromBufferAttribute(t,y+1),o.fromBufferAttribute(t,y+2),m.subVectors(o,a),g.subVectors(r,a),m.cross(g),i.setXYZ(y+0,m.x,m.y,m.z),i.setXYZ(y+1,m.x,m.y,m.z),i.setXYZ(y+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Lr.fromBufferAttribute(e,t),Lr.normalize(),e.setXYZ(t,Lr.x,Lr.y,Lr.z)}toNonIndexed(){function e(c,f){const p=c.array,m=c.itemSize,g=c.normalized,y=new p.constructor(f.length*m);let b=0,_=0;for(let E=0,M=f.length;E<M;E++){c.isInterleavedBufferAttribute?b=f[E]*c.data.stride+c.offset:b=f[E]*m;for(let x=0;x<m;x++)y[_++]=p[b++]}return new Yn(y,m,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new sn,i=this.index.array,r=this.attributes;for(const c in r){const f=r[c],p=e(f,i);t.setAttribute(c,p)}const a=this.morphAttributes;for(const c in a){const f=[],p=a[c];for(let m=0,g=p.length;m<g;m++){const y=p[m],b=e(y,i);f.push(b)}t.morphAttributes[c]=f}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let c=0,f=o.length;c<f;c++){const p=o[c];t.addGroup(p.start,p.count,p.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const f=this.parameters;for(const p in f)f[p]!==void 0&&(e[p]=f[p]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const f in i){const p=i[f];e.data.attributes[f]=p.toJSON(e.data)}const r={};let a=!1;for(const f in this.morphAttributes){const p=this.morphAttributes[f],m=[];for(let g=0,y=p.length;g<y;g++){const b=p[g];m.push(b.toJSON(e.data))}m.length>0&&(r[f]=m,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const c=this.boundingSphere;return c!==null&&(e.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const p in r){const m=r[p];this.setAttribute(p,m.clone(t))}const a=e.morphAttributes;for(const p in a){const m=[],g=a[p];for(let y=0,b=g.length;y<b;y++)m.push(g[y].clone(t));this.morphAttributes[p]=m}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let p=0,m=o.length;p<m;p++){const g=o[p];this.addGroup(g.start,g.count,g.materialIndex)}const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const f=e.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const YR=new Xt,_d=new Mh,cx=new Jr,$R=new re,ux=new re,fx=new re,dx=new re,gE=new re,hx=new re,QR=new re,px=new re;class pr extends Bn{constructor(e=new sn,t=new Mf){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const c=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const c=this.morphTargetInfluences;if(a&&c){hx.set(0,0,0);for(let f=0,p=a.length;f<p;f++){const m=c[f],g=a[f];m!==0&&(gE.fromBufferAttribute(g,e),o?hx.addScaledVector(gE,m):hx.addScaledVector(gE.sub(t),m))}t.add(hx)}return t}raycast(e,t){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),cx.copy(i.boundingSphere),cx.applyMatrix4(a),_d.copy(e.ray).recast(e.near),!(cx.containsPoint(_d.origin)===!1&&(_d.intersectSphere(cx,$R)===null||_d.origin.distanceToSquared($R)>(e.far-e.near)**2))&&(YR.copy(a).invert(),_d.copy(e.ray).applyMatrix4(YR),!(i.boundingBox!==null&&_d.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,_d)))}_computeIntersections(e,t,i){let r;const a=this.geometry,o=this.material,c=a.index,f=a.attributes.position,p=a.attributes.uv,m=a.attributes.uv1,g=a.attributes.normal,y=a.groups,b=a.drawRange;if(c!==null)if(Array.isArray(o))for(let _=0,E=y.length;_<E;_++){const M=y[_],x=o[M.materialIndex],D=Math.max(M.start,b.start),A=Math.min(c.count,Math.min(M.start+M.count,b.start+b.count));for(let T=D,O=A;T<O;T+=3){const N=c.getX(T),z=c.getX(T+1),F=c.getX(T+2);r=mx(this,x,e,i,p,m,g,N,z,F),r&&(r.faceIndex=Math.floor(T/3),r.face.materialIndex=M.materialIndex,t.push(r))}}else{const _=Math.max(0,b.start),E=Math.min(c.count,b.start+b.count);for(let M=_,x=E;M<x;M+=3){const D=c.getX(M),A=c.getX(M+1),T=c.getX(M+2);r=mx(this,o,e,i,p,m,g,D,A,T),r&&(r.faceIndex=Math.floor(M/3),t.push(r))}}else if(f!==void 0)if(Array.isArray(o))for(let _=0,E=y.length;_<E;_++){const M=y[_],x=o[M.materialIndex],D=Math.max(M.start,b.start),A=Math.min(f.count,Math.min(M.start+M.count,b.start+b.count));for(let T=D,O=A;T<O;T+=3){const N=T,z=T+1,F=T+2;r=mx(this,x,e,i,p,m,g,N,z,F),r&&(r.faceIndex=Math.floor(T/3),r.face.materialIndex=M.materialIndex,t.push(r))}}else{const _=Math.max(0,b.start),E=Math.min(f.count,b.start+b.count);for(let M=_,x=E;M<x;M+=3){const D=M,A=M+1,T=M+2;r=mx(this,o,e,i,p,m,g,D,A,T),r&&(r.faceIndex=Math.floor(M/3),t.push(r))}}}}function g5(n,e,t,i,r,a,o,c){let f;if(e.side===ba?f=i.intersectTriangle(o,a,r,!0,c):f=i.intersectTriangle(r,a,o,e.side===tu,c),f===null)return null;px.copy(c),px.applyMatrix4(n.matrixWorld);const p=t.ray.origin.distanceTo(px);return p<t.near||p>t.far?null:{distance:p,point:px.clone(),object:n}}function mx(n,e,t,i,r,a,o,c,f,p){n.getVertexPosition(c,ux),n.getVertexPosition(f,fx),n.getVertexPosition(p,dx);const m=g5(n,e,t,i,ux,fx,dx,QR);if(m){const g=new re;fs.getBarycoord(QR,ux,fx,dx,g),r&&(m.uv=fs.getInterpolatedAttribute(r,c,f,p,g,new Je)),a&&(m.uv1=fs.getInterpolatedAttribute(a,c,f,p,g,new Je)),o&&(m.normal=fs.getInterpolatedAttribute(o,c,f,p,g,new re),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const y={a:c,b:f,c:p,normal:new re,materialIndex:0};fs.getNormal(ux,fx,dx,y.normal),m.face=y,m.barycoord=g}return m}class Eh extends sn{constructor(e=1,t=1,i=1,r=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:a,depthSegments:o};const c=this;r=Math.floor(r),a=Math.floor(a),o=Math.floor(o);const f=[],p=[],m=[],g=[];let y=0,b=0;_("z","y","x",-1,-1,i,t,e,o,a,0),_("z","y","x",1,-1,i,t,-e,o,a,1),_("x","z","y",1,1,e,i,t,r,o,2),_("x","z","y",1,-1,e,i,-t,r,o,3),_("x","y","z",1,-1,e,t,i,r,a,4),_("x","y","z",-1,-1,e,t,-i,r,a,5),this.setIndex(f),this.setAttribute("position",new Nt(p,3)),this.setAttribute("normal",new Nt(m,3)),this.setAttribute("uv",new Nt(g,2));function _(E,M,x,D,A,T,O,N,z,F,P){const w=T/z,L=O/F,H=T/2,V=O/2,G=N/2,$=z+1,B=F+1;let j=0,q=0;const Q=new re;for(let W=0;W<B;W++){const ie=W*L-V;for(let le=0;le<$;le++){const he=le*w-H;Q[E]=he*D,Q[M]=ie*A,Q[x]=G,p.push(Q.x,Q.y,Q.z),Q[E]=0,Q[M]=0,Q[x]=N>0?1:-1,m.push(Q.x,Q.y,Q.z),g.push(le/z),g.push(1-W/F),j+=1}}for(let W=0;W<F;W++)for(let ie=0;ie<z;ie++){const le=y+ie+$*W,he=y+ie+$*(W+1),ae=y+(ie+1)+$*(W+1),se=y+(ie+1)+$*W;f.push(le,he,se),f.push(he,ae,se),q+=6}c.addGroup(b,q,P),b+=q,y+=j}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Eh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Om(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function ka(n){const e={};for(let t=0;t<n.length;t++){const i=Om(n[t]);for(const r in i)e[r]=i[r]}return e}function y5(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function ZN(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Pn.workingColorSpace}const ZA={clone:Om,merge:ka};var v5=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,b5=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class So extends Ea{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=v5,this.fragmentShader=b5,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Om(e.uniforms),this.uniformsGroups=y5(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class n1 extends Bn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Xt,this.projectionMatrix=new Xt,this.projectionMatrixInverse=new Xt,this.coordinateSystem=vo}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const of=new re,KR=new Je,ZR=new Je;class Ji extends n1{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Cm*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Zd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Cm*2*Math.atan(Math.tan(Zd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){of.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(of.x,of.y).multiplyScalar(-e/of.z),of.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(of.x,of.y).multiplyScalar(-e/of.z)}getViewSize(e,t){return this.getViewBounds(e,KR,ZR),t.subVectors(ZR,KR)}setViewOffset(e,t,i,r,a,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Zd*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,a=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const f=o.fullWidth,p=o.fullHeight;a+=o.offsetX*r/f,t-=o.offsetY*i/p,r*=o.width/f,i*=o.height/p}const c=this.filmOffset;c!==0&&(a+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Vp=-90,kp=1;class JN extends Bn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Ji(Vp,kp,e,t);r.layers=this.layers,this.add(r);const a=new Ji(Vp,kp,e,t);a.layers=this.layers,this.add(a);const o=new Ji(Vp,kp,e,t);o.layers=this.layers,this.add(o);const c=new Ji(Vp,kp,e,t);c.layers=this.layers,this.add(c);const f=new Ji(Vp,kp,e,t);f.layers=this.layers,this.add(f);const p=new Ji(Vp,kp,e,t);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,a,o,c,f]=t;for(const p of t)this.remove(p);if(e===vo)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),c.up.set(0,1,0),c.lookAt(0,0,1),f.up.set(0,1,0),f.lookAt(0,0,-1);else if(e===xv)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),c.up.set(0,-1,0),c.lookAt(0,0,1),f.up.set(0,-1,0),f.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const p of t)this.add(p),p.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,c,f,p,m]=this.children,g=e.getRenderTarget(),y=e.getActiveCubeFace(),b=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const E=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,a),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,c),e.setRenderTarget(i,3,r),e.render(t,f),e.setRenderTarget(i,4,r),e.render(t,p),i.texture.generateMipmaps=E,e.setRenderTarget(i,5,r),e.render(t,m),e.setRenderTarget(g,y,b),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class Zv extends ji{constructor(e=[],t=nu,i,r,a,o,c,f,p,m){super(e,t,i,r,a,o,c,f,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class eP extends ic{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new Zv(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Ar}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Eh(5,5,5),a=new So({name:"CubemapFromEquirect",uniforms:Om(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:ba,blending:Zc});a.uniforms.tEquirect.value=t;const o=new pr(r,a),c=t.minFilter;return t.minFilter===Zl&&(t.minFilter=Ar),new JN(1,10,this).update(e,o),t.minFilter=c,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(a)}}class fm extends Bn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const x5={type:"move"};class gS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new fm,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new fm,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new re,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new re),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new fm,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new re,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new re),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,a=null,o=null;const c=this._targetRay,f=this._grip,p=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(p&&e.hand){o=!0;for(const E of e.hand.values()){const M=t.getJointPose(E,i),x=this._getHandJoint(p,E);M!==null&&(x.matrix.fromArray(M.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,x.jointRadius=M.radius),x.visible=M!==null}const m=p.joints["index-finger-tip"],g=p.joints["thumb-tip"],y=m.position.distanceTo(g.position),b=.02,_=.005;p.inputState.pinching&&y>b+_?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&y<=b-_&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else f!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,i),a!==null&&(f.matrix.fromArray(a.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.matrixWorldNeedsUpdate=!0,a.linearVelocity?(f.hasLinearVelocity=!0,f.linearVelocity.copy(a.linearVelocity)):f.hasLinearVelocity=!1,a.angularVelocity?(f.hasAngularVelocity=!0,f.angularVelocity.copy(a.angularVelocity)):f.hasAngularVelocity=!1));c!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(c.matrix.fromArray(r.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,r.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(r.linearVelocity)):c.hasLinearVelocity=!1,r.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(r.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(x5)))}return c!==null&&(c.visible=r!==null),f!==null&&(f.visible=a!==null),p!==null&&(p.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new fm;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class i1{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Rt(e),this.density=t}clone(){return new i1(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class r1{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Rt(e),this.near=t,this.far=i}clone(){return new r1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class JA extends Bn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new zs,this.environmentIntensity=1,this.environmentRotation=new zs,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class a1{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=bv,this.updateRanges=[],this.version=0,this.uuid=Ls()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ls()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ls()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Va=new re;class uh{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Va.fromBufferAttribute(this,t),Va.applyMatrix4(e),this.setXYZ(t,Va.x,Va.y,Va.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Va.fromBufferAttribute(this,t),Va.applyNormalMatrix(e),this.setXYZ(t,Va.x,Va.y,Va.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Va.fromBufferAttribute(this,t),Va.transformDirection(e),this.setXYZ(t,Va.x,Va.y,Va.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=qa(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=un(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=un(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=un(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=un(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=un(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=qa(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=qa(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=qa(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=qa(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=un(t,this.array),i=un(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=un(t,this.array),i=un(i,this.array),r=un(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=un(t,this.array),i=un(i,this.array),r=un(r,this.array),a=un(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return new Yn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new uh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class ew extends Ea{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Rt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Gp;const _y=new re,qp=new re,jp=new re,Wp=new Je,My=new Je,tP=new Xt,gx=new re,Ey=new re,yx=new re,JR=new Je,yE=new Je,e2=new Je;class nP extends Bn{constructor(e=new ew){if(super(),this.isSprite=!0,this.type="Sprite",Gp===void 0){Gp=new sn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new a1(t,5);Gp.setIndex([0,1,2,0,2,3]),Gp.setAttribute("position",new uh(i,3,0,!1)),Gp.setAttribute("uv",new uh(i,2,3,!1))}this.geometry=Gp,this.material=e,this.center=new Je(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),qp.setFromMatrixScale(this.matrixWorld),tP.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),jp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&qp.multiplyScalar(-jp.z);const i=this.material.rotation;let r,a;i!==0&&(a=Math.cos(i),r=Math.sin(i));const o=this.center;vx(gx.set(-.5,-.5,0),jp,o,qp,r,a),vx(Ey.set(.5,-.5,0),jp,o,qp,r,a),vx(yx.set(.5,.5,0),jp,o,qp,r,a),JR.set(0,0),yE.set(1,0),e2.set(1,1);let c=e.ray.intersectTriangle(gx,Ey,yx,!1,_y);if(c===null&&(vx(Ey.set(-.5,.5,0),jp,o,qp,r,a),yE.set(0,1),c=e.ray.intersectTriangle(gx,yx,Ey,!1,_y),c===null))return;const f=e.ray.origin.distanceTo(_y);f<e.near||f>e.far||t.push({distance:f,point:_y.clone(),uv:fs.getInterpolation(_y,gx,Ey,yx,JR,yE,e2,new Je),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function vx(n,e,t,i,r,a){Wp.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(My.x=a*Wp.x-r*Wp.y,My.y=r*Wp.x+a*Wp.y):My.copy(Wp),n.copy(e),n.x+=My.x,n.y+=My.y,n.applyMatrix4(tP)}const bx=new re,t2=new re;class iP extends Bn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const a=t[i];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let a;for(a=0;a<r.length&&!(t<r[a].distance);a++);return r.splice(a,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),e<a)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){bx.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(bx);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){bx.setFromMatrixPosition(e.matrixWorld),t2.setFromMatrixPosition(this.matrixWorld);const i=bx.distanceTo(t2)/e.zoom;t[0].object.visible=!0;let r,a;for(r=1,a=t.length;r<a;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<a;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,a=i.length;r<a;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const n2=new re,i2=new zn,r2=new zn,S5=new re,a2=new Xt,xx=new re,vE=new Jr,s2=new Xt,bE=new Mh;class rP extends pr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=NT,this.bindMatrix=new Xt,this.bindMatrixInverse=new Xt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Sa),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,xx),this.boundingBox.expandByPoint(xx)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Jr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,xx),this.boundingSphere.expandByPoint(xx)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),vE.copy(this.boundingSphere),vE.applyMatrix4(r),e.ray.intersectsSphere(vE)!==!1&&(s2.copy(r).invert(),bE.copy(e.ray).applyMatrix4(s2),!(this.boundingBox!==null&&bE.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,bE)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new zn,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===NT?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===PN?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;i2.fromBufferAttribute(r.attributes.skinIndex,e),r2.fromBufferAttribute(r.attributes.skinWeight,e),n2.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const o=r2.getComponent(a);if(o!==0){const c=i2.getComponent(a);a2.multiplyMatrices(i.bones[c].matrixWorld,i.boneInverses[c]),t.addScaledVector(S5.copy(n2).applyMatrix4(a2),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class tw extends Bn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ec extends ji{constructor(e=null,t=1,i=1,r,a,o,c,f,p=Zr,m=Zr,g,y){super(null,o,c,f,p,m,r,a,g,y),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const o2=new Xt,_5=new Xt;class s1{constructor(e=[],t=[]){this.uuid=Ls(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Xt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Xt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const c=e[a]?e[a].matrixWorld:_5;o2.multiplyMatrices(c,t[a]),o2.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new s1(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new ec(t,e,e,va,ds);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const a=e.bones[i];let o=t[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new tw),this.bones.push(o),this.boneInverses.push(new Xt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,a=t.length;r<a;r++){const o=t[r];e.bones.push(o.uuid);const c=i[r];e.boneInverses.push(c.toArray())}return e}}class Dm extends Yn{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Xp=new Xt,l2=new Xt,Sx=[],c2=new Sa,M5=new Xt,Ty=new pr,Ay=new Jr;class aP extends pr{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Dm(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,M5)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Sa),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Xp),c2.copy(e.boundingBox).applyMatrix4(Xp),this.boundingBox.union(c2)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Jr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Xp),Ay.copy(e.boundingSphere).applyMatrix4(Xp),this.boundingSphere.union(Ay)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,a=i.length+1,o=e*a+1;for(let c=0;c<i.length;c++)i[c]=r[o+c]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Ty.geometry=this.geometry,Ty.material=this.material,Ty.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Ay.copy(this.boundingSphere),Ay.applyMatrix4(i),e.ray.intersectsSphere(Ay)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,Xp),l2.multiplyMatrices(i,Xp),Ty.matrixWorld=l2,Ty.raycast(e,Sx);for(let o=0,c=Sx.length;o<c;o++){const f=Sx[o];f.instanceId=a,f.object=this,t.push(f)}Sx.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Dm(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new ec(new Float32Array(r*this.count),r,this.count,Q_,ds));const a=this.morphTexture.source.data.data;let o=0;for(let p=0;p<i.length;p++)o+=i[p];const c=this.geometry.morphTargetsRelative?1:1-o,f=r*e;a[f]=c,a.set(i,f+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const xE=new re,E5=new re,T5=new ln;class mo{constructor(e=new re(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=xE.subVectors(i,t).cross(E5.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(xE),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||T5.getNormalMatrix(e),r=this.coplanarPoint(xE).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Md=new Jr,_x=new re;class km{constructor(e=new mo,t=new mo,i=new mo,r=new mo,a=new mo,o=new mo){this.planes=[e,t,i,r,a,o]}set(e,t,i,r,a,o){const c=this.planes;return c[0].copy(e),c[1].copy(t),c[2].copy(i),c[3].copy(r),c[4].copy(a),c[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=vo){const i=this.planes,r=e.elements,a=r[0],o=r[1],c=r[2],f=r[3],p=r[4],m=r[5],g=r[6],y=r[7],b=r[8],_=r[9],E=r[10],M=r[11],x=r[12],D=r[13],A=r[14],T=r[15];if(i[0].setComponents(f-a,y-p,M-b,T-x).normalize(),i[1].setComponents(f+a,y+p,M+b,T+x).normalize(),i[2].setComponents(f+o,y+m,M+_,T+D).normalize(),i[3].setComponents(f-o,y-m,M-_,T-D).normalize(),i[4].setComponents(f-c,y-g,M-E,T-A).normalize(),t===vo)i[5].setComponents(f+c,y+g,M+E,T+A).normalize();else if(t===xv)i[5].setComponents(c,g,E,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Md.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Md.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Md)}intersectsSprite(e){return Md.center.set(0,0,0),Md.radius=.7071067811865476,Md.applyMatrix4(e.matrixWorld),this.intersectsSphere(Md)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(_x.x=r.normal.x>0?e.max.x:e.min.x,_x.y=r.normal.y>0?e.max.y:e.min.y,_x.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(_x)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const ql=new Xt,jl=new km;class o1{constructor(){this.coordinateSystem=vo}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ql.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),jl.setFromProjectionMatrix(ql,this.coordinateSystem),jl.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ql.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),jl.setFromProjectionMatrix(ql,this.coordinateSystem),jl.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ql.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),jl.setFromProjectionMatrix(ql,this.coordinateSystem),jl.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ql.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),jl.setFromProjectionMatrix(ql,this.coordinateSystem),jl.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(ql.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),jl.setFromProjectionMatrix(ql,this.coordinateSystem),jl.containsPoint(e))return!0}return!1}clone(){return new o1}}function SE(n,e){return n-e}function A5(n,e){return n.z-e.z}function w5(n,e){return e.z-n.z}class C5{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const c=a[this.index];o.push(c),this.index++,c.start=e,c.count=t,c.z=i,c.index=r}reset(){this.list.length=0,this.index=0}}const os=new Xt,R5=new Rt(1,1,1),u2=new km,O5=new o1,Mx=new Sa,Ed=new Jr,wy=new re,f2=new re,D5=new re,_E=new C5,ga=new pr,Ex=[];function N5(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let a=0;a<r;a++)for(let o=0;o<i;o++)e.setComponent(a+t,o,n.getComponent(a,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function Td(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class sP extends pr{constructor(e,t,i=t*2,r){super(new sn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new ec(t,e,e,va,ds);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new ec(t,e,e,Qv,iu);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new ec(t,e,e,va,ds);i.colorSpace=Pn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const o=e.getAttribute(a),{array:c,itemSize:f,normalized:p}=o,m=new c.constructor(i*f),g=new Yn(m,f,p);t.setAttribute(a,g)}if(e.getIndex()!==null){const a=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Yn(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),a=t.getAttribute(i);if(r.itemSize!==a.itemSize||r.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Sa);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,os),this.getBoundingBoxAt(a,Mx).applyMatrix4(os),e.union(Mx)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Jr);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const a=t[i].geometryIndex;this.getMatrixAt(i,os),this.getBoundingSphereAt(a,Ed).applyMatrix4(os),e.union(Ed)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(SE),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const a=this._matricesTexture;os.identity().toArray(a.image.data,r*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(R5.toArray(o.image.data,r*4),o.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?o.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let f;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(SE),f=this._availableGeometryIds.shift(),a[f]=r):(f=this._geometryCount,this._geometryCount++,a.push(r)),this.setGeometryAt(f,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,f}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,a=i.getIndex(),o=t.getIndex(),c=this._geometryInfo[e];if(r&&o.count>c.reservedIndexCount||t.attributes.position.count>c.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const f=c.vertexStart,p=c.reservedVertexCount;c.vertexCount=t.getAttribute("position").count;for(const m in i.attributes){const g=t.getAttribute(m),y=i.getAttribute(m);N5(g,y,f);const b=g.itemSize;for(let _=g.count,E=p;_<E;_++){const M=f+_;for(let x=0;x<b;x++)y.setComponent(M,x,0)}y.needsUpdate=!0,y.addUpdateRange(f*b,p*b)}if(r){const m=c.indexStart,g=c.reservedIndexCount;c.indexCount=t.getIndex().count;for(let y=0;y<o.count;y++)a.setX(m+y,f+o.getX(y));for(let y=o.count,b=g;y<b;y++)a.setX(m+y,f);a.needsUpdate=!0,a.addUpdateRange(m,c.reservedIndexCount)}return c.start=r?c.indexStart:c.vertexStart,c.count=r?c.indexCount:c.vertexCount,c.boundingBox=null,t.boundingBox!==null&&(c.boundingBox=t.boundingBox.clone()),c.boundingSphere=null,t.boundingSphere!==null&&(c.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,a=i.length;r<a;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((o,c)=>c).sort((o,c)=>i[o].vertexStart-i[c].vertexStart),a=this.geometry;for(let o=0,c=i.length;o<c;o++){const f=r[o],p=i[f];if(p.active!==!1){if(a.index!==null){if(p.indexStart!==t){const{indexStart:m,vertexStart:g,reservedIndexCount:y}=p,b=a.index,_=b.array,E=e-g;for(let M=m;M<m+y;M++)_[M]=_[M]+E;b.array.copyWithin(t,m,m+y),b.addUpdateRange(t,y),p.indexStart=t}t+=p.reservedIndexCount}if(p.vertexStart!==e){const{vertexStart:m,reservedVertexCount:g}=p,y=a.attributes;for(const b in y){const _=y[b],{array:E,itemSize:M}=_;E.copyWithin(e*M,m*M,(m+g)*M),_.addUpdateRange(e*M,g*M)}p.vertexStart=e}e+=p.reservedVertexCount,p.start=a.index?p.indexStart:p.vertexStart,this._nextIndexStart=a.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const a=new Sa,o=i.index,c=i.attributes.position;for(let f=r.start,p=r.start+r.count;f<p;f++){let m=f;o&&(m=o.getX(m)),a.expandByPoint(wy.fromBufferAttribute(c,m))}r.boundingBox=a}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const a=new Jr;this.getBoundingBoxAt(e,Mx),Mx.getCenter(a.center);const o=i.index,c=i.attributes.position;let f=0;for(let p=r.start,m=r.start+r.count;p<m;p++){let g=p;o&&(g=o.getX(g)),wy.fromBufferAttribute(c,g),f=Math.max(f,a.center.distanceToSquared(wy))}a.radius=Math.sqrt(f),r.boundingSphere=a}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(SE);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),a=new Int32Array(e);Td(this._multiDrawCounts,r),Td(this._multiDrawStarts,a),this._multiDrawCounts=r,this._multiDrawStarts=a,this._maxInstanceCount=e;const o=this._indirectTexture,c=this._matricesTexture,f=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Td(o.image.data,this._indirectTexture.image.data),c.dispose(),this._initMatricesTexture(),Td(c.image.data,this._matricesTexture.image.data),f&&(f.dispose(),this._initColorsTexture(),Td(f.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(c=>c.active);if(Math.max(...i.map(c=>c.vertexStart+c.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(f=>f.indexStart+f.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new sn,this._initializeGeometry(a));const o=this.geometry;a.index&&Td(a.index.array,o.index.array);for(const c in a.attributes)Td(a.attributes[c].array,o.attributes[c].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,a=this.matrixWorld,o=this.geometry;ga.material=this.material,ga.geometry.index=o.index,ga.geometry.attributes=o.attributes,ga.geometry.boundingBox===null&&(ga.geometry.boundingBox=new Sa),ga.geometry.boundingSphere===null&&(ga.geometry.boundingSphere=new Jr);for(let c=0,f=i.length;c<f;c++){if(!i[c].visible||!i[c].active)continue;const p=i[c].geometryIndex,m=r[p];ga.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(c,ga.matrixWorld).premultiply(a),this.getBoundingBoxAt(p,ga.geometry.boundingBox),this.getBoundingSphereAt(p,ga.geometry.boundingSphere),ga.raycast(e,Ex);for(let g=0,y=Ex.length;g<y;g++){const b=Ex[g];b.object=this,b.batchId=c,t.push(b)}Ex.length=0}ga.material=null,ga.geometry.index=null,ga.geometry.attributes={},ga.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),c=o===null?1:o.array.BYTES_PER_ELEMENT,f=this._instanceInfo,p=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,y=this.perObjectFrustumCulled,b=this._indirectTexture,_=b.image.data,E=i.isArrayCamera?O5:u2;y&&!i.isArrayCamera&&(os.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),u2.setFromProjectionMatrix(os,e.coordinateSystem));let M=0;if(this.sortObjects){os.copy(this.matrixWorld).invert(),wy.setFromMatrixPosition(i.matrixWorld).applyMatrix4(os),f2.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(os);for(let A=0,T=f.length;A<T;A++)if(f[A].visible&&f[A].active){const O=f[A].geometryIndex;this.getMatrixAt(A,os),this.getBoundingSphereAt(O,Ed).applyMatrix4(os);let N=!1;if(y&&(N=!E.intersectsSphere(Ed,i)),!N){const z=g[O],F=D5.subVectors(Ed.center,wy).dot(f2);_E.push(z.start,z.count,F,A)}}const x=_E.list,D=this.customSort;D===null?x.sort(a.transparent?w5:A5):D.call(this,x,i);for(let A=0,T=x.length;A<T;A++){const O=x[A];p[M]=O.start*c,m[M]=O.count,_[M]=O.index,M++}_E.reset()}else for(let x=0,D=f.length;x<D;x++)if(f[x].visible&&f[x].active){const A=f[x].geometryIndex;let T=!1;if(y&&(this.getMatrixAt(x,os),this.getBoundingSphereAt(A,Ed).applyMatrix4(os),T=!E.intersectsSphere(Ed,i)),!T){const O=g[A];p[M]=O.start*c,m[M]=O.count,_[M]=x,M++}}b.needsUpdate=!0,this._multiDrawCount=M,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,a,o){this.onBeforeRender(e,null,r,a,o)}}class ja extends Ea{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Rt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const d_=new re,h_=new re,d2=new Xt,Cy=new Mh,Tx=new Jr,ME=new re,h2=new re;class xf extends Bn{constructor(e=new sn,t=new ja){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,a=t.count;r<a;r++)d_.fromBufferAttribute(t,r-1),h_.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=d_.distanceTo(h_);e.setAttribute("lineDistance",new Nt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Tx.copy(i.boundingSphere),Tx.applyMatrix4(r),Tx.radius+=a,e.ray.intersectsSphere(Tx)===!1)return;d2.copy(r).invert(),Cy.copy(e.ray).applyMatrix4(d2);const c=a/((this.scale.x+this.scale.y+this.scale.z)/3),f=c*c,p=this.isLineSegments?2:1,m=i.index,y=i.attributes.position;if(m!==null){const b=Math.max(0,o.start),_=Math.min(m.count,o.start+o.count);for(let E=b,M=_-1;E<M;E+=p){const x=m.getX(E),D=m.getX(E+1),A=Ax(this,e,Cy,f,x,D,E);A&&t.push(A)}if(this.isLineLoop){const E=m.getX(_-1),M=m.getX(b),x=Ax(this,e,Cy,f,E,M,_-1);x&&t.push(x)}}else{const b=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let E=b,M=_-1;E<M;E+=p){const x=Ax(this,e,Cy,f,E,E+1,E);x&&t.push(x)}if(this.isLineLoop){const E=Ax(this,e,Cy,f,_-1,b,_-1);E&&t.push(E)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const c=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}}function Ax(n,e,t,i,r,a,o){const c=n.geometry.attributes.position;if(d_.fromBufferAttribute(c,r),h_.fromBufferAttribute(c,a),t.distanceSqToSegment(d_,h_,ME,h2)>i)return;ME.applyMatrix4(n.matrixWorld);const p=e.ray.origin.distanceTo(ME);if(!(p<e.near||p>e.far))return{distance:p,point:h2.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const p2=new re,m2=new re;class fc extends xf{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,a=t.count;r<a;r+=2)p2.fromBufferAttribute(t,r),m2.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+p2.distanceTo(m2);e.setAttribute("lineDistance",new Nt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class oP extends xf{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class nw extends Ea{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Rt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const g2=new Xt,LT=new Mh,wx=new Jr,Cx=new re;class lP extends Bn{constructor(e=new sn,t=new nw){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),wx.copy(i.boundingSphere),wx.applyMatrix4(r),wx.radius+=a,e.ray.intersectsSphere(wx)===!1)return;g2.copy(r).invert(),LT.copy(e.ray).applyMatrix4(g2);const c=a/((this.scale.x+this.scale.y+this.scale.z)/3),f=c*c,p=i.index,g=i.attributes.position;if(p!==null){const y=Math.max(0,o.start),b=Math.min(p.count,o.start+o.count);for(let _=y,E=b;_<E;_++){const M=p.getX(_);Cx.fromBufferAttribute(g,M),y2(Cx,M,f,r,e,t,this)}}else{const y=Math.max(0,o.start),b=Math.min(g.count,o.start+o.count);for(let _=y,E=b;_<E;_++)Cx.fromBufferAttribute(g,_),y2(Cx,_,f,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=r.length;a<o;a++){const c=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}}function y2(n,e,t,i,r,a,o){const c=LT.distanceSqToPoint(n);if(c<t){const f=new re;LT.closestPointToPoint(n,f),f.applyMatrix4(i);const p=r.ray.origin.distanceTo(f);if(p<r.near||p>r.far)return;a.push({distance:p,distanceToRay:Math.sqrt(c),point:f,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class cP extends ji{constructor(e,t,i,r,a=Ar,o=Ar,c,f,p){super(e,t,i,r,a,o,c,f,p),this.isVideoTexture=!0,this.generateMipmaps=!1;const m=this;function g(){m.needsUpdate=!0,e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class P5 extends cP{constructor(e,t,i,r,a,o,c,f){super({},e,t,i,r,a,o,c,f),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class U5 extends ji{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Zr,this.minFilter=Zr,this.generateMipmaps=!1,this.needsUpdate=!0}}class l1 extends ji{constructor(e,t,i,r,a,o,c,f,p,m,g,y){super(null,o,c,f,p,m,r,a,g,y),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class L5 extends l1{constructor(e,t,i,r,a,o){super(e,t,i,a,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=yo,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class I5 extends l1{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,nu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class z5 extends ji{constructor(e,t,i,r,a,o,c,f,p){super(e,t,i,r,a,o,c,f,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class c1 extends ji{constructor(e,t,i=iu,r,a,o,c=Zr,f=Zr,p,m=Am){if(m!==Am&&m!==wm)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,r,a,o,c,f,m,i,p),this.isDepthTexture=!0,this.image={width:e,height:t},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new hf(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class B5 extends c1{constructor(e=1,t=1,i=1){super(e,t),this.isDepthArrayTexture=!0,this.image={width:e,height:t,depth:i},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class u1 extends sn{constructor(e=1,t=1,i=4,r=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:a},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),a=Math.max(1,Math.floor(a));const o=[],c=[],f=[],p=[],m=t/2,g=Math.PI/2*e,y=t,b=2*g+y,_=i*2+a,E=r+1,M=new re,x=new re;for(let D=0;D<=_;D++){let A=0,T=0,O=0,N=0;if(D<=i){const P=D/i,w=P*Math.PI/2;T=-m-e*Math.cos(w),O=e*Math.sin(w),N=-e*Math.cos(w),A=P*g}else if(D<=i+a){const P=(D-i)/a;T=-m+P*t,O=e,N=0,A=g+P*y}else{const P=(D-i-a)/i,w=P*Math.PI/2;T=m+e*Math.sin(w),O=e*Math.cos(w),N=e*Math.sin(w),A=g+y+P*g}const z=Math.max(0,Math.min(1,A/b));let F=0;D===0?F=.5/r:D===_&&(F=-.5/r);for(let P=0;P<=r;P++){const w=P/r,L=w*Math.PI*2,H=Math.sin(L),V=Math.cos(L);x.x=-O*V,x.y=T,x.z=O*H,c.push(x.x,x.y,x.z),M.set(-O*V,N,O*H),M.normalize(),f.push(M.x,M.y,M.z),p.push(w+F,z)}if(D>0){const P=(D-1)*E;for(let w=0;w<r;w++){const L=P+w,H=P+w+1,V=D*E+w,G=D*E+w+1;o.push(L,H,V),o.push(H,G,V)}}}this.setIndex(o),this.setAttribute("position",new Nt(c,3)),this.setAttribute("normal",new Nt(f,3)),this.setAttribute("uv",new Nt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new u1(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class f1 extends sn{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const a=[],o=[],c=[],f=[],p=new re,m=new Je;o.push(0,0,0),c.push(0,0,1),f.push(.5,.5);for(let g=0,y=3;g<=t;g++,y+=3){const b=i+g/t*r;p.x=e*Math.cos(b),p.y=e*Math.sin(b),o.push(p.x,p.y,p.z),c.push(0,0,1),m.x=(o[y]/e+1)/2,m.y=(o[y+1]/e+1)/2,f.push(m.x,m.y)}for(let g=1;g<=t;g++)a.push(g,g+1,0);this.setIndex(a),this.setAttribute("position",new Nt(o,3)),this.setAttribute("normal",new Nt(c,3)),this.setAttribute("uv",new Nt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new f1(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Jv extends sn{constructor(e=1,t=1,i=1,r=32,a=1,o=!1,c=0,f=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:a,openEnded:o,thetaStart:c,thetaLength:f};const p=this;r=Math.floor(r),a=Math.floor(a);const m=[],g=[],y=[],b=[];let _=0;const E=[],M=i/2;let x=0;D(),o===!1&&(e>0&&A(!0),t>0&&A(!1)),this.setIndex(m),this.setAttribute("position",new Nt(g,3)),this.setAttribute("normal",new Nt(y,3)),this.setAttribute("uv",new Nt(b,2));function D(){const T=new re,O=new re;let N=0;const z=(t-e)/i;for(let F=0;F<=a;F++){const P=[],w=F/a,L=w*(t-e)+e;for(let H=0;H<=r;H++){const V=H/r,G=V*f+c,$=Math.sin(G),B=Math.cos(G);O.x=L*$,O.y=-w*i+M,O.z=L*B,g.push(O.x,O.y,O.z),T.set($,z,B).normalize(),y.push(T.x,T.y,T.z),b.push(V,1-w),P.push(_++)}E.push(P)}for(let F=0;F<r;F++)for(let P=0;P<a;P++){const w=E[P][F],L=E[P+1][F],H=E[P+1][F+1],V=E[P][F+1];(e>0||P!==0)&&(m.push(w,L,V),N+=3),(t>0||P!==a-1)&&(m.push(L,H,V),N+=3)}p.addGroup(x,N,0),x+=N}function A(T){const O=_,N=new Je,z=new re;let F=0;const P=T===!0?e:t,w=T===!0?1:-1;for(let H=1;H<=r;H++)g.push(0,M*w,0),y.push(0,w,0),b.push(.5,.5),_++;const L=_;for(let H=0;H<=r;H++){const G=H/r*f+c,$=Math.cos(G),B=Math.sin(G);z.x=P*B,z.y=M*w,z.z=P*$,g.push(z.x,z.y,z.z),y.push(0,w,0),N.x=$*.5+.5,N.y=B*.5*w+.5,b.push(N.x,N.y),_++}for(let H=0;H<r;H++){const V=O+H,G=L+H;T===!0?m.push(G,G+1,V):m.push(G+1,G,V),F+=3}p.addGroup(x,F,T===!0?1:2),x+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jv(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class e0 extends Jv{constructor(e=1,t=1,i=32,r=1,a=!1,o=0,c=Math.PI*2){super(0,e,t,i,r,a,o,c),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:c}}static fromJSON(e){return new e0(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ef extends sn{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const a=[],o=[];c(r),p(i),m(),this.setAttribute("position",new Nt(a,3)),this.setAttribute("normal",new Nt(a.slice(),3)),this.setAttribute("uv",new Nt(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function c(D){const A=new re,T=new re,O=new re;for(let N=0;N<t.length;N+=3)b(t[N+0],A),b(t[N+1],T),b(t[N+2],O),f(A,T,O,D)}function f(D,A,T,O){const N=O+1,z=[];for(let F=0;F<=N;F++){z[F]=[];const P=D.clone().lerp(T,F/N),w=A.clone().lerp(T,F/N),L=N-F;for(let H=0;H<=L;H++)H===0&&F===N?z[F][H]=P:z[F][H]=P.clone().lerp(w,H/L)}for(let F=0;F<N;F++)for(let P=0;P<2*(N-F)-1;P++){const w=Math.floor(P/2);P%2===0?(y(z[F][w+1]),y(z[F+1][w]),y(z[F][w])):(y(z[F][w+1]),y(z[F+1][w+1]),y(z[F+1][w]))}}function p(D){const A=new re;for(let T=0;T<a.length;T+=3)A.x=a[T+0],A.y=a[T+1],A.z=a[T+2],A.normalize().multiplyScalar(D),a[T+0]=A.x,a[T+1]=A.y,a[T+2]=A.z}function m(){const D=new re;for(let A=0;A<a.length;A+=3){D.x=a[A+0],D.y=a[A+1],D.z=a[A+2];const T=M(D)/2/Math.PI+.5,O=x(D)/Math.PI+.5;o.push(T,1-O)}_(),g()}function g(){for(let D=0;D<o.length;D+=6){const A=o[D+0],T=o[D+2],O=o[D+4],N=Math.max(A,T,O),z=Math.min(A,T,O);N>.9&&z<.1&&(A<.2&&(o[D+0]+=1),T<.2&&(o[D+2]+=1),O<.2&&(o[D+4]+=1))}}function y(D){a.push(D.x,D.y,D.z)}function b(D,A){const T=D*3;A.x=e[T+0],A.y=e[T+1],A.z=e[T+2]}function _(){const D=new re,A=new re,T=new re,O=new re,N=new Je,z=new Je,F=new Je;for(let P=0,w=0;P<a.length;P+=9,w+=6){D.set(a[P+0],a[P+1],a[P+2]),A.set(a[P+3],a[P+4],a[P+5]),T.set(a[P+6],a[P+7],a[P+8]),N.set(o[w+0],o[w+1]),z.set(o[w+2],o[w+3]),F.set(o[w+4],o[w+5]),O.copy(D).add(A).add(T).divideScalar(3);const L=M(O);E(N,w+0,D,L),E(z,w+2,A,L),E(F,w+4,T,L)}}function E(D,A,T,O){O<0&&D.x===1&&(o[A]=D.x-1),T.x===0&&T.z===0&&(o[A]=O/2/Math.PI+.5)}function M(D){return Math.atan2(D.z,-D.x)}function x(D){return Math.atan2(-D.y,Math.sqrt(D.x*D.x+D.z*D.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ef(e.vertices,e.indices,e.radius,e.details)}}class d1 extends Ef{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new d1(e.radius,e.detail)}}const Rx=new re,Ox=new re,EE=new re,Dx=new fs;class uP extends sn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),a=Math.cos(Zd*t),o=e.getIndex(),c=e.getAttribute("position"),f=o?o.count:c.count,p=[0,0,0],m=["a","b","c"],g=new Array(3),y={},b=[];for(let _=0;_<f;_+=3){o?(p[0]=o.getX(_),p[1]=o.getX(_+1),p[2]=o.getX(_+2)):(p[0]=_,p[1]=_+1,p[2]=_+2);const{a:E,b:M,c:x}=Dx;if(E.fromBufferAttribute(c,p[0]),M.fromBufferAttribute(c,p[1]),x.fromBufferAttribute(c,p[2]),Dx.getNormal(EE),g[0]=`${Math.round(E.x*r)},${Math.round(E.y*r)},${Math.round(E.z*r)}`,g[1]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,g[2]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let D=0;D<3;D++){const A=(D+1)%3,T=g[D],O=g[A],N=Dx[m[D]],z=Dx[m[A]],F=`${T}_${O}`,P=`${O}_${T}`;P in y&&y[P]?(EE.dot(y[P].normal)<=a&&(b.push(N.x,N.y,N.z),b.push(z.x,z.y,z.z)),y[P]=null):F in y||(y[F]={index0:p[D],index1:p[A],normal:EE.clone()})}}for(const _ in y)if(y[_]){const{index0:E,index1:M}=y[_];Rx.fromBufferAttribute(c,E),Ox.fromBufferAttribute(c,M),b.push(Rx.x,Rx.y,Rx.z),b.push(Ox.x,Ox.y,Ox.z)}this.setAttribute("position",new Nt(b,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ll{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),a=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),a+=i.distanceTo(r),t.push(a),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const a=i.length;let o;t?o=t:o=e*i[a-1];let c=0,f=a-1,p;for(;c<=f;)if(r=Math.floor(c+(f-c)/2),p=i[r]-o,p<0)c=r+1;else if(p>0)f=r-1;else{f=r;break}if(r=f,i[r]===o)return r/(a-1);const m=i[r],y=i[r+1]-m,b=(o-m)/y;return(r+b)/(a-1)}getTangent(e,t){let r=e-1e-4,a=e+1e-4;r<0&&(r=0),a>1&&(a=1);const o=this.getPoint(r),c=this.getPoint(a),f=t||(o.isVector2?new Je:new re);return f.copy(c).sub(o).normalize(),f}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new re,r=[],a=[],o=[],c=new re,f=new Xt;for(let b=0;b<=e;b++){const _=b/e;r[b]=this.getTangentAt(_,new re)}a[0]=new re,o[0]=new re;let p=Number.MAX_VALUE;const m=Math.abs(r[0].x),g=Math.abs(r[0].y),y=Math.abs(r[0].z);m<=p&&(p=m,i.set(1,0,0)),g<=p&&(p=g,i.set(0,1,0)),y<=p&&i.set(0,0,1),c.crossVectors(r[0],i).normalize(),a[0].crossVectors(r[0],c),o[0].crossVectors(r[0],a[0]);for(let b=1;b<=e;b++){if(a[b]=a[b-1].clone(),o[b]=o[b-1].clone(),c.crossVectors(r[b-1],r[b]),c.length()>Number.EPSILON){c.normalize();const _=Math.acos(an(r[b-1].dot(r[b]),-1,1));a[b].applyMatrix4(f.makeRotationAxis(c,_))}o[b].crossVectors(r[b],a[b])}if(t===!0){let b=Math.acos(an(a[0].dot(a[e]),-1,1));b/=e,r[0].dot(c.crossVectors(a[0],a[e]))>0&&(b=-b);for(let _=1;_<=e;_++)a[_].applyMatrix4(f.makeRotationAxis(r[_],b*_)),o[_].crossVectors(r[_],a[_])}return{tangents:r,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class h1 extends ll{constructor(e=0,t=0,i=1,r=1,a=0,o=Math.PI*2,c=!1,f=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=c,this.aRotation=f}getPoint(e,t=new Je){const i=t,r=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=r;for(;a>r;)a-=r;a<Number.EPSILON&&(o?a=0:a=r),this.aClockwise===!0&&!o&&(a===r?a=-r:a=a-r);const c=this.aStartAngle+e*a;let f=this.aX+this.xRadius*Math.cos(c),p=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),y=f-this.aX,b=p-this.aY;f=y*m-b*g+this.aX,p=y*g+b*m+this.aY}return i.set(f,p)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class fP extends h1{constructor(e,t,i,r,a,o){super(e,t,i,i,r,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function iw(){let n=0,e=0,t=0,i=0;function r(a,o,c,f){n=a,e=c,t=-3*a+3*o-2*c-f,i=2*a-2*o+c+f}return{initCatmullRom:function(a,o,c,f,p){r(o,c,p*(c-a),p*(f-o))},initNonuniformCatmullRom:function(a,o,c,f,p,m,g){let y=(o-a)/p-(c-a)/(p+m)+(c-o)/m,b=(c-o)/m-(f-o)/(m+g)+(f-c)/g;y*=m,b*=m,r(o,c,y,b)},calc:function(a){const o=a*a,c=o*a;return n+e*a+t*o+i*c}}}const Nx=new re,TE=new iw,AE=new iw,wE=new iw;class dP extends ll{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new re){const i=t,r=this.points,a=r.length,o=(a-(this.closed?0:1))*e;let c=Math.floor(o),f=o-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/a)+1)*a:f===0&&c===a-1&&(c=a-2,f=1);let p,m;this.closed||c>0?p=r[(c-1)%a]:(Nx.subVectors(r[0],r[1]).add(r[0]),p=Nx);const g=r[c%a],y=r[(c+1)%a];if(this.closed||c+2<a?m=r[(c+2)%a]:(Nx.subVectors(r[a-1],r[a-2]).add(r[a-1]),m=Nx),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let _=Math.pow(p.distanceToSquared(g),b),E=Math.pow(g.distanceToSquared(y),b),M=Math.pow(y.distanceToSquared(m),b);E<1e-4&&(E=1),_<1e-4&&(_=E),M<1e-4&&(M=E),TE.initNonuniformCatmullRom(p.x,g.x,y.x,m.x,_,E,M),AE.initNonuniformCatmullRom(p.y,g.y,y.y,m.y,_,E,M),wE.initNonuniformCatmullRom(p.z,g.z,y.z,m.z,_,E,M)}else this.curveType==="catmullrom"&&(TE.initCatmullRom(p.x,g.x,y.x,m.x,this.tension),AE.initCatmullRom(p.y,g.y,y.y,m.y,this.tension),wE.initCatmullRom(p.z,g.z,y.z,m.z,this.tension));return i.set(TE.calc(f),AE.calc(f),wE.calc(f)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new re().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function v2(n,e,t,i,r){const a=(i-e)*.5,o=(r-t)*.5,c=n*n,f=n*c;return(2*t-2*i+a+o)*f+(-3*t+3*i-2*a-o)*c+a*n+t}function F5(n,e){const t=1-n;return t*t*e}function H5(n,e){return 2*(1-n)*n*e}function V5(n,e){return n*n*e}function nv(n,e,t,i){return F5(n,e)+H5(n,t)+V5(n,i)}function k5(n,e){const t=1-n;return t*t*t*e}function G5(n,e){const t=1-n;return 3*t*t*n*e}function q5(n,e){return 3*(1-n)*n*n*e}function j5(n,e){return n*n*n*e}function iv(n,e,t,i,r){return k5(n,e)+G5(n,t)+q5(n,i)+j5(n,r)}class rw extends ll{constructor(e=new Je,t=new Je,i=new Je,r=new Je){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Je){const i=t,r=this.v0,a=this.v1,o=this.v2,c=this.v3;return i.set(iv(e,r.x,a.x,o.x,c.x),iv(e,r.y,a.y,o.y,c.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class hP extends ll{constructor(e=new re,t=new re,i=new re,r=new re){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new re){const i=t,r=this.v0,a=this.v1,o=this.v2,c=this.v3;return i.set(iv(e,r.x,a.x,o.x,c.x),iv(e,r.y,a.y,o.y,c.y),iv(e,r.z,a.z,o.z,c.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class aw extends ll{constructor(e=new Je,t=new Je){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Je){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Je){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class pP extends ll{constructor(e=new re,t=new re){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new re){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new re){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sw extends ll{constructor(e=new Je,t=new Je,i=new Je){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Je){const i=t,r=this.v0,a=this.v1,o=this.v2;return i.set(nv(e,r.x,a.x,o.x),nv(e,r.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ow extends ll{constructor(e=new re,t=new re,i=new re){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new re){const i=t,r=this.v0,a=this.v1,o=this.v2;return i.set(nv(e,r.x,a.x,o.x),nv(e,r.y,a.y,o.y),nv(e,r.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class lw extends ll{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Je){const i=t,r=this.points,a=(r.length-1)*e,o=Math.floor(a),c=a-o,f=r[o===0?o:o-1],p=r[o],m=r[o>r.length-2?r.length-1:o+1],g=r[o>r.length-3?r.length-1:o+2];return i.set(v2(c,f.x,p.x,m.x,g.x),v2(c,f.y,p.y,m.y,g.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Je().fromArray(r))}return this}}var p_=Object.freeze({__proto__:null,ArcCurve:fP,CatmullRomCurve3:dP,CubicBezierCurve:rw,CubicBezierCurve3:hP,EllipseCurve:h1,LineCurve:aw,LineCurve3:pP,QuadraticBezierCurve:sw,QuadraticBezierCurve3:ow,SplineCurve:lw});class mP extends ll{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new p_[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let a=0;for(;a<r.length;){if(r[a]>=i){const o=r[a]-i,c=this.curves[a],f=c.getLength(),p=f===0?0:1-o/f;return c.getPointAt(p,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,a=this.curves;r<a.length;r++){const o=a[r],c=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,f=o.getPoints(c);for(let p=0;p<f.length;p++){const m=f[p];i&&i.equals(m)||(t.push(m),i=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new p_[r.type]().fromJSON(r))}return this}}class m_ extends mP{constructor(e){super(),this.type="Path",this.currentPoint=new Je,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new aw(this.currentPoint.clone(),new Je(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const a=new sw(this.currentPoint.clone(),new Je(e,t),new Je(i,r));return this.curves.push(a),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,a,o){const c=new rw(this.currentPoint.clone(),new Je(e,t),new Je(i,r),new Je(a,o));return this.curves.push(c),this.currentPoint.set(a,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new lw(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,a,o){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absarc(e+c,t+f,i,r,a,o),this}absarc(e,t,i,r,a,o){return this.absellipse(e,t,i,i,r,a,o),this}ellipse(e,t,i,r,a,o,c,f){const p=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+p,t+m,i,r,a,o,c,f),this}absellipse(e,t,i,r,a,o,c,f){const p=new h1(e,t,i,r,a,o,c,f);if(this.curves.length>0){const g=p.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(p);const m=p.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Jd extends m_{constructor(e){super(e),this.uuid=Ls(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new m_().fromJSON(r))}return this}}function W5(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let a=gP(n,0,r,t,!0);const o=[];if(!a||a.next===a.prev)return o;let c,f,p;if(i&&(a=K5(n,e,a,t)),n.length>80*t){c=1/0,f=1/0;let m=-1/0,g=-1/0;for(let y=t;y<r;y+=t){const b=n[y],_=n[y+1];b<c&&(c=b),_<f&&(f=_),b>m&&(m=b),_>g&&(g=_)}p=Math.max(m-c,g-f),p=p!==0?32767/p:0}return _v(a,o,t,c,f,p,0),o}function gP(n,e,t,i,r){let a;if(r===lF(n,e,t,i)>0)for(let o=e;o<t;o+=i)a=b2(o/i|0,n[o],n[o+1],a);else for(let o=t-i;o>=e;o-=i)a=b2(o/i|0,n[o],n[o+1],a);return a&&Nm(a,a.next)&&(Ev(a),a=a.next),a}function fh(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Nm(t,t.next)||Ii(t.prev,t,t.next)===0)){if(Ev(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function _v(n,e,t,i,r,a,o){if(!n)return;!o&&a&&nF(n,i,r,a);let c=n;for(;n.prev!==n.next;){const f=n.prev,p=n.next;if(a?Y5(n,i,r,a):X5(n)){e.push(f.i,n.i,p.i),Ev(n),n=p.next,c=p.next;continue}if(n=p,n===c){o?o===1?(n=$5(fh(n),e),_v(n,e,t,i,r,a,2)):o===2&&Q5(n,e,t,i,r,a):_v(fh(n),e,t,i,r,a,1);break}}}function X5(n){const e=n.prev,t=n,i=n.next;if(Ii(e,t,i)>=0)return!1;const r=e.x,a=t.x,o=i.x,c=e.y,f=t.y,p=i.y,m=Math.min(r,a,o),g=Math.min(c,f,p),y=Math.max(r,a,o),b=Math.max(c,f,p);let _=i.next;for(;_!==e;){if(_.x>=m&&_.x<=y&&_.y>=g&&_.y<=b&&Fy(r,c,a,f,o,p,_.x,_.y)&&Ii(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function Y5(n,e,t,i){const r=n.prev,a=n,o=n.next;if(Ii(r,a,o)>=0)return!1;const c=r.x,f=a.x,p=o.x,m=r.y,g=a.y,y=o.y,b=Math.min(c,f,p),_=Math.min(m,g,y),E=Math.max(c,f,p),M=Math.max(m,g,y),x=IT(b,_,e,t,i),D=IT(E,M,e,t,i);let A=n.prevZ,T=n.nextZ;for(;A&&A.z>=x&&T&&T.z<=D;){if(A.x>=b&&A.x<=E&&A.y>=_&&A.y<=M&&A!==r&&A!==o&&Fy(c,m,f,g,p,y,A.x,A.y)&&Ii(A.prev,A,A.next)>=0||(A=A.prevZ,T.x>=b&&T.x<=E&&T.y>=_&&T.y<=M&&T!==r&&T!==o&&Fy(c,m,f,g,p,y,T.x,T.y)&&Ii(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;A&&A.z>=x;){if(A.x>=b&&A.x<=E&&A.y>=_&&A.y<=M&&A!==r&&A!==o&&Fy(c,m,f,g,p,y,A.x,A.y)&&Ii(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;T&&T.z<=D;){if(T.x>=b&&T.x<=E&&T.y>=_&&T.y<=M&&T!==r&&T!==o&&Fy(c,m,f,g,p,y,T.x,T.y)&&Ii(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function $5(n,e){let t=n;do{const i=t.prev,r=t.next.next;!Nm(i,r)&&vP(i,t,t.next,r)&&Mv(i,r)&&Mv(r,i)&&(e.push(i.i,t.i,r.i),Ev(t),Ev(t.next),t=n=r),t=t.next}while(t!==n);return fh(t)}function Q5(n,e,t,i,r,a){let o=n;do{let c=o.next.next;for(;c!==o.prev;){if(o.i!==c.i&&aF(o,c)){let f=bP(o,c);o=fh(o,o.next),f=fh(f,f.next),_v(o,e,t,i,r,a,0),_v(f,e,t,i,r,a,0);return}c=c.next}o=o.next}while(o!==n)}function K5(n,e,t,i){const r=[];for(let a=0,o=e.length;a<o;a++){const c=e[a]*i,f=a<o-1?e[a+1]*i:n.length,p=gP(n,c,f,i,!1);p===p.next&&(p.steiner=!0),r.push(rF(p))}r.sort(Z5);for(let a=0;a<r.length;a++)t=J5(r[a],t);return t}function Z5(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function J5(n,e){const t=eF(n,e);if(!t)return e;const i=bP(t,n);return fh(i,i.next),fh(t,t.next)}function eF(n,e){let t=e;const i=n.x,r=n.y;let a=-1/0,o;if(Nm(n,t))return t;do{if(Nm(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const g=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=i&&g>a&&(a=g,o=t.x<t.next.x?t:t.next,g===i))return o}t=t.next}while(t!==e);if(!o)return null;const c=o,f=o.x,p=o.y;let m=1/0;t=o;do{if(i>=t.x&&t.x>=f&&i!==t.x&&yP(r<p?i:a,r,f,p,r<p?a:i,r,t.x,t.y)){const g=Math.abs(r-t.y)/(i-t.x);Mv(t,n)&&(g<m||g===m&&(t.x>o.x||t.x===o.x&&tF(o,t)))&&(o=t,m=g)}t=t.next}while(t!==c);return o}function tF(n,e){return Ii(n.prev,n,e.prev)<0&&Ii(e.next,n,n.next)<0}function nF(n,e,t,i){let r=n;do r.z===0&&(r.z=IT(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,iF(r)}function iF(n){let e,t=1;do{let i=n,r;n=null;let a=null;for(e=0;i;){e++;let o=i,c=0;for(let p=0;p<t&&(c++,o=o.nextZ,!!o);p++);let f=t;for(;c>0||f>0&&o;)c!==0&&(f===0||!o||i.z<=o.z)?(r=i,i=i.nextZ,c--):(r=o,o=o.nextZ,f--),a?a.nextZ=r:n=r,r.prevZ=a,a=r;i=o}a.nextZ=null,t*=2}while(e>1);return n}function IT(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function rF(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function yP(n,e,t,i,r,a,o,c){return(r-o)*(e-c)>=(n-o)*(a-c)&&(n-o)*(i-c)>=(t-o)*(e-c)&&(t-o)*(a-c)>=(r-o)*(i-c)}function Fy(n,e,t,i,r,a,o,c){return!(n===o&&e===c)&&yP(n,e,t,i,r,a,o,c)}function aF(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!sF(n,e)&&(Mv(n,e)&&Mv(e,n)&&oF(n,e)&&(Ii(n.prev,n,e.prev)||Ii(n,e.prev,e))||Nm(n,e)&&Ii(n.prev,n,n.next)>0&&Ii(e.prev,e,e.next)>0)}function Ii(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Nm(n,e){return n.x===e.x&&n.y===e.y}function vP(n,e,t,i){const r=Ux(Ii(n,e,t)),a=Ux(Ii(n,e,i)),o=Ux(Ii(t,i,n)),c=Ux(Ii(t,i,e));return!!(r!==a&&o!==c||r===0&&Px(n,t,e)||a===0&&Px(n,i,e)||o===0&&Px(t,n,i)||c===0&&Px(t,e,i))}function Px(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Ux(n){return n>0?1:n<0?-1:0}function sF(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&vP(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Mv(n,e){return Ii(n.prev,n,n.next)<0?Ii(n,e,n.next)>=0&&Ii(n,n.prev,e)>=0:Ii(n,e,n.prev)<0||Ii(n,n.next,e)<0}function oF(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&r<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function bP(n,e){const t=zT(n.i,n.x,n.y),i=zT(e.i,e.x,e.y),r=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,a.next=i,i.prev=a,i}function b2(n,e,t,i){const r=zT(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Ev(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function zT(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function lF(n,e,t,i){let r=0;for(let a=e,o=t-i;a<t;a+=i)r+=(n[o]-n[a])*(n[a+1]+n[o+1]),o=a;return r}class cF{static triangulate(e,t,i=2){return W5(e,t,i)}}class al{static area(e){const t=e.length;let i=0;for(let r=t-1,a=0;a<t;r=a++)i+=e[r].x*e[a].y-e[a].x*e[r].y;return i*.5}static isClockWise(e){return al.area(e)<0}static triangulateShape(e,t){const i=[],r=[],a=[];x2(e),S2(i,e);let o=e.length;t.forEach(x2);for(let f=0;f<t.length;f++)r.push(o),o+=t[f].length,S2(i,t[f]);const c=cF.triangulate(i,r);for(let f=0;f<c.length;f+=3)a.push(c.slice(f,f+3));return a}}function x2(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function S2(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class p1 extends sn{constructor(e=new Jd([new Je(.5,.5),new Je(-.5,.5),new Je(-.5,-.5),new Je(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],a=[];for(let c=0,f=e.length;c<f;c++){const p=e[c];o(p)}this.setAttribute("position",new Nt(r,3)),this.setAttribute("uv",new Nt(a,2)),this.computeVertexNormals();function o(c){const f=[],p=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,b=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:b-.1,E=t.bevelOffset!==void 0?t.bevelOffset:0,M=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,D=t.UVGenerator!==void 0?t.UVGenerator:uF;let A,T=!1,O,N,z,F;x&&(A=x.getSpacedPoints(m),T=!0,y=!1,O=x.computeFrenetFrames(m,!1),N=new re,z=new re,F=new re),y||(M=0,b=0,_=0,E=0);const P=c.extractPoints(p);let w=P.shape;const L=P.holes;if(!al.isClockWise(w)){w=w.reverse();for(let J=0,We=L.length;J<We;J++){const Re=L[J];al.isClockWise(Re)&&(L[J]=Re.reverse())}}function V(J){const Re=10000000000000001e-36;let ze=J[0];for(let ve=1;ve<=J.length;ve++){const ot=ve%J.length,Ae=J[ot],te=Ae.x-ze.x,Y=Ae.y-ze.y,be=te*te+Y*Y,we=Math.max(Math.abs(Ae.x),Math.abs(Ae.y),Math.abs(ze.x),Math.abs(ze.y)),Xe=Re*we*we;if(be<=Xe){J.splice(ot,1),ve--;continue}ze=Ae}}V(w),L.forEach(V);const G=L.length,$=w;for(let J=0;J<G;J++){const We=L[J];w=w.concat(We)}function B(J,We,Re){return We||console.error("THREE.ExtrudeGeometry: vec does not exist"),J.clone().addScaledVector(We,Re)}const j=w.length;function q(J,We,Re){let ze,ve,ot;const Ae=J.x-We.x,te=J.y-We.y,Y=Re.x-J.x,be=Re.y-J.y,we=Ae*Ae+te*te,Xe=Ae*be-te*Y;if(Math.abs(Xe)>Number.EPSILON){const Le=Math.sqrt(we),ct=Math.sqrt(Y*Y+be*be),at=We.x-te/Le,bt=We.y+Ae/Le,St=Re.x-be/ct,Be=Re.y+Y/ct,ut=((St-at)*be-(Be-bt)*Y)/(Ae*be-te*Y);ze=at+Ae*ut-J.x,ve=bt+te*ut-J.y;const _t=ze*ze+ve*ve;if(_t<=2)return new Je(ze,ve);ot=Math.sqrt(_t/2)}else{let Le=!1;Ae>Number.EPSILON?Y>Number.EPSILON&&(Le=!0):Ae<-Number.EPSILON?Y<-Number.EPSILON&&(Le=!0):Math.sign(te)===Math.sign(be)&&(Le=!0),Le?(ze=-te,ve=Ae,ot=Math.sqrt(we)):(ze=Ae,ve=te,ot=Math.sqrt(we/2))}return new Je(ze/ot,ve/ot)}const Q=[];for(let J=0,We=$.length,Re=We-1,ze=J+1;J<We;J++,Re++,ze++)Re===We&&(Re=0),ze===We&&(ze=0),Q[J]=q($[J],$[Re],$[ze]);const W=[];let ie,le=Q.concat();for(let J=0,We=G;J<We;J++){const Re=L[J];ie=[];for(let ze=0,ve=Re.length,ot=ve-1,Ae=ze+1;ze<ve;ze++,ot++,Ae++)ot===ve&&(ot=0),Ae===ve&&(Ae=0),ie[ze]=q(Re[ze],Re[ot],Re[Ae]);W.push(ie),le=le.concat(ie)}let he;if(M===0)he=al.triangulateShape($,L);else{const J=[],We=[];for(let Re=0;Re<M;Re++){const ze=Re/M,ve=b*Math.cos(ze*Math.PI/2),ot=_*Math.sin(ze*Math.PI/2)+E;for(let Ae=0,te=$.length;Ae<te;Ae++){const Y=B($[Ae],Q[Ae],ot);Qe(Y.x,Y.y,-ve),ze===0&&J.push(Y)}for(let Ae=0,te=G;Ae<te;Ae++){const Y=L[Ae];ie=W[Ae];const be=[];for(let we=0,Xe=Y.length;we<Xe;we++){const Le=B(Y[we],ie[we],ot);Qe(Le.x,Le.y,-ve),ze===0&&be.push(Le)}ze===0&&We.push(be)}}he=al.triangulateShape(J,We)}const ae=he.length,se=_+E;for(let J=0;J<j;J++){const We=y?B(w[J],le[J],se):w[J];T?(z.copy(O.normals[0]).multiplyScalar(We.x),N.copy(O.binormals[0]).multiplyScalar(We.y),F.copy(A[0]).add(z).add(N),Qe(F.x,F.y,F.z)):Qe(We.x,We.y,0)}for(let J=1;J<=m;J++)for(let We=0;We<j;We++){const Re=y?B(w[We],le[We],se):w[We];T?(z.copy(O.normals[J]).multiplyScalar(Re.x),N.copy(O.binormals[J]).multiplyScalar(Re.y),F.copy(A[J]).add(z).add(N),Qe(F.x,F.y,F.z)):Qe(Re.x,Re.y,g/m*J)}for(let J=M-1;J>=0;J--){const We=J/M,Re=b*Math.cos(We*Math.PI/2),ze=_*Math.sin(We*Math.PI/2)+E;for(let ve=0,ot=$.length;ve<ot;ve++){const Ae=B($[ve],Q[ve],ze);Qe(Ae.x,Ae.y,g+Re)}for(let ve=0,ot=L.length;ve<ot;ve++){const Ae=L[ve];ie=W[ve];for(let te=0,Y=Ae.length;te<Y;te++){const be=B(Ae[te],ie[te],ze);T?Qe(be.x,be.y+A[m-1].y,A[m-1].x+Re):Qe(be.x,be.y,g+Re)}}}me(),xe();function me(){const J=r.length/3;if(y){let We=0,Re=j*We;for(let ze=0;ze<ae;ze++){const ve=he[ze];Ee(ve[2]+Re,ve[1]+Re,ve[0]+Re)}We=m+M*2,Re=j*We;for(let ze=0;ze<ae;ze++){const ve=he[ze];Ee(ve[0]+Re,ve[1]+Re,ve[2]+Re)}}else{for(let We=0;We<ae;We++){const Re=he[We];Ee(Re[2],Re[1],Re[0])}for(let We=0;We<ae;We++){const Re=he[We];Ee(Re[0]+j*m,Re[1]+j*m,Re[2]+j*m)}}i.addGroup(J,r.length/3-J,0)}function xe(){const J=r.length/3;let We=0;ke($,We),We+=$.length;for(let Re=0,ze=L.length;Re<ze;Re++){const ve=L[Re];ke(ve,We),We+=ve.length}i.addGroup(J,r.length/3-J,1)}function ke(J,We){let Re=J.length;for(;--Re>=0;){const ze=Re;let ve=Re-1;ve<0&&(ve=J.length-1);for(let ot=0,Ae=m+M*2;ot<Ae;ot++){const te=j*ot,Y=j*(ot+1),be=We+ze+te,we=We+ve+te,Xe=We+ve+Y,Le=We+ze+Y;Ge(be,we,Xe,Le)}}}function Qe(J,We,Re){f.push(J),f.push(We),f.push(Re)}function Ee(J,We,Re){et(J),et(We),et(Re);const ze=r.length/3,ve=D.generateTopUV(i,r,ze-3,ze-2,ze-1);nt(ve[0]),nt(ve[1]),nt(ve[2])}function Ge(J,We,Re,ze){et(J),et(We),et(ze),et(We),et(Re),et(ze);const ve=r.length/3,ot=D.generateSideWallUV(i,r,ve-6,ve-3,ve-2,ve-1);nt(ot[0]),nt(ot[1]),nt(ot[3]),nt(ot[1]),nt(ot[2]),nt(ot[3])}function et(J){r.push(f[J*3+0]),r.push(f[J*3+1]),r.push(f[J*3+2])}function nt(J){a.push(J.x),a.push(J.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return fF(t,i,e)}static fromJSON(e,t){const i=[];for(let a=0,o=e.shapes.length;a<o;a++){const c=t[e.shapes[a]];i.push(c)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new p_[r.type]().fromJSON(r)),new p1(i,e.options)}}const uF={generateTopUV:function(n,e,t,i,r){const a=e[t*3],o=e[t*3+1],c=e[i*3],f=e[i*3+1],p=e[r*3],m=e[r*3+1];return[new Je(a,o),new Je(c,f),new Je(p,m)]},generateSideWallUV:function(n,e,t,i,r,a){const o=e[t*3],c=e[t*3+1],f=e[t*3+2],p=e[i*3],m=e[i*3+1],g=e[i*3+2],y=e[r*3],b=e[r*3+1],_=e[r*3+2],E=e[a*3],M=e[a*3+1],x=e[a*3+2];return Math.abs(c-m)<Math.abs(o-p)?[new Je(o,1-f),new Je(p,1-g),new Je(y,1-_),new Je(E,1-x)]:[new Je(c,1-f),new Je(m,1-g),new Je(b,1-_),new Je(M,1-x)]}};function fF(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const a=n[i];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class m1 extends Ef{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new m1(e.radius,e.detail)}}class g1 extends sn{constructor(e=[new Je(0,-.5),new Je(.5,0),new Je(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=an(r,0,Math.PI*2);const a=[],o=[],c=[],f=[],p=[],m=1/t,g=new re,y=new Je,b=new re,_=new re,E=new re;let M=0,x=0;for(let D=0;D<=e.length-1;D++)switch(D){case 0:M=e[D+1].x-e[D].x,x=e[D+1].y-e[D].y,b.x=x*1,b.y=-M,b.z=x*0,E.copy(b),b.normalize(),f.push(b.x,b.y,b.z);break;case e.length-1:f.push(E.x,E.y,E.z);break;default:M=e[D+1].x-e[D].x,x=e[D+1].y-e[D].y,b.x=x*1,b.y=-M,b.z=x*0,_.copy(b),b.x+=E.x,b.y+=E.y,b.z+=E.z,b.normalize(),f.push(b.x,b.y,b.z),E.copy(_)}for(let D=0;D<=t;D++){const A=i+D*m*r,T=Math.sin(A),O=Math.cos(A);for(let N=0;N<=e.length-1;N++){g.x=e[N].x*T,g.y=e[N].y,g.z=e[N].x*O,o.push(g.x,g.y,g.z),y.x=D/t,y.y=N/(e.length-1),c.push(y.x,y.y);const z=f[3*N+0]*T,F=f[3*N+1],P=f[3*N+0]*O;p.push(z,F,P)}}for(let D=0;D<t;D++)for(let A=0;A<e.length-1;A++){const T=A+D*e.length,O=T,N=T+e.length,z=T+e.length+1,F=T+1;a.push(O,N,F),a.push(z,F,N)}this.setIndex(a),this.setAttribute("position",new Nt(o,3)),this.setAttribute("uv",new Nt(c,2)),this.setAttribute("normal",new Nt(p,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new g1(e.points,e.segments,e.phiStart,e.phiLength)}}class t0 extends Ef{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new t0(e.radius,e.detail)}}class Gm extends sn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const a=e/2,o=t/2,c=Math.floor(i),f=Math.floor(r),p=c+1,m=f+1,g=e/c,y=t/f,b=[],_=[],E=[],M=[];for(let x=0;x<m;x++){const D=x*y-o;for(let A=0;A<p;A++){const T=A*g-a;_.push(T,-D,0),E.push(0,0,1),M.push(A/c),M.push(1-x/f)}}for(let x=0;x<f;x++)for(let D=0;D<c;D++){const A=D+p*x,T=D+p*(x+1),O=D+1+p*(x+1),N=D+1+p*x;b.push(A,T,N),b.push(T,O,N)}this.setIndex(b),this.setAttribute("position",new Nt(_,3)),this.setAttribute("normal",new Nt(E,3)),this.setAttribute("uv",new Nt(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gm(e.width,e.height,e.widthSegments,e.heightSegments)}}class y1 extends sn{constructor(e=.5,t=1,i=32,r=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:a,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const c=[],f=[],p=[],m=[];let g=e;const y=(t-e)/r,b=new re,_=new Je;for(let E=0;E<=r;E++){for(let M=0;M<=i;M++){const x=a+M/i*o;b.x=g*Math.cos(x),b.y=g*Math.sin(x),f.push(b.x,b.y,b.z),p.push(0,0,1),_.x=(b.x/t+1)/2,_.y=(b.y/t+1)/2,m.push(_.x,_.y)}g+=y}for(let E=0;E<r;E++){const M=E*(i+1);for(let x=0;x<i;x++){const D=x+M,A=D,T=D+i+1,O=D+i+2,N=D+1;c.push(A,T,N),c.push(T,O,N)}}this.setIndex(c),this.setAttribute("position",new Nt(f,3)),this.setAttribute("normal",new Nt(p,3)),this.setAttribute("uv",new Nt(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new y1(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class v1 extends sn{constructor(e=new Jd([new Je(0,.5),new Je(-.5,-.5),new Je(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],a=[],o=[];let c=0,f=0;if(Array.isArray(e)===!1)p(e);else for(let m=0;m<e.length;m++)p(e[m]),this.addGroup(c,f,m),c+=f,f=0;this.setIndex(i),this.setAttribute("position",new Nt(r,3)),this.setAttribute("normal",new Nt(a,3)),this.setAttribute("uv",new Nt(o,2));function p(m){const g=r.length/3,y=m.extractPoints(t);let b=y.shape;const _=y.holes;al.isClockWise(b)===!1&&(b=b.reverse());for(let M=0,x=_.length;M<x;M++){const D=_[M];al.isClockWise(D)===!0&&(_[M]=D.reverse())}const E=al.triangulateShape(b,_);for(let M=0,x=_.length;M<x;M++){const D=_[M];b=b.concat(D)}for(let M=0,x=b.length;M<x;M++){const D=b[M];r.push(D.x,D.y,0),a.push(0,0,1),o.push(D.x,D.y)}for(let M=0,x=E.length;M<x;M++){const D=E[M],A=D[0]+g,T=D[1]+g,O=D[2]+g;i.push(A,T,O),f+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return dF(t,e)}static fromJSON(e,t){const i=[];for(let r=0,a=e.shapes.length;r<a;r++){const o=t[e.shapes[r]];i.push(o)}return new v1(i,e.curveSegments)}}function dF(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class n0 extends sn{constructor(e=1,t=32,i=16,r=0,a=Math.PI*2,o=0,c=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:a,thetaStart:o,thetaLength:c},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const f=Math.min(o+c,Math.PI);let p=0;const m=[],g=new re,y=new re,b=[],_=[],E=[],M=[];for(let x=0;x<=i;x++){const D=[],A=x/i;let T=0;x===0&&o===0?T=.5/t:x===i&&f===Math.PI&&(T=-.5/t);for(let O=0;O<=t;O++){const N=O/t;g.x=-e*Math.cos(r+N*a)*Math.sin(o+A*c),g.y=e*Math.cos(o+A*c),g.z=e*Math.sin(r+N*a)*Math.sin(o+A*c),_.push(g.x,g.y,g.z),y.copy(g).normalize(),E.push(y.x,y.y,y.z),M.push(N+T,1-A),D.push(p++)}m.push(D)}for(let x=0;x<i;x++)for(let D=0;D<t;D++){const A=m[x][D+1],T=m[x][D],O=m[x+1][D],N=m[x+1][D+1];(x!==0||o>0)&&b.push(A,T,N),(x!==i-1||f<Math.PI)&&b.push(T,O,N)}this.setIndex(b),this.setAttribute("position",new Nt(_,3)),this.setAttribute("normal",new Nt(E,3)),this.setAttribute("uv",new Nt(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new n0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class b1 extends Ef{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new b1(e.radius,e.detail)}}class x1 extends sn{constructor(e=1,t=.4,i=12,r=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:a},i=Math.floor(i),r=Math.floor(r);const o=[],c=[],f=[],p=[],m=new re,g=new re,y=new re;for(let b=0;b<=i;b++)for(let _=0;_<=r;_++){const E=_/r*a,M=b/i*Math.PI*2;g.x=(e+t*Math.cos(M))*Math.cos(E),g.y=(e+t*Math.cos(M))*Math.sin(E),g.z=t*Math.sin(M),c.push(g.x,g.y,g.z),m.x=e*Math.cos(E),m.y=e*Math.sin(E),y.subVectors(g,m).normalize(),f.push(y.x,y.y,y.z),p.push(_/r),p.push(b/i)}for(let b=1;b<=i;b++)for(let _=1;_<=r;_++){const E=(r+1)*b+_-1,M=(r+1)*(b-1)+_-1,x=(r+1)*(b-1)+_,D=(r+1)*b+_;o.push(E,M,D),o.push(M,x,D)}this.setIndex(o),this.setAttribute("position",new Nt(c,3)),this.setAttribute("normal",new Nt(f,3)),this.setAttribute("uv",new Nt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new x1(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class S1 extends sn{constructor(e=1,t=.4,i=64,r=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:a,q:o},i=Math.floor(i),r=Math.floor(r);const c=[],f=[],p=[],m=[],g=new re,y=new re,b=new re,_=new re,E=new re,M=new re,x=new re;for(let A=0;A<=i;++A){const T=A/i*a*Math.PI*2;D(T,a,o,e,b),D(T+.01,a,o,e,_),M.subVectors(_,b),x.addVectors(_,b),E.crossVectors(M,x),x.crossVectors(E,M),E.normalize(),x.normalize();for(let O=0;O<=r;++O){const N=O/r*Math.PI*2,z=-t*Math.cos(N),F=t*Math.sin(N);g.x=b.x+(z*x.x+F*E.x),g.y=b.y+(z*x.y+F*E.y),g.z=b.z+(z*x.z+F*E.z),f.push(g.x,g.y,g.z),y.subVectors(g,b).normalize(),p.push(y.x,y.y,y.z),m.push(A/i),m.push(O/r)}}for(let A=1;A<=i;A++)for(let T=1;T<=r;T++){const O=(r+1)*(A-1)+(T-1),N=(r+1)*A+(T-1),z=(r+1)*A+T,F=(r+1)*(A-1)+T;c.push(O,N,F),c.push(N,z,F)}this.setIndex(c),this.setAttribute("position",new Nt(f,3)),this.setAttribute("normal",new Nt(p,3)),this.setAttribute("uv",new Nt(m,2));function D(A,T,O,N,z){const F=Math.cos(A),P=Math.sin(A),w=O/T*A,L=Math.cos(w);z.x=N*(2+L)*.5*F,z.y=N*(2+L)*P*.5,z.z=N*Math.sin(w)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new S1(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class _1 extends sn{constructor(e=new ow(new re(-1,-1,0),new re(-1,1,0),new re(1,1,0)),t=64,i=1,r=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:a};const o=e.computeFrenetFrames(t,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const c=new re,f=new re,p=new Je;let m=new re;const g=[],y=[],b=[],_=[];E(),this.setIndex(_),this.setAttribute("position",new Nt(g,3)),this.setAttribute("normal",new Nt(y,3)),this.setAttribute("uv",new Nt(b,2));function E(){for(let A=0;A<t;A++)M(A);M(a===!1?t:0),D(),x()}function M(A){m=e.getPointAt(A/t,m);const T=o.normals[A],O=o.binormals[A];for(let N=0;N<=r;N++){const z=N/r*Math.PI*2,F=Math.sin(z),P=-Math.cos(z);f.x=P*T.x+F*O.x,f.y=P*T.y+F*O.y,f.z=P*T.z+F*O.z,f.normalize(),y.push(f.x,f.y,f.z),c.x=m.x+i*f.x,c.y=m.y+i*f.y,c.z=m.z+i*f.z,g.push(c.x,c.y,c.z)}}function x(){for(let A=1;A<=t;A++)for(let T=1;T<=r;T++){const O=(r+1)*(A-1)+(T-1),N=(r+1)*A+(T-1),z=(r+1)*A+T,F=(r+1)*(A-1)+T;_.push(O,N,F),_.push(N,z,F)}}function D(){for(let A=0;A<=t;A++)for(let T=0;T<=r;T++)p.x=A/t,p.y=T/r,b.push(p.x,p.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new _1(new p_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class xP extends sn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new re,a=new re;if(e.index!==null){const o=e.attributes.position,c=e.index;let f=e.groups;f.length===0&&(f=[{start:0,count:c.count,materialIndex:0}]);for(let p=0,m=f.length;p<m;++p){const g=f[p],y=g.start,b=g.count;for(let _=y,E=y+b;_<E;_+=3)for(let M=0;M<3;M++){const x=c.getX(_+M),D=c.getX(_+(M+1)%3);r.fromBufferAttribute(o,x),a.fromBufferAttribute(o,D),_2(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let c=0,f=o.count/3;c<f;c++)for(let p=0;p<3;p++){const m=3*c+p,g=3*c+(p+1)%3;r.fromBufferAttribute(o,m),a.fromBufferAttribute(o,g),_2(r,a,i)===!0&&(t.push(r.x,r.y,r.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new Nt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function _2(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var M2=Object.freeze({__proto__:null,BoxGeometry:Eh,CapsuleGeometry:u1,CircleGeometry:f1,ConeGeometry:e0,CylinderGeometry:Jv,DodecahedronGeometry:d1,EdgesGeometry:uP,ExtrudeGeometry:p1,IcosahedronGeometry:m1,LatheGeometry:g1,OctahedronGeometry:t0,PlaneGeometry:Gm,PolyhedronGeometry:Ef,RingGeometry:y1,ShapeGeometry:v1,SphereGeometry:n0,TetrahedronGeometry:b1,TorusGeometry:x1,TorusKnotGeometry:S1,TubeGeometry:_1,WireframeGeometry:xP});class SP extends Ea{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Rt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class _P extends So{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class cw extends Ea{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Rt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_f,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zs,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class MP extends cw{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Je(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return an(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Rt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Rt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Rt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class EP extends Ea{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Rt(16777215),this.specular=new Rt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_f,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zs,this.combine=$v,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class TP extends Ea{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Rt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_f,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class AP extends Ea{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_f,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class wP extends Ea{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Rt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_f,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new zs,this.combine=$v,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uw extends Ea{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=zN,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class fw extends Ea{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class CP extends Ea{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Rt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=_f,this.normalScale=new Je(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class RP extends ja{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Wd(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function OP(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function DP(n){function e(r,a){return n[r]-n[a]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function BT(n,e,t){const i=n.length,r=new n.constructor(i);for(let a=0,o=0;o!==i;++a){const c=t[a]*e;for(let f=0;f!==e;++f)r[o++]=n[c+f]}return r}function dw(n,e,t,i){let r=1,a=n[0];for(;a!==void 0&&a[i]===void 0;)a=n[r++];if(a===void 0)return;let o=a[i];if(o!==void 0)if(Array.isArray(o))do o=a[i],o!==void 0&&(e.push(a.time),t.push(...o)),a=n[r++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[i],o!==void 0&&(e.push(a.time),o.toArray(t,t.length)),a=n[r++];while(a!==void 0);else do o=a[i],o!==void 0&&(e.push(a.time),t.push(o)),a=n[r++];while(a!==void 0)}function hF(n,e,t,i,r=30){const a=n.clone();a.name=e;const o=[];for(let f=0;f<a.tracks.length;++f){const p=a.tracks[f],m=p.getValueSize(),g=[],y=[];for(let b=0;b<p.times.length;++b){const _=p.times[b]*r;if(!(_<t||_>=i)){g.push(p.times[b]);for(let E=0;E<m;++E)y.push(p.values[b*m+E])}}g.length!==0&&(p.times=Wd(g,p.times.constructor),p.values=Wd(y,p.values.constructor),o.push(p))}a.tracks=o;let c=1/0;for(let f=0;f<a.tracks.length;++f)c>a.tracks[f].times[0]&&(c=a.tracks[f].times[0]);for(let f=0;f<a.tracks.length;++f)a.tracks[f].shift(-1*c);return a.resetDuration(),a}function pF(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,a=e/i;for(let o=0;o<r;++o){const c=t.tracks[o],f=c.ValueTypeName;if(f==="bool"||f==="string")continue;const p=n.tracks.find(function(x){return x.name===c.name&&x.ValueTypeName===f});if(p===void 0)continue;let m=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let y=0;const b=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=b/3);const _=c.times.length-1;let E;if(a<=c.times[0]){const x=m,D=g-m;E=c.values.slice(x,D)}else if(a>=c.times[_]){const x=_*g+m,D=x+g-m;E=c.values.slice(x,D)}else{const x=c.createInterpolant(),D=m,A=g-m;x.evaluate(a),E=x.resultBuffer.slice(D,A)}f==="quaternion"&&new xa().fromArray(E).normalize().conjugate().toArray(E);const M=p.times.length;for(let x=0;x<M;++x){const D=x*b+y;if(f==="quaternion")xa.multiplyQuaternionsFlat(p.values,D,E,0,p.values,D);else{const A=b-y*2;for(let T=0;T<A;++T)p.values[D+T]-=E[T]}}}return n.blendMode=XA,n}class mF{static convertArray(e,t){return Wd(e,t)}static isTypedArray(e){return OP(e)}static getKeyframeOrder(e){return DP(e)}static sortedArray(e,t,i){return BT(e,t,i)}static flattenJSON(e,t,i,r){dw(e,t,i,r)}static subclip(e,t,i,r,a=30){return hF(e,t,i,r,a)}static makeClipAdditive(e,t=0,i=e,r=30){return pF(e,t,i,r)}}class i0{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],a=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let c=i+2;;){if(r===void 0){if(e<a)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===c)break;if(a=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=a)){const c=t[1];e<c&&(i=2,a=c);for(let f=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===f)break;if(r=a,a=t[--i-1],e>=a)break t}o=i,i=0;break n}break e}for(;i<o;){const c=i+o>>>1;e<t[c]?o=c:i=c+1}if(r=t[i],a=t[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let o=0;o!==r;++o)t[o]=i[a+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class NP extends i0{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:qd,endingEnd:qd}}intervalChanged_(e,t,i){const r=this.parameterPositions;let a=e-2,o=e+1,c=r[a],f=r[o];if(c===void 0)switch(this.getSettings_().endingStart){case jd:a=e,c=2*t-i;break;case yv:a=r.length-2,c=t+r[a]-r[a+1];break;default:a=e,c=i}if(f===void 0)switch(this.getSettings_().endingEnd){case jd:o=e,f=2*i-t;break;case yv:o=1,f=i+r[1]-r[0];break;default:o=e-1,f=t}const p=(i-t)*.5,m=this.valueSize;this._weightPrev=p/(t-c),this._weightNext=p/(f-i),this._offsetPrev=a*m,this._offsetNext=o*m}interpolate_(e,t,i,r){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,f=e*c,p=f-c,m=this._offsetPrev,g=this._offsetNext,y=this._weightPrev,b=this._weightNext,_=(i-t)/(r-t),E=_*_,M=E*_,x=-y*M+2*y*E-y*_,D=(1+y)*M+(-1.5-2*y)*E+(-.5+y)*_+1,A=(-1-b)*M+(1.5+b)*E+.5*_,T=b*M-b*E;for(let O=0;O!==c;++O)a[O]=x*o[m+O]+D*o[p+O]+A*o[f+O]+T*o[g+O];return a}}class hw extends i0{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,f=e*c,p=f-c,m=(i-t)/(r-t),g=1-m;for(let y=0;y!==c;++y)a[y]=o[p+y]*g+o[f+y]*m;return a}}class PP extends i0{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Eo{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Wd(t,this.TimeBufferType),this.values=Wd(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Wd(e.times,Array),values:Wd(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new PP(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new hw(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new NP(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case gv:t=this.InterpolantFactoryMethodDiscrete;break;case f_:t=this.InterpolantFactoryMethodLinear;break;case pS:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return gv;case this.InterpolantFactoryMethodLinear:return f_;case this.InterpolantFactoryMethodSmooth:return pS}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let a=0,o=r-1;for(;a!==r&&i[a]<e;)++a;for(;o!==-1&&i[o]>t;)--o;if(++o,a!==0||o!==r){a>=o&&(o=Math.max(o,1),a=o-1);const c=this.getValueSize();this.times=i.slice(a,o),this.values=this.values.slice(a*c,o*c)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let c=0;c!==a;c++){const f=i[c];if(typeof f=="number"&&isNaN(f)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,c,f),e=!1;break}if(o!==null&&o>f){console.error("THREE.KeyframeTrack: Out of order keys.",this,c,f,o),e=!1;break}o=f}if(r!==void 0&&OP(r))for(let c=0,f=r.length;c!==f;++c){const p=r[c];if(isNaN(p)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,p),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===pS,a=e.length-1;let o=1;for(let c=1;c<a;++c){let f=!1;const p=e[c],m=e[c+1];if(p!==m&&(c!==1||p!==e[0]))if(r)f=!0;else{const g=c*i,y=g-i,b=g+i;for(let _=0;_!==i;++_){const E=t[g+_];if(E!==t[y+_]||E!==t[b+_]){f=!0;break}}}if(f){if(c!==o){e[o]=e[c];const g=c*i,y=o*i;for(let b=0;b!==i;++b)t[y+b]=t[g+b]}++o}}if(a>0){e[o]=e[a];for(let c=a*i,f=o*i,p=0;p!==i;++p)t[f+p]=t[c+p];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Eo.prototype.ValueTypeName="";Eo.prototype.TimeBufferType=Float32Array;Eo.prototype.ValueBufferType=Float32Array;Eo.prototype.DefaultInterpolation=f_;class Th extends Eo{constructor(e,t,i){super(e,t,i)}}Th.prototype.ValueTypeName="bool";Th.prototype.ValueBufferType=Array;Th.prototype.DefaultInterpolation=gv;Th.prototype.InterpolantFactoryMethodLinear=void 0;Th.prototype.InterpolantFactoryMethodSmooth=void 0;class pw extends Eo{constructor(e,t,i,r){super(e,t,i,r)}}pw.prototype.ValueTypeName="color";class Tv extends Eo{constructor(e,t,i,r){super(e,t,i,r)}}Tv.prototype.ValueTypeName="number";class UP extends i0{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const a=this.resultBuffer,o=this.sampleValues,c=this.valueSize,f=(i-t)/(r-t);let p=e*c;for(let m=p+c;p!==m;p+=4)xa.slerpFlat(a,0,o,p-c,o,p,f);return a}}class r0 extends Eo{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new UP(this.times,this.values,this.getValueSize(),e)}}r0.prototype.ValueTypeName="quaternion";r0.prototype.InterpolantFactoryMethodSmooth=void 0;class Ah extends Eo{constructor(e,t,i){super(e,t,i)}}Ah.prototype.ValueTypeName="string";Ah.prototype.ValueBufferType=Array;Ah.prototype.DefaultInterpolation=gv;Ah.prototype.InterpolantFactoryMethodLinear=void 0;Ah.prototype.InterpolantFactoryMethodSmooth=void 0;class Av extends Eo{constructor(e,t,i,r){super(e,t,i,r)}}Av.prototype.ValueTypeName="vector";class wv{constructor(e="",t=-1,i=[],r=J_){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Ls(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,c=i.length;o!==c;++o)t.push(yF(i[o]).scale(r));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=i.length;a!==o;++a)t.push(Eo.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const a=t.length,o=[];for(let c=0;c<a;c++){let f=[],p=[];f.push((c+a-1)%a,c,(c+1)%a),p.push(0,1,0);const m=DP(f);f=BT(f,1,m),p=BT(p,1,m),!r&&f[0]===0&&(f.push(a),p.push(p[0])),o.push(new Tv(".morphTargetInfluences["+t[c].name+"]",f,p).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let c=0,f=e.length;c<f;c++){const p=e[c],m=p.name.match(a);if(m&&m.length>1){const g=m[1];let y=r[g];y||(r[g]=y=[]),y.push(p)}}const o=[];for(const c in r)o.push(this.CreateFromMorphTargetSequence(c,r[c],t,i));return o}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(g,y,b,_,E){if(b.length!==0){const M=[],x=[];dw(b,M,x,_),M.length!==0&&E.push(new g(y,M,x))}},r=[],a=e.name||"default",o=e.fps||30,c=e.blendMode;let f=e.length||-1;const p=e.hierarchy||[];for(let g=0;g<p.length;g++){const y=p[g].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const b={};let _;for(_=0;_<y.length;_++)if(y[_].morphTargets)for(let E=0;E<y[_].morphTargets.length;E++)b[y[_].morphTargets[E]]=-1;for(const E in b){const M=[],x=[];for(let D=0;D!==y[_].morphTargets.length;++D){const A=y[_];M.push(A.time),x.push(A.morphTarget===E?1:0)}r.push(new Tv(".morphTargetInfluence["+E+"]",M,x))}f=b.length*o}else{const b=".bones["+t[g].name+"]";i(Av,b+".position",y,"pos",r),i(r0,b+".quaternion",y,"rot",r),i(Av,b+".scale",y,"scl",r)}}return r.length===0?null:new this(a,f,r,c)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const a=this.tracks[i];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function gF(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Tv;case"vector":case"vector2":case"vector3":case"vector4":return Av;case"color":return pw;case"quaternion":return r0;case"bool":case"boolean":return Th;case"string":return Ah}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function yF(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=gF(n.type);if(n.times===void 0){const t=[],i=[];dw(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Qc={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class mw{constructor(e,t,i){const r=this;let a=!1,o=0,c=0,f;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(m){c++,a===!1&&r.onStart!==void 0&&r.onStart(m,o,c),a=!0},this.itemEnd=function(m){o++,r.onProgress!==void 0&&r.onProgress(m,o,c),o===c&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(m){r.onError!==void 0&&r.onError(m)},this.resolveURL=function(m){return f?f(m):m},this.setURLModifier=function(m){return f=m,this},this.addHandler=function(m,g){return p.push(m,g),this},this.removeHandler=function(m){const g=p.indexOf(m);return g!==-1&&p.splice(g,2),this},this.getHandler=function(m){for(let g=0,y=p.length;g<y;g+=2){const b=p[g],_=p[g+1];if(b.global&&(b.lastIndex=0),b.test(m))return _}return null}}}const LP=new mw;class Wa{constructor(e){this.manager=e!==void 0?e:LP,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,a){i.load(e,r,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Wa.DEFAULT_MATERIAL_NAME="__DEFAULT";const Hc={};class vF extends Error{constructor(e,t){super(e),this.response=t}}class rc extends Wa{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Qc.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Hc[e]!==void 0){Hc[e].push({onLoad:t,onProgress:i,onError:r});return}Hc[e]=[],Hc[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),c=this.mimeType,f=this.responseType;fetch(o).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const m=Hc[e],g=p.body.getReader(),y=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),b=y?parseInt(y):0,_=b!==0;let E=0;const M=new ReadableStream({start(x){D();function D(){g.read().then(({done:A,value:T})=>{if(A)x.close();else{E+=T.byteLength;const O=new ProgressEvent("progress",{lengthComputable:_,loaded:E,total:b});for(let N=0,z=m.length;N<z;N++){const F=m[N];F.onProgress&&F.onProgress(O)}x.enqueue(T),D()}},A=>{x.error(A)})}}});return new Response(M)}else throw new vF(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(f){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(m=>new DOMParser().parseFromString(m,c));case"json":return p.json();default:if(c==="")return p.text();{const g=/charset="?([^;"\s]*)"?/i.exec(c),y=g&&g[1]?g[1].toLowerCase():void 0,b=new TextDecoder(y);return p.arrayBuffer().then(_=>b.decode(_))}}}).then(p=>{Qc.add(e,p);const m=Hc[e];delete Hc[e];for(let g=0,y=m.length;g<y;g++){const b=m[g];b.onLoad&&b.onLoad(p)}}).catch(p=>{const m=Hc[e];if(m===void 0)throw this.manager.itemError(e),p;delete Hc[e];for(let g=0,y=m.length;g<y;g++){const b=m[g];b.onError&&b.onError(p)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class bF extends Wa{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new rc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(f){r?r(f):console.error(f),a.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=wv.parse(e[i]);t.push(r)}return t}}class xF extends Wa{constructor(e){super(e)}load(e,t,i,r){const a=this,o=[],c=new l1,f=new rc(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(a.withCredentials);let p=0;function m(g){f.load(e[g],function(y){const b=a.parse(y,!0);o[g]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},p+=1,p===6&&(b.mipmapCount===1&&(c.minFilter=Ar),c.image=o,c.format=b.format,c.needsUpdate=!0,t&&t(c))},i,r)}if(Array.isArray(e))for(let g=0,y=e.length;g<y;++g)m(g);else f.load(e,function(g){const y=a.parse(g,!0);if(y.isCubemap){const b=y.mipmaps.length/y.mipmapCount;for(let _=0;_<b;_++){o[_]={mipmaps:[]};for(let E=0;E<y.mipmapCount;E++)o[_].mipmaps.push(y.mipmaps[_*y.mipmapCount+E]),o[_].format=y.format,o[_].width=y.width,o[_].height=y.height}c.image=o}else c.image.width=y.width,c.image.height=y.height,c.mipmaps=y.mipmaps;y.mipmapCount===1&&(c.minFilter=Ar),c.format=y.format,c.needsUpdate=!0,t&&t(c)},i,r);return c}}class Cv extends Wa{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Qc.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o;const c=Sv("img");function f(){m(),Qc.add(e,this),t&&t(this),a.manager.itemEnd(e)}function p(g){m(),r&&r(g),a.manager.itemError(e),a.manager.itemEnd(e)}function m(){c.removeEventListener("load",f,!1),c.removeEventListener("error",p,!1)}return c.addEventListener("load",f,!1),c.addEventListener("error",p,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),a.manager.itemStart(e),c.src=e,c}}class SF extends Wa{constructor(e){super(e)}load(e,t,i,r){const a=new Zv;a.colorSpace=$r;const o=new Cv(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let c=0;function f(p){o.load(e[p],function(m){a.images[p]=m,c++,c===6&&(a.needsUpdate=!0,t&&t(a))},void 0,r)}for(let p=0;p<e.length;++p)f(p);return a}}class _F extends Wa{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new ec,c=new rc(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(a.withCredentials),c.load(e,function(f){let p;try{p=a.parse(f)}catch(m){if(r!==void 0)r(m);else{console.error(m);return}}p.image!==void 0?o.image=p.image:p.data!==void 0&&(o.image.width=p.width,o.image.height=p.height,o.image.data=p.data),o.wrapS=p.wrapS!==void 0?p.wrapS:yo,o.wrapT=p.wrapT!==void 0?p.wrapT:yo,o.magFilter=p.magFilter!==void 0?p.magFilter:Ar,o.minFilter=p.minFilter!==void 0?p.minFilter:Ar,o.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(o.colorSpace=p.colorSpace),p.flipY!==void 0&&(o.flipY=p.flipY),p.format!==void 0&&(o.format=p.format),p.type!==void 0&&(o.type=p.type),p.mipmaps!==void 0&&(o.mipmaps=p.mipmaps,o.minFilter=Zl),p.mipmapCount===1&&(o.minFilter=Ar),p.generateMipmaps!==void 0&&(o.generateMipmaps=p.generateMipmaps),o.needsUpdate=!0,t&&t(o,p)},i,r),o}}class MF extends Wa{constructor(e){super(e)}load(e,t,i,r){const a=new ji,o=new Cv(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(c){a.image=c,a.needsUpdate=!0,t!==void 0&&t(a)},i,r),a}}class Tf extends Bn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Rt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class IP extends Tf{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Bn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Rt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const CE=new Xt,E2=new re,T2=new re;class gw{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Je(512,512),this.mapType=xo,this.map=null,this.mapPass=null,this.matrix=new Xt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new km,this._frameExtents=new Je(1,1),this._viewportCount=1,this._viewports=[new zn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;E2.setFromMatrixPosition(e.matrixWorld),t.position.copy(E2),T2.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(T2),t.updateMatrixWorld(),CE.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(CE),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(CE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class EF extends gw{constructor(){super(new Ji(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Cm*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(i!==t.fov||r!==t.aspect||a!==t.far)&&(t.fov=i,t.aspect=r,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class zP extends Tf{constructor(e,t,i=0,r=Math.PI/3,a=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Bn.DEFAULT_UP),this.updateMatrix(),this.target=new Bn,this.distance=i,this.angle=r,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new EF}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const A2=new Xt,Ry=new re,RE=new re;class TF extends gw{constructor(){super(new Ji(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Je(4,2),this._viewportCount=6,this._viewports=[new zn(2,1,1,1),new zn(0,1,1,1),new zn(3,1,1,1),new zn(1,1,1,1),new zn(3,0,1,1),new zn(1,0,1,1)],this._cubeDirections=[new re(1,0,0),new re(-1,0,0),new re(0,0,1),new re(0,0,-1),new re(0,1,0),new re(0,-1,0)],this._cubeUps=[new re(0,1,0),new re(0,1,0),new re(0,1,0),new re(0,1,0),new re(0,0,1),new re(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),Ry.setFromMatrixPosition(e.matrixWorld),i.position.copy(Ry),RE.copy(i.position),RE.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(RE),i.updateMatrixWorld(),r.makeTranslation(-Ry.x,-Ry.y,-Ry.z),A2.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(A2)}}class BP extends Tf{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new TF}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class pf extends n1{constructor(e=-1,t=1,i=1,r=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,o=i+e,c=r+t,f=r-t;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=p*this.view.offsetX,o=a+p*this.view.width,c-=m*this.view.offsetY,f=c-m*this.view.height}this.projectionMatrix.makeOrthographic(a,o,c,f,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class AF extends gw{constructor(){super(new pf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class FP extends Tf{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Bn.DEFAULT_UP),this.updateMatrix(),this.target=new Bn,this.shadow=new AF}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class HP extends Tf{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class VP extends Tf{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class kP{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new re)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*a),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*a)),t.addScaledVector(o[6],.315392*(3*a*a-1)),t.addScaledVector(o[7],1.092548*(i*a)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*a),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*a),t.addScaledVector(o[6],.743125*a*a-.247708),t.addScaledVector(o[7],2*.429043*i*a),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,a=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*a,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*i*a,t[8]=.546274*(i*i-r*r)}}class GP extends Tf{constructor(e=new kP,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class M1 extends Wa{constructor(e){super(e),this.textures={}}load(e,t,i,r){const a=this,o=new rc(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(f){r?r(f):console.error(f),a.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Rt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(r.uniforms[a]={},o.type){case"t":r.uniforms[a].value=i(o.value);break;case"c":r.uniforms[a].value=new Rt().setHex(o.value);break;case"v2":r.uniforms[a].value=new Je().fromArray(o.value);break;case"v3":r.uniforms[a].value=new re().fromArray(o.value);break;case"v4":r.uniforms[a].value=new zn().fromArray(o.value);break;case"m3":r.uniforms[a].value=new ln().fromArray(o.value);break;case"m4":r.uniforms[a].value=new Xt().fromArray(o.value);break;default:r.uniforms[a].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)r.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),r.normalScale=new Je().fromArray(a)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Je().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return M1.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:SP,SpriteMaterial:ew,RawShaderMaterial:_P,ShaderMaterial:So,PointsMaterial:nw,MeshPhysicalMaterial:MP,MeshStandardMaterial:cw,MeshPhongMaterial:EP,MeshToonMaterial:TP,MeshNormalMaterial:AP,MeshLambertMaterial:wP,MeshDepthMaterial:uw,MeshDistanceMaterial:fw,MeshBasicMaterial:Mf,MeshMatcapMaterial:CP,LineDashedMaterial:RP,LineBasicMaterial:ja,Material:Ea};return new t[e]}}class FT{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class qP extends sn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class jP extends Wa{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new rc(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(f){r?r(f):console.error(f),a.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(b,_){if(t[_]!==void 0)return t[_];const M=b.interleavedBuffers[_],x=a(b,M.buffer),D=um(M.type,x),A=new a1(D,M.stride);return A.uuid=M.uuid,t[_]=A,A}function a(b,_){if(i[_]!==void 0)return i[_];const M=b.arrayBuffers[_],x=new Uint32Array(M).buffer;return i[_]=x,x}const o=e.isInstancedBufferGeometry?new qP:new sn,c=e.data.index;if(c!==void 0){const b=um(c.type,c.array);o.setIndex(new Yn(b,1))}const f=e.data.attributes;for(const b in f){const _=f[b];let E;if(_.isInterleavedBufferAttribute){const M=r(e.data,_.data);E=new uh(M,_.itemSize,_.offset,_.normalized)}else{const M=um(_.type,_.array),x=_.isInstancedBufferAttribute?Dm:Yn;E=new x(M,_.itemSize,_.normalized)}_.name!==void 0&&(E.name=_.name),_.usage!==void 0&&E.setUsage(_.usage),o.setAttribute(b,E)}const p=e.data.morphAttributes;if(p)for(const b in p){const _=p[b],E=[];for(let M=0,x=_.length;M<x;M++){const D=_[M];let A;if(D.isInterleavedBufferAttribute){const T=r(e.data,D.data);A=new uh(T,D.itemSize,D.offset,D.normalized)}else{const T=um(D.type,D.array);A=new Yn(T,D.itemSize,D.normalized)}D.name!==void 0&&(A.name=D.name),E.push(A)}o.morphAttributes[b]=E}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let b=0,_=g.length;b!==_;++b){const E=g[b];o.addGroup(E.start,E.count,E.materialIndex)}const y=e.data.boundingSphere;if(y!==void 0){const b=new re;y.center!==void 0&&b.fromArray(y.center),o.boundingSphere=new Jr(b,y.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class wF extends Wa{constructor(e){super(e)}load(e,t,i,r){const a=this,o=this.path===""?FT.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const c=new rc(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(f){let p=null;try{p=JSON.parse(f)}catch(g){r!==void 0&&r(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const m=p.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(p,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?FT.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const a=new rc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,t),c=JSON.parse(o),f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(c)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(p)}),c=this.parseTextures(e.textures,o),f=this.parseMaterials(e.materials,c),p=this.parseObject(e.object,a,f,c,i),m=this.parseSkeletons(e.skeletons,p);if(this.bindSkeletons(p,m),this.bindLightTargets(p),t!==void 0){let g=!1;for(const y in o)if(o[y].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(p)}return p}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),c=this.parseMaterials(e.materials,o),f=this.parseObject(e.object,r,c,o,t),p=this.parseSkeletons(e.skeletons,f);return this.bindSkeletons(f,p),this.bindLightTargets(f),f}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const a=new Jd().fromJSON(e[i]);t[a.uuid]=a}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(a){a.isBone&&(r[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const c=new s1().fromJSON(e[a],r);i[c.uuid]=c}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new jP;for(let a=0,o=e.length;a<o;a++){let c;const f=e[a];switch(f.type){case"BufferGeometry":case"InstancedBufferGeometry":c=r.parse(f);break;default:f.type in M2?c=M2[f.type].fromJSON(f,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${f.type}"`)}c.uuid=f.uuid,f.name!==void 0&&(c.name=f.name),f.userData!==void 0&&(c.userData=f.userData),i[f.uuid]=c}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const a=new M1;a.setTextures(t);for(let o=0,c=e.length;o<c;o++){const f=e[o];i[f.uuid]===void 0&&(i[f.uuid]=a.parse(f)),r[f.uuid]=i[f.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],a=wv.parse(r);t[a.uuid]=a}return t}parseImages(e,t){const i=this,r={};let a;function o(f){return i.manager.itemStart(f),a.load(f,function(){i.manager.itemEnd(f)},void 0,function(){i.manager.itemError(f),i.manager.itemEnd(f)})}function c(f){if(typeof f=="string"){const p=f,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;return o(m)}else return f.data?{data:um(f.type,f.data),width:f.width,height:f.height}:null}if(e!==void 0&&e.length>0){const f=new mw(t);a=new Cv(f),a.setCrossOrigin(this.crossOrigin);for(let p=0,m=e.length;p<m;p++){const g=e[p],y=g.url;if(Array.isArray(y)){const b=[];for(let _=0,E=y.length;_<E;_++){const M=y[_],x=c(M);x!==null&&(x instanceof HTMLImageElement?b.push(x):b.push(new ec(x.data,x.width,x.height)))}r[g.uuid]=new hf(b)}else{const b=c(g.url);r[g.uuid]=new hf(b)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function a(o){if(typeof o=="string"){const c=o,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:t.resourcePath+c;return await r.loadAsync(f)}else return o.data?{data:um(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new Cv(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,c=e.length;o<c;o++){const f=e[o],p=f.url;if(Array.isArray(p)){const m=[];for(let g=0,y=p.length;g<y;g++){const b=p[g],_=await a(b);_!==null&&(_ instanceof HTMLImageElement?m.push(_):m.push(new ec(_.data,_.width,_.height)))}i[f.uuid]=new hf(m)}else{const m=await a(f.url);i[f.uuid]=new hf(m)}}}return i}parseTextures(e,t){function i(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const r={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const c=e[a];c.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',c.uuid),t[c.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",c.image);const f=t[c.image],p=f.data;let m;Array.isArray(p)?(m=new Zv,p.length===6&&(m.needsUpdate=!0)):(p&&p.data?m=new ec:m=new ji,p&&(m.needsUpdate=!0)),m.source=f,m.uuid=c.uuid,c.name!==void 0&&(m.name=c.name),c.mapping!==void 0&&(m.mapping=i(c.mapping,CF)),c.channel!==void 0&&(m.channel=c.channel),c.offset!==void 0&&m.offset.fromArray(c.offset),c.repeat!==void 0&&m.repeat.fromArray(c.repeat),c.center!==void 0&&m.center.fromArray(c.center),c.rotation!==void 0&&(m.rotation=c.rotation),c.wrap!==void 0&&(m.wrapS=i(c.wrap[0],w2),m.wrapT=i(c.wrap[1],w2)),c.format!==void 0&&(m.format=c.format),c.internalFormat!==void 0&&(m.internalFormat=c.internalFormat),c.type!==void 0&&(m.type=c.type),c.colorSpace!==void 0&&(m.colorSpace=c.colorSpace),c.minFilter!==void 0&&(m.minFilter=i(c.minFilter,C2)),c.magFilter!==void 0&&(m.magFilter=i(c.magFilter,C2)),c.anisotropy!==void 0&&(m.anisotropy=c.anisotropy),c.flipY!==void 0&&(m.flipY=c.flipY),c.generateMipmaps!==void 0&&(m.generateMipmaps=c.generateMipmaps),c.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=c.premultiplyAlpha),c.unpackAlignment!==void 0&&(m.unpackAlignment=c.unpackAlignment),c.compareFunction!==void 0&&(m.compareFunction=c.compareFunction),c.userData!==void 0&&(m.userData=c.userData),r[c.uuid]=m}return r}parseObject(e,t,i,r,a){let o;function c(y){return t[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",y),t[y]}function f(y){if(y!==void 0){if(Array.isArray(y)){const b=[];for(let _=0,E=y.length;_<E;_++){const M=y[_];i[M]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",M),b.push(i[M])}return b}return i[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),i[y]}}function p(y){return r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",y),r[y]}let m,g;switch(e.type){case"Scene":o=new JA,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Rt(e.background):o.background=p(e.background)),e.environment!==void 0&&(o.environment=p(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new r1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new i1(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Ji(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new pf(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new HP(e.color,e.intensity);break;case"DirectionalLight":o=new FP(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new BP(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new VP(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new zP(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new IP(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new GP().fromJSON(e);break;case"SkinnedMesh":m=c(e.geometry),g=f(e.material),o=new rP(m,g),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":m=c(e.geometry),g=f(e.material),o=new pr(m,g);break;case"InstancedMesh":m=c(e.geometry),g=f(e.material);const y=e.count,b=e.instanceMatrix,_=e.instanceColor;o=new aP(m,g,y),o.instanceMatrix=new Dm(new Float32Array(b.array),16),_!==void 0&&(o.instanceColor=new Dm(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":m=c(e.geometry),g=f(e.material),o=new sP(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),o.geometry=m,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(E=>{let M=null,x=null;return E.boundingBox!==void 0&&(M=new Sa,M.min.fromArray(E.boundingBox.min),M.max.fromArray(E.boundingBox.max)),E.boundingSphere!==void 0&&(x=new Jr,x.radius=E.boundingSphere.radius,x.center.fromArray(E.boundingSphere.center)),{...E,boundingBox:M,boundingSphere:x}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=p(e.matricesTexture.uuid),o._indirectTexture=p(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=p(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new Jr,o.boundingSphere.center.fromArray(e.boundingSphere.center),o.boundingSphere.radius=e.boundingSphere.radius),e.boundingBox!==void 0&&(o.boundingBox=new Sa,o.boundingBox.min.fromArray(e.boundingBox.min),o.boundingBox.max.fromArray(e.boundingBox.max));break;case"LOD":o=new iP;break;case"Line":o=new xf(c(e.geometry),f(e.material));break;case"LineLoop":o=new oP(c(e.geometry),f(e.material));break;case"LineSegments":o=new fc(c(e.geometry),f(e.material));break;case"PointCloud":case"Points":o=new lP(c(e.geometry),f(e.material));break;case"Sprite":o=new nP(f(e.material));break;case"Group":o=new fm;break;case"Bone":o=new tw;break;default:o=new Bn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let b=0;b<y.length;b++)o.add(this.parseObject(y[b],t,i,r,a))}if(e.animations!==void 0){const y=e.animations;for(let b=0;b<y.length;b++){const _=y[b];o.animations.push(a[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const y=e.levels;for(let b=0;b<y.length;b++){const _=y[b],E=o.getObjectByProperty("uuid",_.object);E!==void 0&&o.addLevel(E,_.distance,_.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new Bn}})}}const CF={UVMapping:W_,CubeReflectionMapping:nu,CubeRefractionMapping:vf,EquirectangularReflectionMapping:dv,EquirectangularRefractionMapping:hv,CubeUVReflectionMapping:Hm},w2={RepeatWrapping:pv,ClampToEdgeWrapping:yo,MirroredRepeatWrapping:mv},C2={NearestFilter:Zr,NearestMipmapNearestFilter:FA,NearestMipmapLinearFilter:cm,LinearFilter:Ar,LinearMipmapNearestFilter:$y,LinearMipmapLinearFilter:Zl};class RF extends Wa{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Qc.get(e);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(p=>{t&&t(p),a.manager.itemEnd(e)}).catch(p=>{r&&r(p)});return}return setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o}const c={};c.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",c.headers=this.requestHeader;const f=fetch(e,c).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(p){return Qc.add(e,p),t&&t(p),a.manager.itemEnd(e),p}).catch(function(p){r&&r(p),Qc.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});Qc.add(e,f),a.manager.itemStart(e)}}let Lx;class yw{static getContext(){return Lx===void 0&&(Lx=new(window.AudioContext||window.webkitAudioContext)),Lx}static setContext(e){Lx=e}}class OF extends Wa{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new rc(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(f){try{const p=f.slice(0);yw.getContext().decodeAudioData(p,function(g){t(g)}).catch(c)}catch(p){c(p)}},i,r);function c(f){r?r(f):console.error(f),a.manager.itemError(e)}}}const R2=new Xt,O2=new Xt,Ad=new Xt;class DF{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ji,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ji,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Ad.copy(e.projectionMatrix);const r=t.eyeSep/2,a=r*t.near/t.focus,o=t.near*Math.tan(Zd*t.fov*.5)/t.zoom;let c,f;O2.elements[12]=-r,R2.elements[12]=r,c=-o*t.aspect+a,f=o*t.aspect+a,Ad.elements[0]=2*t.near/(f-c),Ad.elements[8]=(f+c)/(f-c),this.cameraL.projectionMatrix.copy(Ad),c=-o*t.aspect-a,f=o*t.aspect-a,Ad.elements[0]=2*t.near/(f-c),Ad.elements[8]=(f+c)/(f-c),this.cameraR.projectionMatrix.copy(Ad)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(O2),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(R2)}}class WP extends Ji{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class vw{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=D2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=D2();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function D2(){return performance.now()}const wd=new re,N2=new xa,NF=new re,Cd=new re;class PF extends Bn{constructor(){super(),this.type="AudioListener",this.context=yw.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new vw}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(wd,N2,NF),Cd.set(0,0,-1).applyQuaternion(N2),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(wd.x,r),t.positionY.linearRampToValueAtTime(wd.y,r),t.positionZ.linearRampToValueAtTime(wd.z,r),t.forwardX.linearRampToValueAtTime(Cd.x,r),t.forwardY.linearRampToValueAtTime(Cd.y,r),t.forwardZ.linearRampToValueAtTime(Cd.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(wd.x,wd.y,wd.z),t.setOrientation(Cd.x,Cd.y,Cd.z,i.x,i.y,i.z)}}class XP extends Bn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Rd=new re,P2=new xa,UF=new re,Od=new re;class LF extends XP{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Rd,P2,UF),Od.set(0,0,1).applyQuaternion(P2);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Rd.x,i),t.positionY.linearRampToValueAtTime(Rd.y,i),t.positionZ.linearRampToValueAtTime(Rd.z,i),t.orientationX.linearRampToValueAtTime(Od.x,i),t.orientationY.linearRampToValueAtTime(Od.y,i),t.orientationZ.linearRampToValueAtTime(Od.z,i)}else t.setPosition(Rd.x,Rd.y,Rd.z),t.setOrientation(Od.x,Od.y,Od.z)}}class IF{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class YP{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,a,o;switch(t){case"quaternion":r=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,a=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let c=0;c!==r;++c)i[a+c]=i[c];o=t}else{o+=t;const c=t/o;this._mixBufferRegion(i,a,0,c,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const f=t*this._origIndex;this._mixBufferRegion(i,r,f,1-a,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let f=t,p=t+t;f!==p;++f)if(i[f]!==i[f+t]){c.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let a=i,o=r;a!==o;++a)t[a]=t[r+a%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,a){if(r>=.5)for(let o=0;o!==a;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){xa.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,a){const o=this._workIndex*a;xa.multiplyQuaternionsFlat(e,o,e,t,e,i),xa.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,a){const o=1-r;for(let c=0;c!==a;++c){const f=t+c;e[f]=e[f]*o+e[i+c]*r}}_lerpAdditive(e,t,i,r,a){for(let o=0;o!==a;++o){const c=t+o;e[c]=e[c]+e[i+o]*r}}}const bw="\\[\\]\\.:\\/",zF=new RegExp("["+bw+"]","g"),xw="[^"+bw+"]",BF="[^"+bw.replace("\\.","")+"]",FF=/((?:WC+[\/:])*)/.source.replace("WC",xw),HF=/(WCOD+)?/.source.replace("WCOD",BF),VF=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",xw),kF=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",xw),GF=new RegExp("^"+FF+HF+VF+kF+"$"),qF=["material","materials","bones","map"];class jF{constructor(e,t,i){const r=i||In.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class In{constructor(e,t,i){this.path=t,this.parsedPath=i||In.parseTrackName(t),this.node=In.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new In.Composite(e,t,i):new In(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(zF,"")}static parseTrackName(e){const t=GF.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);qF.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(a){for(let o=0;o<a.length;o++){const c=a[o];if(c.name===t||c.uuid===t)return c;const f=i(c.children);if(f)return f}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let a=t.propertyIndex;if(e||(e=In.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let p=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===p){p=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(p!==void 0){if(e[p]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[p]}}const o=e[r];if(o===void 0){const p=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+p+"."+r+" but it wasn't found.",e);return}let c=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?c=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let f=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}f=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(f=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(f=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[f],this.setValue=this.SetterByBindingTypeAndVersioning[f][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}In.Composite=jF;In.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};In.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};In.prototype.GetterByBindingType=[In.prototype._getValue_direct,In.prototype._getValue_array,In.prototype._getValue_arrayElement,In.prototype._getValue_toArray];In.prototype.SetterByBindingTypeAndVersioning=[[In.prototype._setValue_direct,In.prototype._setValue_direct_setNeedsUpdate,In.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[In.prototype._setValue_array,In.prototype._setValue_array_setNeedsUpdate,In.prototype._setValue_array_setMatrixWorldNeedsUpdate],[In.prototype._setValue_arrayElement,In.prototype._setValue_arrayElement_setNeedsUpdate,In.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[In.prototype._setValue_fromArray,In.prototype._setValue_fromArray_setNeedsUpdate,In.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class WF{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ls(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length;let c,f=e.length,p=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const y=arguments[m],b=y.uuid;let _=t[b];if(_===void 0){_=f++,t[b]=_,e.push(y);for(let E=0,M=o;E!==M;++E)a[E].push(new In(y,i[E],r[E]))}else if(_<p){c=e[_];const E=--p,M=e[E];t[M.uuid]=_,e[_]=M,t[b]=E,e[E]=y;for(let x=0,D=o;x!==D;++x){const A=a[x],T=A[E];let O=A[_];A[_]=T,O===void 0&&(O=new In(y,i[x],r[x])),A[E]=O}}else e[_]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_;for(let o=0,c=arguments.length;o!==c;++o){const f=arguments[o],p=f.uuid,m=t[p];if(m!==void 0&&m>=a){const g=a++,y=e[g];t[y.uuid]=m,e[m]=y,t[p]=g,e[g]=f;for(let b=0,_=r;b!==_;++b){const E=i[b],M=E[g],x=E[m];E[m]=M,E[g]=x}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let a=this.nCachedObjects_,o=e.length;for(let c=0,f=arguments.length;c!==f;++c){const p=arguments[c],m=p.uuid,g=t[m];if(g!==void 0)if(delete t[m],g<a){const y=--a,b=e[y],_=--o,E=e[_];t[b.uuid]=g,e[g]=b,t[E.uuid]=y,e[y]=E,e.pop();for(let M=0,x=r;M!==x;++M){const D=i[M],A=D[y],T=D[_];D[g]=A,D[y]=T,D.pop()}}else{const y=--o,b=e[y];y>0&&(t[b.uuid]=g),e[g]=b,e.pop();for(let _=0,E=r;_!==E;++_){const M=i[_];M[g]=M[y],M.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const a=this._bindings;if(r!==void 0)return a[r];const o=this._paths,c=this._parsedPaths,f=this._objects,p=f.length,m=this.nCachedObjects_,g=new Array(p);r=a.length,i[e]=r,o.push(e),c.push(t),a.push(g);for(let y=m,b=f.length;y!==b;++y){const _=f[y];g[y]=new In(_,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,a=this._parsedPaths,o=this._bindings,c=o.length-1,f=o[c],p=e[c];t[p]=i,o[i]=f,o.pop(),a[i]=a[c],a.pop(),r[i]=r[c],r.pop()}}}class $P{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const a=t.tracks,o=a.length,c=new Array(o),f={endingStart:qd,endingEnd:qd};for(let p=0;p!==o;++p){const m=a[p].createInterpolant(null);c[p]=m,m.settings=f}this._interpolantSettings=f,this._interpolants=c,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LN,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,a=e._clip.duration,o=a/r,c=r/a;e.warp(1,o,t),this.warp(c,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,a=r.time,o=this.timeScale;let c=this._timeScaleInterpolant;c===null&&(c=r._lendControlInterpolant(),this._timeScaleInterpolant=c);const f=c.parameterPositions,p=c.sampleValues;return f[0]=a,f[1]=a+i,p[0]=e/o,p[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const f=(e-a)*i;f<0||i===0?t=0:(this._startTime=null,t=i*f)}t*=this._updateTimeScale(e);const o=this._updateTime(t),c=this._updateWeight(e);if(c>0){const f=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case XA:for(let m=0,g=f.length;m!==g;++m)f[m].evaluate(o),p[m].accumulateAdditive(c);break;case J_:default:for(let m=0,g=f.length;m!==g;++m)f[m].evaluate(o),p[m].accumulate(r,c)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,a=this._loopCount;const o=i===IN;if(e===0)return a===-1?r:o&&(a&1)===1?t-r:r;if(i===UN){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const c=Math.floor(r/t);r-=t*c,a+=Math.abs(c);const f=this.repetitions-a;if(f<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(f===1){const p=e<0;this._setEndings(p,!p,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=r;if(o&&(a&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=jd,r.endingEnd=jd):(e?r.endingStart=this.zeroSlopeAtStart?jd:qd:r.endingStart=yv,t?r.endingEnd=this.zeroSlopeAtEnd?jd:qd:r.endingEnd=yv)}_scheduleFading(e,t,i){const r=this._mixer,a=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const c=o.parameterPositions,f=o.sampleValues;return c[0]=a,f[0]=t,c[1]=a+e,f[1]=i,this}}const XF=new Float32Array(1);class YF extends uc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,a=r.length,o=e._propertyBindings,c=e._interpolants,f=i.uuid,p=this._bindingsByRootAndName;let m=p[f];m===void 0&&(m={},p[f]=m);for(let g=0;g!==a;++g){const y=r[g],b=y.name;let _=m[b];if(_!==void 0)++_.referenceCount,o[g]=_;else{if(_=o[g],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,f,b));continue}const E=t&&t._propertyBindings[g].binding.parsedPath;_=new YP(In.create(i,b,E),y.ValueTypeName,y.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,f,b),o[g]=_}c[g].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,a=this._actionsByClip[r];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,a=this._actionsByClip;let o=a[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=o;else{const c=o.knownActions;e._byClipCacheIndex=c.length,c.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,c=o[a],f=c.knownActions,p=f[f.length-1],m=e._byClipCacheIndex;p._byClipCacheIndex=m,f[m]=p,f.pop(),e._byClipCacheIndex=null;const g=c.actionByRoot,y=(e._localRoot||this._root).uuid;delete g[y],f.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const a=t[i];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,a=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,a=i.path,o=this._bindingsByRootAndName,c=o[r],f=t[t.length-1],p=e._cacheIndex;f._cacheIndex=p,t[p]=f,t.pop(),delete c[a],Object.keys(c).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,a=t[r];e._cacheIndex=r,t[r]=e,a._cacheIndex=i,t[i]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new hw(new Float32Array(2),new Float32Array(2),1,XF),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,a=t[r];e.__cacheIndex=r,t[r]=e,a.__cacheIndex=i,t[i]=a}clipAction(e,t,i){const r=t||this._root,a=r.uuid;let o=typeof e=="string"?wv.findByName(r,e):e;const c=o!==null?o.uuid:e,f=this._actionsByClip[c];let p=null;if(i===void 0&&(o!==null?i=o.blendMode:i=J_),f!==void 0){const g=f.actionByRoot[a];if(g!==void 0&&g.blendMode===i)return g;p=f.knownActions[0],o===null&&(o=p._clip)}if(o===null)return null;const m=new $P(this,o,t,i);return this._bindAction(m,p),this._addInactiveAction(m,c,a),m}existingAction(e,t){const i=t||this._root,r=i.uuid,a=typeof e=="string"?wv.findByName(i,e):e,o=a?a.uuid:e,c=this._actionsByClip[o];return c!==void 0&&c.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let p=0;p!==i;++p)t[p]._update(r,e,a,o);const c=this._bindings,f=this._nActiveBindings;for(let p=0;p!==f;++p)c[p].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,a=r[i];if(a!==void 0){const o=a.knownActions;for(let c=0,f=o.length;c!==f;++c){const p=o[c];this._deactivateAction(p);const m=p._cacheIndex,g=t[t.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,g._cacheIndex=m,t[m]=g,t.pop(),this._removeInactiveBindingsForAction(p)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const c=i[o].actionByRoot,f=c[t];f!==void 0&&(this._deactivateAction(f),this._removeInactiveAction(f))}const r=this._bindingsByRootAndName,a=r[t];if(a!==void 0)for(const o in a){const c=a[o];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class $F extends e1{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new t1(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class QF extends e1{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTargetArray=!0,this.depth=i,this.texture=new Kv(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class E1{constructor(e){this.value=e}clone(){return new E1(this.value.clone===void 0?this.value:this.value.clone())}}let KF=0;class ZF extends uc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:KF++}),this.name="",this.usage=bv,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const a=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class JF extends a1{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class eH{constructor(e,t,i,r,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const U2=new Xt;class T1{constructor(e,t,i=0,r=1/0){this.ray=new Mh(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Rm,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return U2.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(U2),this}intersectObject(e,t=!0,i=[]){return HT(e,this,i,t),i.sort(L2),i}intersectObjects(e,t=!0,i=[]){for(let r=0,a=e.length;r<a;r++)HT(e[r],this,i,t);return i.sort(L2),i}}function L2(n,e){return n.distance-e.distance}function HT(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const a=n.children;for(let o=0,c=a.length;o<c;o++)HT(a[o],e,t,!0)}}class VT{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=an(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(an(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class tH{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class Sw{constructor(e,t,i,r){Sw.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const a=this.elements;return a[0]=e,a[2]=t,a[1]=i,a[3]=r,this}}const I2=new Je;class nH{constructor(e=new Je(1/0,1/0),t=new Je(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=I2.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,I2).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const z2=new re,Ix=new re;class iH{constructor(e=new re,t=new re){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){z2.subVectors(e,this.start),Ix.subVectors(this.end,this.start);const i=Ix.dot(Ix);let a=Ix.dot(z2)/i;return t&&(a=an(a,0,1)),a}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const B2=new re;class rH extends Bn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new sn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,c=1,f=32;o<f;o++,c++){const p=o/f*Math.PI*2,m=c/f*Math.PI*2;r.push(Math.cos(p),Math.sin(p),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new Nt(r,3));const a=new ja({fog:!1,toneMapped:!1});this.cone=new fc(i,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),B2.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(B2),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const lf=new re,zx=new Xt,OE=new Xt;class aH extends fc{constructor(e){const t=QP(e),i=new sn,r=[],a=[],o=new Rt(0,0,1),c=new Rt(0,1,0);for(let p=0;p<t.length;p++){const m=t[p];m.parent&&m.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),a.push(o.r,o.g,o.b),a.push(c.r,c.g,c.b))}i.setAttribute("position",new Nt(r,3)),i.setAttribute("color",new Nt(a,3));const f=new ja({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,f),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");OE.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<t.length;a++){const c=t[a];c.parent&&c.parent.isBone&&(zx.multiplyMatrices(OE,c.matrixWorld),lf.setFromMatrixPosition(zx),r.setXYZ(o,lf.x,lf.y,lf.z),zx.multiplyMatrices(OE,c.parent.matrixWorld),lf.setFromMatrixPosition(zx),r.setXYZ(o+1,lf.x,lf.y,lf.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function QP(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...QP(n.children[t]));return e}class sH extends pr{constructor(e,t,i){const r=new n0(t,4,2),a=new Mf({wireframe:!0,fog:!1,toneMapped:!1});super(r,a),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const oH=new re,F2=new Rt,H2=new Rt;class lH extends Bn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new t0(t);r.rotateY(Math.PI*.5),this.material=new Mf({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=r.getAttribute("position"),o=new Float32Array(a.count*3);r.setAttribute("color",new Yn(o,3)),this.add(new pr(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");F2.copy(this.light.color),H2.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const a=i<r/2?F2:H2;t.setXYZ(i,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(oH.setFromMatrixPosition(this.light.matrixWorld).negate())}}class cH extends fc{constructor(e=10,t=10,i=4473924,r=8947848){i=new Rt(i),r=new Rt(r);const a=t/2,o=e/t,c=e/2,f=[],p=[];for(let y=0,b=0,_=-c;y<=t;y++,_+=o){f.push(-c,0,_,c,0,_),f.push(_,0,-c,_,0,c);const E=y===a?i:r;E.toArray(p,b),b+=3,E.toArray(p,b),b+=3,E.toArray(p,b),b+=3,E.toArray(p,b),b+=3}const m=new sn;m.setAttribute("position",new Nt(f,3)),m.setAttribute("color",new Nt(p,3));const g=new ja({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class uH extends fc{constructor(e=10,t=16,i=8,r=64,a=4473924,o=8947848){a=new Rt(a),o=new Rt(o);const c=[],f=[];if(t>1)for(let g=0;g<t;g++){const y=g/t*(Math.PI*2),b=Math.sin(y)*e,_=Math.cos(y)*e;c.push(0,0,0),c.push(b,0,_);const E=g&1?a:o;f.push(E.r,E.g,E.b),f.push(E.r,E.g,E.b)}for(let g=0;g<i;g++){const y=g&1?a:o,b=e-e/i*g;for(let _=0;_<r;_++){let E=_/r*(Math.PI*2),M=Math.sin(E)*b,x=Math.cos(E)*b;c.push(M,0,x),f.push(y.r,y.g,y.b),E=(_+1)/r*(Math.PI*2),M=Math.sin(E)*b,x=Math.cos(E)*b,c.push(M,0,x),f.push(y.r,y.g,y.b)}}const p=new sn;p.setAttribute("position",new Nt(c,3)),p.setAttribute("color",new Nt(f,3));const m=new ja({vertexColors:!0,toneMapped:!1});super(p,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const V2=new re,Bx=new re,k2=new re;class fH extends Bn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new sn;r.setAttribute("position",new Nt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new ja({fog:!1,toneMapped:!1});this.lightPlane=new xf(r,a),this.add(this.lightPlane),r=new sn,r.setAttribute("position",new Nt([0,0,0,0,0,1],3)),this.targetLine=new xf(r,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),V2.setFromMatrixPosition(this.light.matrixWorld),Bx.setFromMatrixPosition(this.light.target.matrixWorld),k2.subVectors(Bx,V2),this.lightPlane.lookAt(Bx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Bx),this.targetLine.scale.z=k2.length()}}const Fx=new re,ki=new n1;class dH extends fc{constructor(e){const t=new sn,i=new ja({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],o={};c("n1","n2"),c("n2","n4"),c("n4","n3"),c("n3","n1"),c("f1","f2"),c("f2","f4"),c("f4","f3"),c("f3","f1"),c("n1","f1"),c("n2","f2"),c("n3","f3"),c("n4","f4"),c("p","n1"),c("p","n2"),c("p","n3"),c("p","n4"),c("u1","u2"),c("u2","u3"),c("u3","u1"),c("c","t"),c("p","c"),c("cn1","cn2"),c("cn3","cn4"),c("cf1","cf2"),c("cf3","cf4");function c(_,E){f(_),f(E)}function f(_){r.push(0,0,0),a.push(0,0,0),o[_]===void 0&&(o[_]=[]),o[_].push(r.length/3-1)}t.setAttribute("position",new Nt(r,3)),t.setAttribute("color",new Nt(a,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const p=new Rt(16755200),m=new Rt(16711680),g=new Rt(43775),y=new Rt(16777215),b=new Rt(3355443);this.setColors(p,m,g,y,b)}setColors(e,t,i,r,a){const c=this.geometry.getAttribute("color");c.setXYZ(0,e.r,e.g,e.b),c.setXYZ(1,e.r,e.g,e.b),c.setXYZ(2,e.r,e.g,e.b),c.setXYZ(3,e.r,e.g,e.b),c.setXYZ(4,e.r,e.g,e.b),c.setXYZ(5,e.r,e.g,e.b),c.setXYZ(6,e.r,e.g,e.b),c.setXYZ(7,e.r,e.g,e.b),c.setXYZ(8,e.r,e.g,e.b),c.setXYZ(9,e.r,e.g,e.b),c.setXYZ(10,e.r,e.g,e.b),c.setXYZ(11,e.r,e.g,e.b),c.setXYZ(12,e.r,e.g,e.b),c.setXYZ(13,e.r,e.g,e.b),c.setXYZ(14,e.r,e.g,e.b),c.setXYZ(15,e.r,e.g,e.b),c.setXYZ(16,e.r,e.g,e.b),c.setXYZ(17,e.r,e.g,e.b),c.setXYZ(18,e.r,e.g,e.b),c.setXYZ(19,e.r,e.g,e.b),c.setXYZ(20,e.r,e.g,e.b),c.setXYZ(21,e.r,e.g,e.b),c.setXYZ(22,e.r,e.g,e.b),c.setXYZ(23,e.r,e.g,e.b),c.setXYZ(24,t.r,t.g,t.b),c.setXYZ(25,t.r,t.g,t.b),c.setXYZ(26,t.r,t.g,t.b),c.setXYZ(27,t.r,t.g,t.b),c.setXYZ(28,t.r,t.g,t.b),c.setXYZ(29,t.r,t.g,t.b),c.setXYZ(30,t.r,t.g,t.b),c.setXYZ(31,t.r,t.g,t.b),c.setXYZ(32,i.r,i.g,i.b),c.setXYZ(33,i.r,i.g,i.b),c.setXYZ(34,i.r,i.g,i.b),c.setXYZ(35,i.r,i.g,i.b),c.setXYZ(36,i.r,i.g,i.b),c.setXYZ(37,i.r,i.g,i.b),c.setXYZ(38,r.r,r.g,r.b),c.setXYZ(39,r.r,r.g,r.b),c.setXYZ(40,a.r,a.g,a.b),c.setXYZ(41,a.r,a.g,a.b),c.setXYZ(42,a.r,a.g,a.b),c.setXYZ(43,a.r,a.g,a.b),c.setXYZ(44,a.r,a.g,a.b),c.setXYZ(45,a.r,a.g,a.b),c.setXYZ(46,a.r,a.g,a.b),c.setXYZ(47,a.r,a.g,a.b),c.setXYZ(48,a.r,a.g,a.b),c.setXYZ(49,a.r,a.g,a.b),c.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;ki.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const a=this.camera.coordinateSystem===vo?-1:0;Qi("c",t,e,ki,0,0,a),Qi("t",t,e,ki,0,0,1),Qi("n1",t,e,ki,-1,-1,a),Qi("n2",t,e,ki,i,-1,a),Qi("n3",t,e,ki,-1,r,a),Qi("n4",t,e,ki,i,r,a),Qi("f1",t,e,ki,-1,-1,1),Qi("f2",t,e,ki,i,-1,1),Qi("f3",t,e,ki,-1,r,1),Qi("f4",t,e,ki,i,r,1),Qi("u1",t,e,ki,i*.7,r*1.1,a),Qi("u2",t,e,ki,-1*.7,r*1.1,a),Qi("u3",t,e,ki,0,r*2,a),Qi("cf1",t,e,ki,-1,0,1),Qi("cf2",t,e,ki,i,0,1),Qi("cf3",t,e,ki,0,-1,1),Qi("cf4",t,e,ki,0,r,1),Qi("cn1",t,e,ki,-1,0,a),Qi("cn2",t,e,ki,i,0,a),Qi("cn3",t,e,ki,0,-1,a),Qi("cn4",t,e,ki,0,r,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Qi(n,e,t,i,r,a,o){Fx.set(r,a,o).unproject(i);const c=e[n];if(c!==void 0){const f=t.getAttribute("position");for(let p=0,m=c.length;p<m;p++)f.setXYZ(c[p],Fx.x,Fx.y,Fx.z)}}const Hx=new Sa;class hH extends fc{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),a=new sn;a.setIndex(new Yn(i,1)),a.setAttribute("position",new Yn(r,3)),super(a,new ja({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Hx.setFromObject(this.object),Hx.isEmpty())return;const e=Hx.min,t=Hx.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class pH extends fc{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new sn;a.setIndex(new Yn(i,1)),a.setAttribute("position",new Nt(r,3)),super(a,new ja({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class mH extends xf{constructor(e,t=1,i=16776960){const r=i,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new sn;o.setAttribute("position",new Nt(a,3)),o.computeBoundingSphere(),super(o,new ja({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const c=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],f=new sn;f.setAttribute("position",new Nt(c,3)),f.computeBoundingSphere(),this.add(new pr(f,new Mf({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const G2=new re;let Vx,DE;class gH extends Bn{constructor(e=new re(0,0,1),t=new re(0,0,0),i=1,r=16776960,a=i*.2,o=a*.2){super(),this.type="ArrowHelper",Vx===void 0&&(Vx=new sn,Vx.setAttribute("position",new Nt([0,0,0,0,1,0],3)),DE=new e0(.5,1,5,1),DE.translate(0,-.5,0)),this.position.copy(t),this.line=new xf(Vx,new ja({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new pr(DE,new Mf({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{G2.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(G2,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class yH extends fc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new sn;r.setAttribute("position",new Nt(t,3)),r.setAttribute("color",new Nt(i,3));const a=new ja({vertexColors:!0,toneMapped:!1});super(r,a),this.type="AxesHelper"}setColors(e,t,i){const r=new Rt,a=this.geometry.attributes.color.array;return r.set(e),r.toArray(a,0),r.toArray(a,3),r.set(t),r.toArray(a,6),r.toArray(a,9),r.set(i),r.toArray(a,12),r.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class vH{constructor(){this.type="ShapePath",this.color=new Rt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new m_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,a,o){return this.currentPath.bezierCurveTo(e,t,i,r,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const D=[];for(let A=0,T=x.length;A<T;A++){const O=x[A],N=new Jd;N.curves=O.curves,D.push(N)}return D}function i(x,D){const A=D.length;let T=!1;for(let O=A-1,N=0;N<A;O=N++){let z=D[O],F=D[N],P=F.x-z.x,w=F.y-z.y;if(Math.abs(w)>Number.EPSILON){if(w<0&&(z=D[N],P=-P,F=D[O],w=-w),x.y<z.y||x.y>F.y)continue;if(x.y===z.y){if(x.x===z.x)return!0}else{const L=w*(x.x-z.x)-P*(x.y-z.y);if(L===0)return!0;if(L<0)continue;T=!T}}else{if(x.y!==z.y)continue;if(F.x<=x.x&&x.x<=z.x||z.x<=x.x&&x.x<=F.x)return!0}}return T}const r=al.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,c,f;const p=[];if(a.length===1)return c=a[0],f=new Jd,f.curves=c.curves,p.push(f),p;let m=!r(a[0].getPoints());m=e?!m:m;const g=[],y=[];let b=[],_=0,E;y[_]=void 0,b[_]=[];for(let x=0,D=a.length;x<D;x++)c=a[x],E=c.getPoints(),o=r(E),o=e?!o:o,o?(!m&&y[_]&&_++,y[_]={s:new Jd,p:E},y[_].s.curves=c.curves,m&&_++,b[_]=[]):b[_].push({h:c,p:E[0]});if(!y[0])return t(a);if(y.length>1){let x=!1,D=0;for(let A=0,T=y.length;A<T;A++)g[A]=[];for(let A=0,T=y.length;A<T;A++){const O=b[A];for(let N=0;N<O.length;N++){const z=O[N];let F=!0;for(let P=0;P<y.length;P++)i(z.p,y[P].p)&&(A!==P&&D++,F?(F=!1,g[P].push(z)):x=!0);F&&g[A].push(z)}}D>0&&x===!1&&(b=g)}let M;for(let x=0,D=y.length;x<D;x++){f=y[x].s,p.push(f),M=b[x];for(let A=0,T=M.length;A<T;A++)f.holes.push(M[A].h)}return p}}class KP extends uc{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function bH(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function xH(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function SH(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function kT(n,e,t,i){const r=_H(i);switch(t){case GA:return n*e;case Q_:return n*e/r.components*r.byteLength;case Qv:return n*e/r.components*r.byteLength;case jA:return n*e*2/r.components*r.byteLength;case K_:return n*e*2/r.components*r.byteLength;case qA:return n*e*3/r.components*r.byteLength;case va:return n*e*4/r.components*r.byteLength;case Z_:return n*e*4/r.components*r.byteLength;case Qy:case Ky:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Zy:case Jy:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case HS:case kS:return Math.max(n,16)*Math.max(e,8)/4;case FS:case VS:return Math.max(n,8)*Math.max(e,8)/2;case GS:case qS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case jS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case WS:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case XS:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case YS:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case $S:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case QS:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case KS:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case ZS:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case JS:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case e_:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case t_:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case n_:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case i_:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case r_:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case a_:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case ev:case s_:case o_:return Math.ceil(n/4)*Math.ceil(e/4)*16;case WA:case l_:return Math.ceil(n/4)*Math.ceil(e/4)*8;case c_:case u_:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function _H(n){switch(n){case xo:case HA:return{byteLength:1,components:1};case Em:case VA:case Vm:return{byteLength:2,components:1};case Y_:case $_:return{byteLength:2,components:4};case iu:case X_:case ds:return{byteLength:4,components:1};case kA:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class MH{static contain(e,t){return bH(e,t)}static cover(e,t){return xH(e,t)}static fill(e){return SH(e)}static getByteLength(e,t,i,r){return kT(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Yv}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Yv);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function ZP(){let n=null,e=!1,t=null,i=null;function r(a,o){t(a,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function EH(n){const e=new WeakMap;function t(c,f){const p=c.array,m=c.usage,g=p.byteLength,y=n.createBuffer();n.bindBuffer(f,y),n.bufferData(f,p,m),c.onUploadCallback();let b;if(p instanceof Float32Array)b=n.FLOAT;else if(p instanceof Uint16Array)c.isFloat16BufferAttribute?b=n.HALF_FLOAT:b=n.UNSIGNED_SHORT;else if(p instanceof Int16Array)b=n.SHORT;else if(p instanceof Uint32Array)b=n.UNSIGNED_INT;else if(p instanceof Int32Array)b=n.INT;else if(p instanceof Int8Array)b=n.BYTE;else if(p instanceof Uint8Array)b=n.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)b=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:y,type:b,bytesPerElement:p.BYTES_PER_ELEMENT,version:c.version,size:g}}function i(c,f,p){const m=f.array,g=f.updateRanges;if(n.bindBuffer(p,c),g.length===0)n.bufferSubData(p,0,m);else{g.sort((b,_)=>b.start-_.start);let y=0;for(let b=1;b<g.length;b++){const _=g[y],E=g[b];E.start<=_.start+_.count+1?_.count=Math.max(_.count,E.start+E.count-_.start):(++y,g[y]=E)}g.length=y+1;for(let b=0,_=g.length;b<_;b++){const E=g[b];n.bufferSubData(p,E.start*m.BYTES_PER_ELEMENT,m,E.start,E.count)}f.clearUpdateRanges()}f.onUploadCallback()}function r(c){return c.isInterleavedBufferAttribute&&(c=c.data),e.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const f=e.get(c);f&&(n.deleteBuffer(f.buffer),e.delete(c))}function o(c,f){if(c.isInterleavedBufferAttribute&&(c=c.data),c.isGLBufferAttribute){const m=e.get(c);(!m||m.version<c.version)&&e.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}const p=e.get(c);if(p===void 0)e.set(c,t(c,f));else if(p.version<c.version){if(p.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(p.buffer,c,f),p.version=c.version}}return{get:r,remove:a,update:o}}var TH=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,AH=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,wH=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,CH=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,RH=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,OH=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,DH=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,NH=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,PH=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,UH=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,LH=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,IH=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,zH=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,BH=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,FH=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,HH=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,VH=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,kH=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,GH=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,qH=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,jH=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,WH=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,XH=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,YH=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,$H=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,QH=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,KH=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,ZH=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,JH=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,e6=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,t6="gl_FragColor = linearToOutputTexel( gl_FragColor );",n6=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,i6=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,r6=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,a6=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,s6=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,o6=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,l6=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,c6=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,u6=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,f6=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,d6=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,h6=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,p6=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,m6=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,g6=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,y6=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,v6=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,b6=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,x6=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,S6=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,_6=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,M6=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,E6=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,T6=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,A6=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,w6=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,C6=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,R6=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,O6=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,D6=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,N6=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,P6=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,U6=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,L6=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,I6=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,z6=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,B6=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,F6=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,H6=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,V6=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,k6=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,G6=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,q6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,j6=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,W6=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,X6=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Y6=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,$6=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Q6=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,K6=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Z6=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,J6=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,eV=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,tV=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,nV=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,iV=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,rV=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,aV=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,sV=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,oV=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,lV=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,cV=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,uV=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,fV=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,dV=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,hV=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,pV=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,mV=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,gV=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,yV=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,vV=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,bV=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,xV=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,SV=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,_V=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,MV=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const EV=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,TV=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,AV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,wV=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,CV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,RV=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,OV=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,DV=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,NV=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,PV=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,UV=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,LV=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,IV=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,zV=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,BV=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,FV=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,HV=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,VV=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kV=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,GV=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qV=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,jV=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,WV=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,XV=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,YV=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,$V=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,QV=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,KV=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ZV=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,JV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ek=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tk=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,nk=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ik=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,dn={alphahash_fragment:TH,alphahash_pars_fragment:AH,alphamap_fragment:wH,alphamap_pars_fragment:CH,alphatest_fragment:RH,alphatest_pars_fragment:OH,aomap_fragment:DH,aomap_pars_fragment:NH,batching_pars_vertex:PH,batching_vertex:UH,begin_vertex:LH,beginnormal_vertex:IH,bsdfs:zH,iridescence_fragment:BH,bumpmap_pars_fragment:FH,clipping_planes_fragment:HH,clipping_planes_pars_fragment:VH,clipping_planes_pars_vertex:kH,clipping_planes_vertex:GH,color_fragment:qH,color_pars_fragment:jH,color_pars_vertex:WH,color_vertex:XH,common:YH,cube_uv_reflection_fragment:$H,defaultnormal_vertex:QH,displacementmap_pars_vertex:KH,displacementmap_vertex:ZH,emissivemap_fragment:JH,emissivemap_pars_fragment:e6,colorspace_fragment:t6,colorspace_pars_fragment:n6,envmap_fragment:i6,envmap_common_pars_fragment:r6,envmap_pars_fragment:a6,envmap_pars_vertex:s6,envmap_physical_pars_fragment:y6,envmap_vertex:o6,fog_vertex:l6,fog_pars_vertex:c6,fog_fragment:u6,fog_pars_fragment:f6,gradientmap_pars_fragment:d6,lightmap_pars_fragment:h6,lights_lambert_fragment:p6,lights_lambert_pars_fragment:m6,lights_pars_begin:g6,lights_toon_fragment:v6,lights_toon_pars_fragment:b6,lights_phong_fragment:x6,lights_phong_pars_fragment:S6,lights_physical_fragment:_6,lights_physical_pars_fragment:M6,lights_fragment_begin:E6,lights_fragment_maps:T6,lights_fragment_end:A6,logdepthbuf_fragment:w6,logdepthbuf_pars_fragment:C6,logdepthbuf_pars_vertex:R6,logdepthbuf_vertex:O6,map_fragment:D6,map_pars_fragment:N6,map_particle_fragment:P6,map_particle_pars_fragment:U6,metalnessmap_fragment:L6,metalnessmap_pars_fragment:I6,morphinstance_vertex:z6,morphcolor_vertex:B6,morphnormal_vertex:F6,morphtarget_pars_vertex:H6,morphtarget_vertex:V6,normal_fragment_begin:k6,normal_fragment_maps:G6,normal_pars_fragment:q6,normal_pars_vertex:j6,normal_vertex:W6,normalmap_pars_fragment:X6,clearcoat_normal_fragment_begin:Y6,clearcoat_normal_fragment_maps:$6,clearcoat_pars_fragment:Q6,iridescence_pars_fragment:K6,opaque_fragment:Z6,packing:J6,premultiplied_alpha_fragment:eV,project_vertex:tV,dithering_fragment:nV,dithering_pars_fragment:iV,roughnessmap_fragment:rV,roughnessmap_pars_fragment:aV,shadowmap_pars_fragment:sV,shadowmap_pars_vertex:oV,shadowmap_vertex:lV,shadowmask_pars_fragment:cV,skinbase_vertex:uV,skinning_pars_vertex:fV,skinning_vertex:dV,skinnormal_vertex:hV,specularmap_fragment:pV,specularmap_pars_fragment:mV,tonemapping_fragment:gV,tonemapping_pars_fragment:yV,transmission_fragment:vV,transmission_pars_fragment:bV,uv_pars_fragment:xV,uv_pars_vertex:SV,uv_vertex:_V,worldpos_vertex:MV,background_vert:EV,background_frag:TV,backgroundCube_vert:AV,backgroundCube_frag:wV,cube_vert:CV,cube_frag:RV,depth_vert:OV,depth_frag:DV,distanceRGBA_vert:NV,distanceRGBA_frag:PV,equirect_vert:UV,equirect_frag:LV,linedashed_vert:IV,linedashed_frag:zV,meshbasic_vert:BV,meshbasic_frag:FV,meshlambert_vert:HV,meshlambert_frag:VV,meshmatcap_vert:kV,meshmatcap_frag:GV,meshnormal_vert:qV,meshnormal_frag:jV,meshphong_vert:WV,meshphong_frag:XV,meshphysical_vert:YV,meshphysical_frag:$V,meshtoon_vert:QV,meshtoon_frag:KV,points_vert:ZV,points_frag:JV,shadow_vert:ek,shadow_frag:tk,sprite_vert:nk,sprite_frag:ik},wt={common:{diffuse:{value:new Rt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ln},alphaMap:{value:null},alphaMapTransform:{value:new ln},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ln}},envmap:{envMap:{value:null},envMapRotation:{value:new ln},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ln}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ln}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ln},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ln},normalScale:{value:new Je(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ln},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ln}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ln}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ln}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Rt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Rt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ln},alphaTest:{value:0},uvTransform:{value:new ln}},sprite:{diffuse:{value:new Rt(16777215)},opacity:{value:1},center:{value:new Je(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ln},alphaMap:{value:null},alphaMapTransform:{value:new ln},alphaTest:{value:0}}},nl={basic:{uniforms:ka([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.fog]),vertexShader:dn.meshbasic_vert,fragmentShader:dn.meshbasic_frag},lambert:{uniforms:ka([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,wt.lights,{emissive:{value:new Rt(0)}}]),vertexShader:dn.meshlambert_vert,fragmentShader:dn.meshlambert_frag},phong:{uniforms:ka([wt.common,wt.specularmap,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,wt.lights,{emissive:{value:new Rt(0)},specular:{value:new Rt(1118481)},shininess:{value:30}}]),vertexShader:dn.meshphong_vert,fragmentShader:dn.meshphong_frag},standard:{uniforms:ka([wt.common,wt.envmap,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.roughnessmap,wt.metalnessmap,wt.fog,wt.lights,{emissive:{value:new Rt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:dn.meshphysical_vert,fragmentShader:dn.meshphysical_frag},toon:{uniforms:ka([wt.common,wt.aomap,wt.lightmap,wt.emissivemap,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.gradientmap,wt.fog,wt.lights,{emissive:{value:new Rt(0)}}]),vertexShader:dn.meshtoon_vert,fragmentShader:dn.meshtoon_frag},matcap:{uniforms:ka([wt.common,wt.bumpmap,wt.normalmap,wt.displacementmap,wt.fog,{matcap:{value:null}}]),vertexShader:dn.meshmatcap_vert,fragmentShader:dn.meshmatcap_frag},points:{uniforms:ka([wt.points,wt.fog]),vertexShader:dn.points_vert,fragmentShader:dn.points_frag},dashed:{uniforms:ka([wt.common,wt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:dn.linedashed_vert,fragmentShader:dn.linedashed_frag},depth:{uniforms:ka([wt.common,wt.displacementmap]),vertexShader:dn.depth_vert,fragmentShader:dn.depth_frag},normal:{uniforms:ka([wt.common,wt.bumpmap,wt.normalmap,wt.displacementmap,{opacity:{value:1}}]),vertexShader:dn.meshnormal_vert,fragmentShader:dn.meshnormal_frag},sprite:{uniforms:ka([wt.sprite,wt.fog]),vertexShader:dn.sprite_vert,fragmentShader:dn.sprite_frag},background:{uniforms:{uvTransform:{value:new ln},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:dn.background_vert,fragmentShader:dn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ln}},vertexShader:dn.backgroundCube_vert,fragmentShader:dn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:dn.cube_vert,fragmentShader:dn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:dn.equirect_vert,fragmentShader:dn.equirect_frag},distanceRGBA:{uniforms:ka([wt.common,wt.displacementmap,{referencePosition:{value:new re},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:dn.distanceRGBA_vert,fragmentShader:dn.distanceRGBA_frag},shadow:{uniforms:ka([wt.lights,wt.fog,{color:{value:new Rt(0)},opacity:{value:1}}]),vertexShader:dn.shadow_vert,fragmentShader:dn.shadow_frag}};nl.physical={uniforms:ka([nl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ln},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ln},clearcoatNormalScale:{value:new Je(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ln},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ln},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ln},sheen:{value:0},sheenColor:{value:new Rt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ln},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ln},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ln},transmissionSamplerSize:{value:new Je},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ln},attenuationDistance:{value:0},attenuationColor:{value:new Rt(0)},specularColor:{value:new Rt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ln},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ln},anisotropyVector:{value:new Je},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ln}}]),vertexShader:dn.meshphysical_vert,fragmentShader:dn.meshphysical_frag};const kx={r:0,b:0,g:0},Dd=new zs,rk=new Xt;function ak(n,e,t,i,r,a,o){const c=new Rt(0);let f=a===!0?0:1,p,m,g=null,y=0,b=null;function _(A){let T=A.isScene===!0?A.background:null;return T&&T.isTexture&&(T=(A.backgroundBlurriness>0?t:e).get(T)),T}function E(A){let T=!1;const O=_(A);O===null?x(c,f):O&&O.isColor&&(x(O,1),T=!0);const N=n.xr.getEnvironmentBlendMode();N==="additive"?i.buffers.color.setClear(0,0,0,1,o):N==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||T)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function M(A,T){const O=_(T);O&&(O.isCubeTexture||O.mapping===Hm)?(m===void 0&&(m=new pr(new Eh(1,1,1),new So({name:"BackgroundCubeMaterial",uniforms:Om(nl.backgroundCube.uniforms),vertexShader:nl.backgroundCube.vertexShader,fragmentShader:nl.backgroundCube.fragmentShader,side:ba,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(N,z,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(m)),Dd.copy(T.backgroundRotation),Dd.x*=-1,Dd.y*=-1,Dd.z*=-1,O.isCubeTexture&&O.isRenderTargetTexture===!1&&(Dd.y*=-1,Dd.z*=-1),m.material.uniforms.envMap.value=O,m.material.uniforms.flipEnvMap.value=O.isCubeTexture&&O.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=T.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=T.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(rk.makeRotationFromEuler(Dd)),m.material.toneMapped=Pn.getTransfer(O.colorSpace)!==ai,(g!==O||y!==O.version||b!==n.toneMapping)&&(m.material.needsUpdate=!0,g=O,y=O.version,b=n.toneMapping),m.layers.enableAll(),A.unshift(m,m.geometry,m.material,0,0,null)):O&&O.isTexture&&(p===void 0&&(p=new pr(new Gm(2,2),new So({name:"BackgroundMaterial",uniforms:Om(nl.background.uniforms),vertexShader:nl.background.vertexShader,fragmentShader:nl.background.fragmentShader,side:tu,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(p)),p.material.uniforms.t2D.value=O,p.material.uniforms.backgroundIntensity.value=T.backgroundIntensity,p.material.toneMapped=Pn.getTransfer(O.colorSpace)!==ai,O.matrixAutoUpdate===!0&&O.updateMatrix(),p.material.uniforms.uvTransform.value.copy(O.matrix),(g!==O||y!==O.version||b!==n.toneMapping)&&(p.material.needsUpdate=!0,g=O,y=O.version,b=n.toneMapping),p.layers.enableAll(),A.unshift(p,p.geometry,p.material,0,0,null))}function x(A,T){A.getRGB(kx,ZN(n)),i.buffers.color.setClear(kx.r,kx.g,kx.b,T,o)}function D(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return c},setClearColor:function(A,T=1){c.set(A),f=T,x(c,f)},getClearAlpha:function(){return f},setClearAlpha:function(A){f=A,x(c,f)},render:E,addToRenderList:M,dispose:D}}function sk(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=y(null);let a=r,o=!1;function c(w,L,H,V,G){let $=!1;const B=g(V,H,L);a!==B&&(a=B,p(a.object)),$=b(w,V,H,G),$&&_(w,V,H,G),G!==null&&e.update(G,n.ELEMENT_ARRAY_BUFFER),($||o)&&(o=!1,T(w,L,H,V),G!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(G).buffer))}function f(){return n.createVertexArray()}function p(w){return n.bindVertexArray(w)}function m(w){return n.deleteVertexArray(w)}function g(w,L,H){const V=H.wireframe===!0;let G=i[w.id];G===void 0&&(G={},i[w.id]=G);let $=G[L.id];$===void 0&&($={},G[L.id]=$);let B=$[V];return B===void 0&&(B=y(f()),$[V]=B),B}function y(w){const L=[],H=[],V=[];for(let G=0;G<t;G++)L[G]=0,H[G]=0,V[G]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:L,enabledAttributes:H,attributeDivisors:V,object:w,attributes:{},index:null}}function b(w,L,H,V){const G=a.attributes,$=L.attributes;let B=0;const j=H.getAttributes();for(const q in j)if(j[q].location>=0){const W=G[q];let ie=$[q];if(ie===void 0&&(q==="instanceMatrix"&&w.instanceMatrix&&(ie=w.instanceMatrix),q==="instanceColor"&&w.instanceColor&&(ie=w.instanceColor)),W===void 0||W.attribute!==ie||ie&&W.data!==ie.data)return!0;B++}return a.attributesNum!==B||a.index!==V}function _(w,L,H,V){const G={},$=L.attributes;let B=0;const j=H.getAttributes();for(const q in j)if(j[q].location>=0){let W=$[q];W===void 0&&(q==="instanceMatrix"&&w.instanceMatrix&&(W=w.instanceMatrix),q==="instanceColor"&&w.instanceColor&&(W=w.instanceColor));const ie={};ie.attribute=W,W&&W.data&&(ie.data=W.data),G[q]=ie,B++}a.attributes=G,a.attributesNum=B,a.index=V}function E(){const w=a.newAttributes;for(let L=0,H=w.length;L<H;L++)w[L]=0}function M(w){x(w,0)}function x(w,L){const H=a.newAttributes,V=a.enabledAttributes,G=a.attributeDivisors;H[w]=1,V[w]===0&&(n.enableVertexAttribArray(w),V[w]=1),G[w]!==L&&(n.vertexAttribDivisor(w,L),G[w]=L)}function D(){const w=a.newAttributes,L=a.enabledAttributes;for(let H=0,V=L.length;H<V;H++)L[H]!==w[H]&&(n.disableVertexAttribArray(H),L[H]=0)}function A(w,L,H,V,G,$,B){B===!0?n.vertexAttribIPointer(w,L,H,G,$):n.vertexAttribPointer(w,L,H,V,G,$)}function T(w,L,H,V){E();const G=V.attributes,$=H.getAttributes(),B=L.defaultAttributeValues;for(const j in $){const q=$[j];if(q.location>=0){let Q=G[j];if(Q===void 0&&(j==="instanceMatrix"&&w.instanceMatrix&&(Q=w.instanceMatrix),j==="instanceColor"&&w.instanceColor&&(Q=w.instanceColor)),Q!==void 0){const W=Q.normalized,ie=Q.itemSize,le=e.get(Q);if(le===void 0)continue;const he=le.buffer,ae=le.type,se=le.bytesPerElement,me=ae===n.INT||ae===n.UNSIGNED_INT||Q.gpuType===X_;if(Q.isInterleavedBufferAttribute){const xe=Q.data,ke=xe.stride,Qe=Q.offset;if(xe.isInstancedInterleavedBuffer){for(let Ee=0;Ee<q.locationSize;Ee++)x(q.location+Ee,xe.meshPerAttribute);w.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let Ee=0;Ee<q.locationSize;Ee++)M(q.location+Ee);n.bindBuffer(n.ARRAY_BUFFER,he);for(let Ee=0;Ee<q.locationSize;Ee++)A(q.location+Ee,ie/q.locationSize,ae,W,ke*se,(Qe+ie/q.locationSize*Ee)*se,me)}else{if(Q.isInstancedBufferAttribute){for(let xe=0;xe<q.locationSize;xe++)x(q.location+xe,Q.meshPerAttribute);w.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=Q.meshPerAttribute*Q.count)}else for(let xe=0;xe<q.locationSize;xe++)M(q.location+xe);n.bindBuffer(n.ARRAY_BUFFER,he);for(let xe=0;xe<q.locationSize;xe++)A(q.location+xe,ie/q.locationSize,ae,W,ie*se,ie/q.locationSize*xe*se,me)}}else if(B!==void 0){const W=B[j];if(W!==void 0)switch(W.length){case 2:n.vertexAttrib2fv(q.location,W);break;case 3:n.vertexAttrib3fv(q.location,W);break;case 4:n.vertexAttrib4fv(q.location,W);break;default:n.vertexAttrib1fv(q.location,W)}}}}D()}function O(){F();for(const w in i){const L=i[w];for(const H in L){const V=L[H];for(const G in V)m(V[G].object),delete V[G];delete L[H]}delete i[w]}}function N(w){if(i[w.id]===void 0)return;const L=i[w.id];for(const H in L){const V=L[H];for(const G in V)m(V[G].object),delete V[G];delete L[H]}delete i[w.id]}function z(w){for(const L in i){const H=i[L];if(H[w.id]===void 0)continue;const V=H[w.id];for(const G in V)m(V[G].object),delete V[G];delete H[w.id]}}function F(){P(),o=!0,a!==r&&(a=r,p(a.object))}function P(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:c,reset:F,resetDefaultState:P,dispose:O,releaseStatesOfGeometry:N,releaseStatesOfProgram:z,initAttributes:E,enableAttribute:M,disableUnusedAttributes:D}}function ok(n,e,t){let i;function r(p){i=p}function a(p,m){n.drawArrays(i,p,m),t.update(m,i,1)}function o(p,m,g){g!==0&&(n.drawArraysInstanced(i,p,m,g),t.update(m,i,g))}function c(p,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,p,0,m,0,g);let b=0;for(let _=0;_<g;_++)b+=m[_];t.update(b,i,1)}function f(p,m,g,y){if(g===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let _=0;_<p.length;_++)o(p[_],m[_],y[_]);else{b.multiDrawArraysInstancedWEBGL(i,p,0,m,0,y,0,g);let _=0;for(let E=0;E<g;E++)_+=m[E]*y[E];t.update(_,i,1)}}this.setMode=r,this.render=a,this.renderInstances=o,this.renderMultiDraw=c,this.renderMultiDrawInstances=f}function lk(n,e,t,i){let r;function a(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const z=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(z.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(z){return!(z!==va&&i.convert(z)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function c(z){const F=z===Vm&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(z!==xo&&i.convert(z)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&z!==ds&&!F)}function f(z){if(z==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";z="mediump"}return z==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=t.precision!==void 0?t.precision:"highp";const m=f(p);m!==p&&(console.warn("THREE.WebGLRenderer:",p,"not supported, using",m,"instead."),p=m);const g=t.logarithmicDepthBuffer===!0,y=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),b=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),_=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),E=n.getParameter(n.MAX_TEXTURE_SIZE),M=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),x=n.getParameter(n.MAX_VERTEX_ATTRIBS),D=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),A=n.getParameter(n.MAX_VARYING_VECTORS),T=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),O=_>0,N=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:f,textureFormatReadable:o,textureTypeReadable:c,precision:p,logarithmicDepthBuffer:g,reverseDepthBuffer:y,maxTextures:b,maxVertexTextures:_,maxTextureSize:E,maxCubemapSize:M,maxAttributes:x,maxVertexUniforms:D,maxVaryings:A,maxFragmentUniforms:T,vertexTextures:O,maxSamples:N}}function ck(n){const e=this;let t=null,i=0,r=!1,a=!1;const o=new mo,c=new ln,f={value:null,needsUpdate:!1};this.uniform=f,this.numPlanes=0,this.numIntersection=0,this.init=function(g,y){const b=g.length!==0||y||i!==0||r;return r=y,i=g.length,b},this.beginShadows=function(){a=!0,m(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(g,y){t=m(g,y,0)},this.setState=function(g,y,b){const _=g.clippingPlanes,E=g.clipIntersection,M=g.clipShadows,x=n.get(g);if(!r||_===null||_.length===0||a&&!M)a?m(null):p();else{const D=a?0:i,A=D*4;let T=x.clippingState||null;f.value=T,T=m(_,y,A,b);for(let O=0;O!==A;++O)T[O]=t[O];x.clippingState=T,this.numIntersection=E?this.numPlanes:0,this.numPlanes+=D}};function p(){f.value!==t&&(f.value=t,f.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function m(g,y,b,_){const E=g!==null?g.length:0;let M=null;if(E!==0){if(M=f.value,_!==!0||M===null){const x=b+E*4,D=y.matrixWorldInverse;c.getNormalMatrix(D),(M===null||M.length<x)&&(M=new Float32Array(x));for(let A=0,T=b;A!==E;++A,T+=4)o.copy(g[A]).applyMatrix4(D,c),o.normal.toArray(M,T),M[T+3]=o.constant}f.value=M,f.needsUpdate=!0}return e.numPlanes=E,e.numIntersection=0,M}}function uk(n){let e=new WeakMap;function t(o,c){return c===dv?o.mapping=nu:c===hv&&(o.mapping=vf),o}function i(o){if(o&&o.isTexture){const c=o.mapping;if(c===dv||c===hv)if(e.has(o)){const f=e.get(o).texture;return t(f,o.mapping)}else{const f=o.image;if(f&&f.height>0){const p=new eP(f.height);return p.fromEquirectangularTexture(n,o),e.set(o,p),o.addEventListener("dispose",r),t(p.texture,o.mapping)}else return null}}return o}function r(o){const c=o.target;c.removeEventListener("dispose",r);const f=e.get(c);f!==void 0&&(e.delete(c),f.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}const dm=4,q2=[.125,.215,.35,.446,.526,.582],Gd=20,NE=new pf,j2=new Rt;let PE=null,UE=0,LE=0,IE=!1;const zd=(1+Math.sqrt(5))/2,Yp=1/zd,W2=[new re(-zd,Yp,0),new re(zd,Yp,0),new re(-Yp,0,zd),new re(Yp,0,zd),new re(0,zd,-Yp),new re(0,zd,Yp),new re(-1,1,-1),new re(1,1,-1),new re(-1,1,1),new re(1,1,1)],fk=new re;class GT{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,a={}){const{size:o=256,position:c=fk}=a;PE=this._renderer.getRenderTarget(),UE=this._renderer.getActiveCubeFace(),LE=this._renderer.getActiveMipmapLevel(),IE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const f=this._allocateTargets();return f.depthBuffer=!0,this._sceneToCubeUV(e,i,r,f,c),t>0&&this._blur(f,0,0,t),this._applyPMREM(f),this._cleanup(f),f}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=$2(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Y2(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(PE,UE,LE),this._renderer.xr.enabled=IE,e.scissorTest=!1,Gx(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===nu||e.mapping===vf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),PE=this._renderer.getRenderTarget(),UE=this._renderer.getActiveCubeFace(),LE=this._renderer.getActiveMipmapLevel(),IE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Ar,minFilter:Ar,generateMipmaps:!1,type:Vm,format:va,colorSpace:bf,depthBuffer:!1},r=X2(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=X2(e,t,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=dk(a)),this._blurMaterial=hk(a,e,t)}return r}_compileMaterial(e){const t=new pr(this._lodPlanes[0],e);this._renderer.compile(t,NE)}_sceneToCubeUV(e,t,i,r,a){const f=new Ji(90,1,t,i),p=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],g=this._renderer,y=g.autoClear,b=g.toneMapping;g.getClearColor(j2),g.toneMapping=Jl,g.autoClear=!1;const _=new Mf({name:"PMREM.Background",side:ba,depthWrite:!1,depthTest:!1}),E=new pr(new Eh,_);let M=!1;const x=e.background;x?x.isColor&&(_.color.copy(x),e.background=null,M=!0):(_.color.copy(j2),M=!0);for(let D=0;D<6;D++){const A=D%3;A===0?(f.up.set(0,p[D],0),f.position.set(a.x,a.y,a.z),f.lookAt(a.x+m[D],a.y,a.z)):A===1?(f.up.set(0,0,p[D]),f.position.set(a.x,a.y,a.z),f.lookAt(a.x,a.y+m[D],a.z)):(f.up.set(0,p[D],0),f.position.set(a.x,a.y,a.z),f.lookAt(a.x,a.y,a.z+m[D]));const T=this._cubeSize;Gx(r,A*T,D>2?T:0,T,T),g.setRenderTarget(r),M&&g.render(E,f),g.render(e,f)}E.geometry.dispose(),E.material.dispose(),g.toneMapping=b,g.autoClear=y,e.background=x}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===nu||e.mapping===vf;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=$2()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Y2());const a=r?this._cubemapMaterial:this._equirectMaterial,o=new pr(this._lodPlanes[0],a),c=a.uniforms;c.envMap.value=e;const f=this._cubeSize;Gx(t,0,0,3*f,2*f),i.setRenderTarget(t),i.render(o,NE)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let a=1;a<r;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),c=W2[(r-a-1)%W2.length];this._blur(e,a-1,a,o,c)}t.autoClear=i}_blur(e,t,i,r,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",a),this._halfBlur(o,e,i,i,r,"longitudinal",a)}_halfBlur(e,t,i,r,a,o,c){const f=this._renderer,p=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,g=new pr(this._lodPlanes[r],p),y=p.uniforms,b=this._sizeLods[i]-1,_=isFinite(a)?Math.PI/(2*b):2*Math.PI/(2*Gd-1),E=a/_,M=isFinite(a)?1+Math.floor(m*E):Gd;M>Gd&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${M} samples when the maximum is set to ${Gd}`);const x=[];let D=0;for(let z=0;z<Gd;++z){const F=z/E,P=Math.exp(-F*F/2);x.push(P),z===0?D+=P:z<M&&(D+=2*P)}for(let z=0;z<x.length;z++)x[z]=x[z]/D;y.envMap.value=e.texture,y.samples.value=M,y.weights.value=x,y.latitudinal.value=o==="latitudinal",c&&(y.poleAxis.value=c);const{_lodMax:A}=this;y.dTheta.value=_,y.mipInt.value=A-i;const T=this._sizeLods[r],O=3*T*(r>A-dm?r-A+dm:0),N=4*(this._cubeSize-T);Gx(t,O,N,3*T,2*T),f.setRenderTarget(t),f.render(g,NE)}}function dk(n){const e=[],t=[],i=[];let r=n;const a=n-dm+1+q2.length;for(let o=0;o<a;o++){const c=Math.pow(2,r);t.push(c);let f=1/c;o>n-dm?f=q2[o-n+dm-1]:o===0&&(f=0),i.push(f);const p=1/(c-2),m=-p,g=1+p,y=[m,m,g,m,g,g,m,m,g,g,m,g],b=6,_=6,E=3,M=2,x=1,D=new Float32Array(E*_*b),A=new Float32Array(M*_*b),T=new Float32Array(x*_*b);for(let N=0;N<b;N++){const z=N%3*2/3-1,F=N>2?0:-1,P=[z,F,0,z+2/3,F,0,z+2/3,F+1,0,z,F,0,z+2/3,F+1,0,z,F+1,0];D.set(P,E*_*N),A.set(y,M*_*N);const w=[N,N,N,N,N,N];T.set(w,x*_*N)}const O=new sn;O.setAttribute("position",new Yn(D,E)),O.setAttribute("uv",new Yn(A,M)),O.setAttribute("faceIndex",new Yn(T,x)),e.push(O),r>dm&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function X2(n,e,t){const i=new ic(n,e,t);return i.texture.mapping=Hm,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Gx(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function hk(n,e,t){const i=new Float32Array(Gd),r=new re(0,1,0);return new So({name:"SphericalGaussianBlur",defines:{n:Gd,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:_w(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Zc,depthTest:!1,depthWrite:!1})}function Y2(){return new So({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_w(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Zc,depthTest:!1,depthWrite:!1})}function $2(){return new So({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_w(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Zc,depthTest:!1,depthWrite:!1})}function _w(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function pk(n){let e=new WeakMap,t=null;function i(c){if(c&&c.isTexture){const f=c.mapping,p=f===dv||f===hv,m=f===nu||f===vf;if(p||m){let g=e.get(c);const y=g!==void 0?g.texture.pmremVersion:0;if(c.isRenderTargetTexture&&c.pmremVersion!==y)return t===null&&(t=new GT(n)),g=p?t.fromEquirectangular(c,g):t.fromCubemap(c,g),g.texture.pmremVersion=c.pmremVersion,e.set(c,g),g.texture;if(g!==void 0)return g.texture;{const b=c.image;return p&&b&&b.height>0||m&&b&&r(b)?(t===null&&(t=new GT(n)),g=p?t.fromEquirectangular(c):t.fromCubemap(c),g.texture.pmremVersion=c.pmremVersion,e.set(c,g),c.addEventListener("dispose",a),g.texture):null}}}return c}function r(c){let f=0;const p=6;for(let m=0;m<p;m++)c[m]!==void 0&&f++;return f===p}function a(c){const f=c.target;f.removeEventListener("dispose",a);const p=e.get(f);p!==void 0&&(e.delete(f),p.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function mk(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&mS("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function gk(n,e,t,i){const r={},a=new WeakMap;function o(g){const y=g.target;y.index!==null&&e.remove(y.index);for(const _ in y.attributes)e.remove(y.attributes[_]);y.removeEventListener("dispose",o),delete r[y.id];const b=a.get(y);b&&(e.remove(b),a.delete(y)),i.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function c(g,y){return r[y.id]===!0||(y.addEventListener("dispose",o),r[y.id]=!0,t.memory.geometries++),y}function f(g){const y=g.attributes;for(const b in y)e.update(y[b],n.ARRAY_BUFFER)}function p(g){const y=[],b=g.index,_=g.attributes.position;let E=0;if(b!==null){const D=b.array;E=b.version;for(let A=0,T=D.length;A<T;A+=3){const O=D[A+0],N=D[A+1],z=D[A+2];y.push(O,N,N,z,z,O)}}else if(_!==void 0){const D=_.array;E=_.version;for(let A=0,T=D.length/3-1;A<T;A+=3){const O=A+0,N=A+1,z=A+2;y.push(O,N,N,z,z,O)}}else return;const M=new(YN(y)?KA:QA)(y,1);M.version=E;const x=a.get(g);x&&e.remove(x),a.set(g,M)}function m(g){const y=a.get(g);if(y){const b=g.index;b!==null&&y.version<b.version&&p(g)}else p(g);return a.get(g)}return{get:c,update:f,getWireframeAttribute:m}}function yk(n,e,t){let i;function r(y){i=y}let a,o;function c(y){a=y.type,o=y.bytesPerElement}function f(y,b){n.drawElements(i,b,a,y*o),t.update(b,i,1)}function p(y,b,_){_!==0&&(n.drawElementsInstanced(i,b,a,y*o,_),t.update(b,i,_))}function m(y,b,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,b,0,a,y,0,_);let M=0;for(let x=0;x<_;x++)M+=b[x];t.update(M,i,1)}function g(y,b,_,E){if(_===0)return;const M=e.get("WEBGL_multi_draw");if(M===null)for(let x=0;x<y.length;x++)p(y[x]/o,b[x],E[x]);else{M.multiDrawElementsInstancedWEBGL(i,b,0,a,y,0,E,0,_);let x=0;for(let D=0;D<_;D++)x+=b[D]*E[D];t.update(x,i,1)}}this.setMode=r,this.setIndex=c,this.render=f,this.renderInstances=p,this.renderMultiDraw=m,this.renderMultiDrawInstances=g}function vk(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,o,c){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=c*(a/3);break;case n.LINES:t.lines+=c*(a/2);break;case n.LINE_STRIP:t.lines+=c*(a-1);break;case n.LINE_LOOP:t.lines+=c*a;break;case n.POINTS:t.points+=c*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function bk(n,e,t){const i=new WeakMap,r=new zn;function a(o,c,f){const p=o.morphTargetInfluences,m=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,g=m!==void 0?m.length:0;let y=i.get(c);if(y===void 0||y.count!==g){let w=function(){F.dispose(),i.delete(c),c.removeEventListener("dispose",w)};var b=w;y!==void 0&&y.texture.dispose();const _=c.morphAttributes.position!==void 0,E=c.morphAttributes.normal!==void 0,M=c.morphAttributes.color!==void 0,x=c.morphAttributes.position||[],D=c.morphAttributes.normal||[],A=c.morphAttributes.color||[];let T=0;_===!0&&(T=1),E===!0&&(T=2),M===!0&&(T=3);let O=c.attributes.position.count*T,N=1;O>e.maxTextureSize&&(N=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const z=new Float32Array(O*N*4*g),F=new Kv(z,O,N,g);F.type=ds,F.needsUpdate=!0;const P=T*4;for(let L=0;L<g;L++){const H=x[L],V=D[L],G=A[L],$=O*N*4*L;for(let B=0;B<H.count;B++){const j=B*P;_===!0&&(r.fromBufferAttribute(H,B),z[$+j+0]=r.x,z[$+j+1]=r.y,z[$+j+2]=r.z,z[$+j+3]=0),E===!0&&(r.fromBufferAttribute(V,B),z[$+j+4]=r.x,z[$+j+5]=r.y,z[$+j+6]=r.z,z[$+j+7]=0),M===!0&&(r.fromBufferAttribute(G,B),z[$+j+8]=r.x,z[$+j+9]=r.y,z[$+j+10]=r.z,z[$+j+11]=G.itemSize===4?r.w:1)}}y={count:g,texture:F,size:new Je(O,N)},i.set(c,y),c.addEventListener("dispose",w)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)f.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let _=0;for(let M=0;M<p.length;M++)_+=p[M];const E=c.morphTargetsRelative?1:1-_;f.getUniforms().setValue(n,"morphTargetBaseInfluence",E),f.getUniforms().setValue(n,"morphTargetInfluences",p)}f.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}return{update:a}}function xk(n,e,t,i){let r=new WeakMap;function a(f){const p=i.render.frame,m=f.geometry,g=e.get(f,m);if(r.get(g)!==p&&(e.update(g),r.set(g,p)),f.isInstancedMesh&&(f.hasEventListener("dispose",c)===!1&&f.addEventListener("dispose",c),r.get(f)!==p&&(t.update(f.instanceMatrix,n.ARRAY_BUFFER),f.instanceColor!==null&&t.update(f.instanceColor,n.ARRAY_BUFFER),r.set(f,p))),f.isSkinnedMesh){const y=f.skeleton;r.get(y)!==p&&(y.update(),r.set(y,p))}return g}function o(){r=new WeakMap}function c(f){const p=f.target;p.removeEventListener("dispose",c),t.remove(p.instanceMatrix),p.instanceColor!==null&&t.remove(p.instanceColor)}return{update:a,dispose:o}}const JP=new ji,Q2=new c1(1,1),eU=new Kv,tU=new t1,nU=new Zv,K2=[],Z2=[],J2=new Float32Array(16),eO=new Float32Array(9),tO=new Float32Array(4);function qm(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let a=K2[r];if(a===void 0&&(a=new Float32Array(r),K2[r]=a),e!==0){i.toArray(a,0);for(let o=1,c=0;o!==e;++o)c+=t,n[o].toArray(a,c)}return a}function wr(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Cr(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function A1(n,e){let t=Z2[e];t===void 0&&(t=new Int32Array(e),Z2[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function Sk(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function _k(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(wr(t,e))return;n.uniform2fv(this.addr,e),Cr(t,e)}}function Mk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(wr(t,e))return;n.uniform3fv(this.addr,e),Cr(t,e)}}function Ek(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(wr(t,e))return;n.uniform4fv(this.addr,e),Cr(t,e)}}function Tk(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(wr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Cr(t,e)}else{if(wr(t,i))return;tO.set(i),n.uniformMatrix2fv(this.addr,!1,tO),Cr(t,i)}}function Ak(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(wr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Cr(t,e)}else{if(wr(t,i))return;eO.set(i),n.uniformMatrix3fv(this.addr,!1,eO),Cr(t,i)}}function wk(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(wr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Cr(t,e)}else{if(wr(t,i))return;J2.set(i),n.uniformMatrix4fv(this.addr,!1,J2),Cr(t,i)}}function Ck(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Rk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(wr(t,e))return;n.uniform2iv(this.addr,e),Cr(t,e)}}function Ok(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(wr(t,e))return;n.uniform3iv(this.addr,e),Cr(t,e)}}function Dk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(wr(t,e))return;n.uniform4iv(this.addr,e),Cr(t,e)}}function Nk(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Pk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(wr(t,e))return;n.uniform2uiv(this.addr,e),Cr(t,e)}}function Uk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(wr(t,e))return;n.uniform3uiv(this.addr,e),Cr(t,e)}}function Lk(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(wr(t,e))return;n.uniform4uiv(this.addr,e),Cr(t,e)}}function Ik(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let a;this.type===n.SAMPLER_2D_SHADOW?(Q2.compareFunction=YA,a=Q2):a=JP,t.setTexture2D(e||a,r)}function zk(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||tU,r)}function Bk(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||nU,r)}function Fk(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||eU,r)}function Hk(n){switch(n){case 5126:return Sk;case 35664:return _k;case 35665:return Mk;case 35666:return Ek;case 35674:return Tk;case 35675:return Ak;case 35676:return wk;case 5124:case 35670:return Ck;case 35667:case 35671:return Rk;case 35668:case 35672:return Ok;case 35669:case 35673:return Dk;case 5125:return Nk;case 36294:return Pk;case 36295:return Uk;case 36296:return Lk;case 35678:case 36198:case 36298:case 36306:case 35682:return Ik;case 35679:case 36299:case 36307:return zk;case 35680:case 36300:case 36308:case 36293:return Bk;case 36289:case 36303:case 36311:case 36292:return Fk}}function Vk(n,e){n.uniform1fv(this.addr,e)}function kk(n,e){const t=qm(e,this.size,2);n.uniform2fv(this.addr,t)}function Gk(n,e){const t=qm(e,this.size,3);n.uniform3fv(this.addr,t)}function qk(n,e){const t=qm(e,this.size,4);n.uniform4fv(this.addr,t)}function jk(n,e){const t=qm(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Wk(n,e){const t=qm(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Xk(n,e){const t=qm(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Yk(n,e){n.uniform1iv(this.addr,e)}function $k(n,e){n.uniform2iv(this.addr,e)}function Qk(n,e){n.uniform3iv(this.addr,e)}function Kk(n,e){n.uniform4iv(this.addr,e)}function Zk(n,e){n.uniform1uiv(this.addr,e)}function Jk(n,e){n.uniform2uiv(this.addr,e)}function e8(n,e){n.uniform3uiv(this.addr,e)}function t8(n,e){n.uniform4uiv(this.addr,e)}function n8(n,e,t){const i=this.cache,r=e.length,a=A1(t,r);wr(i,a)||(n.uniform1iv(this.addr,a),Cr(i,a));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||JP,a[o])}function i8(n,e,t){const i=this.cache,r=e.length,a=A1(t,r);wr(i,a)||(n.uniform1iv(this.addr,a),Cr(i,a));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||tU,a[o])}function r8(n,e,t){const i=this.cache,r=e.length,a=A1(t,r);wr(i,a)||(n.uniform1iv(this.addr,a),Cr(i,a));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||nU,a[o])}function a8(n,e,t){const i=this.cache,r=e.length,a=A1(t,r);wr(i,a)||(n.uniform1iv(this.addr,a),Cr(i,a));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||eU,a[o])}function s8(n){switch(n){case 5126:return Vk;case 35664:return kk;case 35665:return Gk;case 35666:return qk;case 35674:return jk;case 35675:return Wk;case 35676:return Xk;case 5124:case 35670:return Yk;case 35667:case 35671:return $k;case 35668:case 35672:return Qk;case 35669:case 35673:return Kk;case 5125:return Zk;case 36294:return Jk;case 36295:return e8;case 36296:return t8;case 35678:case 36198:case 36298:case 36306:case 35682:return n8;case 35679:case 36299:case 36307:return i8;case 35680:case 36300:case 36308:case 36293:return r8;case 36289:case 36303:case 36311:case 36292:return a8}}class o8{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=Hk(t.type)}}class l8{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=s8(t.type)}}class c8{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let a=0,o=r.length;a!==o;++a){const c=r[a];c.setValue(e,t[c.id],i)}}}const zE=/(\w+)(\])?(\[|\.)?/g;function nO(n,e){n.seq.push(e),n.map[e.id]=e}function u8(n,e,t){const i=n.name,r=i.length;for(zE.lastIndex=0;;){const a=zE.exec(i),o=zE.lastIndex;let c=a[1];const f=a[2]==="]",p=a[3];if(f&&(c=c|0),p===void 0||p==="["&&o+2===r){nO(t,p===void 0?new o8(c,n,e):new l8(c,n,e));break}else{let g=t.map[c];g===void 0&&(g=new c8(c),nO(t,g)),t=g}}}class yS{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=e.getActiveUniform(t,r),o=e.getUniformLocation(t,a.name);u8(a,o,this)}}setValue(e,t,i,r){const a=this.map[t];a!==void 0&&a.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let a=0,o=t.length;a!==o;++a){const c=t[a],f=i[c.id];f.needsUpdate!==!1&&c.setValue(e,f.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,a=e.length;r!==a;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function iO(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const f8=37297;let d8=0;function h8(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let o=r;o<a;o++){const c=o+1;i.push(`${c===e?">":" "} ${c}: ${t[o]}`)}return i.join(`
`)}const rO=new ln;function p8(n){Pn._getMatrix(rO,Pn.workingColorSpace,n);const e=`mat3( ${rO.elements.map(t=>t.toFixed(4))} )`;switch(Pn.getTransfer(n)){case vv:return[e,"LinearTransferOETF"];case ai:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function aO(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const a=/ERROR: 0:(\d+)/.exec(r);if(a){const o=parseInt(a[1]);return t.toUpperCase()+`

`+r+`

`+h8(n.getShaderSource(e),o)}else return r}function m8(n,e){const t=p8(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function g8(n,e){let t;switch(e){case wN:t="Linear";break;case CN:t="Reinhard";break;case RN:t="Cineon";break;case BA:t="ACESFilmic";break;case DN:t="AgX";break;case NN:t="Neutral";break;case ON:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const qx=new re;function y8(){Pn.getLuminanceCoefficients(qx);const n=qx.x.toFixed(4),e=qx.y.toFixed(4),t=qx.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function v8(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Hy).join(`
`)}function b8(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function x8(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=n.getActiveAttrib(e,r),o=a.name;let c=1;a.type===n.FLOAT_MAT2&&(c=2),a.type===n.FLOAT_MAT3&&(c=3),a.type===n.FLOAT_MAT4&&(c=4),t[o]={type:a.type,location:n.getAttribLocation(e,o),locationSize:c}}return t}function Hy(n){return n!==""}function sO(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function oO(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const S8=/^[ \t]*#include +<([\w\d./]+)>/gm;function qT(n){return n.replace(S8,M8)}const _8=new Map;function M8(n,e){let t=dn[e];if(t===void 0){const i=_8.get(e);if(i!==void 0)t=dn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return qT(t)}const E8=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function lO(n){return n.replace(E8,T8)}function T8(n,e,t,i){let r="";for(let a=parseInt(e);a<parseInt(t);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function cO(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function A8(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===j_?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Yy?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===el&&(e="SHADOWMAP_TYPE_VSM"),e}function w8(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case nu:case vf:e="ENVMAP_TYPE_CUBE";break;case Hm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function C8(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case vf:e="ENVMAP_MODE_REFRACTION";break}return e}function R8(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case $v:e="ENVMAP_BLENDING_MULTIPLY";break;case TN:e="ENVMAP_BLENDING_MIX";break;case AN:e="ENVMAP_BLENDING_ADD";break}return e}function O8(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function D8(n,e,t,i){const r=n.getContext(),a=t.defines;let o=t.vertexShader,c=t.fragmentShader;const f=A8(t),p=w8(t),m=C8(t),g=R8(t),y=O8(t),b=v8(t),_=b8(a),E=r.createProgram();let M,x,D=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(M=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Hy).join(`
`),M.length>0&&(M+=`
`),x=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(Hy).join(`
`),x.length>0&&(x+=`
`)):(M=[cO(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Hy).join(`
`),x=[cO(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.envMap?"#define "+m:"",t.envMap?"#define "+g:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+f:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Jl?"#define TONE_MAPPING":"",t.toneMapping!==Jl?dn.tonemapping_pars_fragment:"",t.toneMapping!==Jl?g8("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",dn.colorspace_pars_fragment,m8("linearToOutputTexel",t.outputColorSpace),y8(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Hy).join(`
`)),o=qT(o),o=sO(o,t),o=oO(o,t),c=qT(c),c=sO(c,t),c=oO(c,t),o=lO(o),c=lO(c),t.isRawShaderMaterial!==!0&&(D=`#version 300 es
`,M=[b,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+M,x=["#define varying in",t.glslVersion===UT?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===UT?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const A=D+M+o,T=D+x+c,O=iO(r,r.VERTEX_SHADER,A),N=iO(r,r.FRAGMENT_SHADER,T);r.attachShader(E,O),r.attachShader(E,N),t.index0AttributeName!==void 0?r.bindAttribLocation(E,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(E,0,"position"),r.linkProgram(E);function z(L){if(n.debug.checkShaderErrors){const H=r.getProgramInfoLog(E).trim(),V=r.getShaderInfoLog(O).trim(),G=r.getShaderInfoLog(N).trim();let $=!0,B=!0;if(r.getProgramParameter(E,r.LINK_STATUS)===!1)if($=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,E,O,N);else{const j=aO(r,O,"vertex"),q=aO(r,N,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(E,r.VALIDATE_STATUS)+`

Material Name: `+L.name+`
Material Type: `+L.type+`

Program Info Log: `+H+`
`+j+`
`+q)}else H!==""?console.warn("THREE.WebGLProgram: Program Info Log:",H):(V===""||G==="")&&(B=!1);B&&(L.diagnostics={runnable:$,programLog:H,vertexShader:{log:V,prefix:M},fragmentShader:{log:G,prefix:x}})}r.deleteShader(O),r.deleteShader(N),F=new yS(r,E),P=x8(r,E)}let F;this.getUniforms=function(){return F===void 0&&z(this),F};let P;this.getAttributes=function(){return P===void 0&&z(this),P};let w=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return w===!1&&(w=r.getProgramParameter(E,f8)),w},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(E),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=d8++,this.cacheKey=e,this.usedTimes=1,this.program=E,this.vertexShader=O,this.fragmentShader=N,this}let N8=0;class P8{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),a=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new U8(e),t.set(e,i)),i}}class U8{constructor(e){this.id=N8++,this.code=e,this.usedTimes=0}}function L8(n,e,t,i,r,a,o){const c=new Rm,f=new P8,p=new Set,m=[],g=r.logarithmicDepthBuffer,y=r.vertexTextures;let b=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function E(P){return p.add(P),P===0?"uv":`uv${P}`}function M(P,w,L,H,V){const G=H.fog,$=V.geometry,B=P.isMeshStandardMaterial?H.environment:null,j=(P.isMeshStandardMaterial?t:e).get(P.envMap||B),q=j&&j.mapping===Hm?j.image.height:null,Q=_[P.type];P.precision!==null&&(b=r.getMaxPrecision(P.precision),b!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",b,"instead."));const W=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,ie=W!==void 0?W.length:0;let le=0;$.morphAttributes.position!==void 0&&(le=1),$.morphAttributes.normal!==void 0&&(le=2),$.morphAttributes.color!==void 0&&(le=3);let he,ae,se,me;if(Q){const qt=nl[Q];he=qt.vertexShader,ae=qt.fragmentShader}else he=P.vertexShader,ae=P.fragmentShader,f.update(P),se=f.getVertexShaderID(P),me=f.getFragmentShaderID(P);const xe=n.getRenderTarget(),ke=n.state.buffers.depth.getReversed(),Qe=V.isInstancedMesh===!0,Ee=V.isBatchedMesh===!0,Ge=!!P.map,et=!!P.matcap,nt=!!j,J=!!P.aoMap,We=!!P.lightMap,Re=!!P.bumpMap,ze=!!P.normalMap,ve=!!P.displacementMap,ot=!!P.emissiveMap,Ae=!!P.metalnessMap,te=!!P.roughnessMap,Y=P.anisotropy>0,be=P.clearcoat>0,we=P.dispersion>0,Xe=P.iridescence>0,Le=P.sheen>0,ct=P.transmission>0,at=Y&&!!P.anisotropyMap,bt=be&&!!P.clearcoatMap,St=be&&!!P.clearcoatNormalMap,Be=be&&!!P.clearcoatRoughnessMap,ut=Xe&&!!P.iridescenceMap,_t=Xe&&!!P.iridescenceThicknessMap,Mt=Le&&!!P.sheenColorMap,qe=Le&&!!P.sheenRoughnessMap,oe=!!P.specularMap,Oe=!!P.specularColorMap,ft=!!P.specularIntensityMap,fe=ct&&!!P.transmissionMap,st=ct&&!!P.thicknessMap,Ne=!!P.gradientMap,Ye=!!P.alphaMap,pt=P.alphaTest>0,mt=!!P.alphaHash,Ot=!!P.extensions;let Zt=Jl;P.toneMapped&&(xe===null||xe.isXRRenderTarget===!0)&&(Zt=n.toneMapping);const Sn={shaderID:Q,shaderType:P.type,shaderName:P.name,vertexShader:he,fragmentShader:ae,defines:P.defines,customVertexShaderID:se,customFragmentShaderID:me,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:b,batching:Ee,batchingColor:Ee&&V._colorsTexture!==null,instancing:Qe,instancingColor:Qe&&V.instanceColor!==null,instancingMorph:Qe&&V.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:xe===null?n.outputColorSpace:xe.isXRRenderTarget===!0?xe.texture.colorSpace:bf,alphaToCoverage:!!P.alphaToCoverage,map:Ge,matcap:et,envMap:nt,envMapMode:nt&&j.mapping,envMapCubeUVHeight:q,aoMap:J,lightMap:We,bumpMap:Re,normalMap:ze,displacementMap:y&&ve,emissiveMap:ot,normalMapObjectSpace:ze&&P.normalMapType===FN,normalMapTangentSpace:ze&&P.normalMapType===_f,metalnessMap:Ae,roughnessMap:te,anisotropy:Y,anisotropyMap:at,clearcoat:be,clearcoatMap:bt,clearcoatNormalMap:St,clearcoatRoughnessMap:Be,dispersion:we,iridescence:Xe,iridescenceMap:ut,iridescenceThicknessMap:_t,sheen:Le,sheenColorMap:Mt,sheenRoughnessMap:qe,specularMap:oe,specularColorMap:Oe,specularIntensityMap:ft,transmission:ct,transmissionMap:fe,thicknessMap:st,gradientMap:Ne,opaque:P.transparent===!1&&P.blending===Kd&&P.alphaToCoverage===!1,alphaMap:Ye,alphaTest:pt,alphaHash:mt,combine:P.combine,mapUv:Ge&&E(P.map.channel),aoMapUv:J&&E(P.aoMap.channel),lightMapUv:We&&E(P.lightMap.channel),bumpMapUv:Re&&E(P.bumpMap.channel),normalMapUv:ze&&E(P.normalMap.channel),displacementMapUv:ve&&E(P.displacementMap.channel),emissiveMapUv:ot&&E(P.emissiveMap.channel),metalnessMapUv:Ae&&E(P.metalnessMap.channel),roughnessMapUv:te&&E(P.roughnessMap.channel),anisotropyMapUv:at&&E(P.anisotropyMap.channel),clearcoatMapUv:bt&&E(P.clearcoatMap.channel),clearcoatNormalMapUv:St&&E(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Be&&E(P.clearcoatRoughnessMap.channel),iridescenceMapUv:ut&&E(P.iridescenceMap.channel),iridescenceThicknessMapUv:_t&&E(P.iridescenceThicknessMap.channel),sheenColorMapUv:Mt&&E(P.sheenColorMap.channel),sheenRoughnessMapUv:qe&&E(P.sheenRoughnessMap.channel),specularMapUv:oe&&E(P.specularMap.channel),specularColorMapUv:Oe&&E(P.specularColorMap.channel),specularIntensityMapUv:ft&&E(P.specularIntensityMap.channel),transmissionMapUv:fe&&E(P.transmissionMap.channel),thicknessMapUv:st&&E(P.thicknessMap.channel),alphaMapUv:Ye&&E(P.alphaMap.channel),vertexTangents:!!$.attributes.tangent&&(ze||Y),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,pointsUvs:V.isPoints===!0&&!!$.attributes.uv&&(Ge||Ye),fog:!!G,useFog:P.fog===!0,fogExp2:!!G&&G.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:g,reverseDepthBuffer:ke,skinning:V.isSkinnedMesh===!0,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:ie,morphTextureStride:le,numDirLights:w.directional.length,numPointLights:w.point.length,numSpotLights:w.spot.length,numSpotLightMaps:w.spotLightMap.length,numRectAreaLights:w.rectArea.length,numHemiLights:w.hemi.length,numDirLightShadows:w.directionalShadowMap.length,numPointLightShadows:w.pointShadowMap.length,numSpotLightShadows:w.spotShadowMap.length,numSpotLightShadowsWithMaps:w.numSpotLightShadowsWithMaps,numLightProbes:w.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:n.shadowMap.enabled&&L.length>0,shadowMapType:n.shadowMap.type,toneMapping:Zt,decodeVideoTexture:Ge&&P.map.isVideoTexture===!0&&Pn.getTransfer(P.map.colorSpace)===ai,decodeVideoTextureEmissive:ot&&P.emissiveMap.isVideoTexture===!0&&Pn.getTransfer(P.emissiveMap.colorSpace)===ai,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===il,flipSided:P.side===ba,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:Ot&&P.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ot&&P.extensions.multiDraw===!0||Ee)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return Sn.vertexUv1s=p.has(1),Sn.vertexUv2s=p.has(2),Sn.vertexUv3s=p.has(3),p.clear(),Sn}function x(P){const w=[];if(P.shaderID?w.push(P.shaderID):(w.push(P.customVertexShaderID),w.push(P.customFragmentShaderID)),P.defines!==void 0)for(const L in P.defines)w.push(L),w.push(P.defines[L]);return P.isRawShaderMaterial===!1&&(D(w,P),A(w,P),w.push(n.outputColorSpace)),w.push(P.customProgramCacheKey),w.join()}function D(P,w){P.push(w.precision),P.push(w.outputColorSpace),P.push(w.envMapMode),P.push(w.envMapCubeUVHeight),P.push(w.mapUv),P.push(w.alphaMapUv),P.push(w.lightMapUv),P.push(w.aoMapUv),P.push(w.bumpMapUv),P.push(w.normalMapUv),P.push(w.displacementMapUv),P.push(w.emissiveMapUv),P.push(w.metalnessMapUv),P.push(w.roughnessMapUv),P.push(w.anisotropyMapUv),P.push(w.clearcoatMapUv),P.push(w.clearcoatNormalMapUv),P.push(w.clearcoatRoughnessMapUv),P.push(w.iridescenceMapUv),P.push(w.iridescenceThicknessMapUv),P.push(w.sheenColorMapUv),P.push(w.sheenRoughnessMapUv),P.push(w.specularMapUv),P.push(w.specularColorMapUv),P.push(w.specularIntensityMapUv),P.push(w.transmissionMapUv),P.push(w.thicknessMapUv),P.push(w.combine),P.push(w.fogExp2),P.push(w.sizeAttenuation),P.push(w.morphTargetsCount),P.push(w.morphAttributeCount),P.push(w.numDirLights),P.push(w.numPointLights),P.push(w.numSpotLights),P.push(w.numSpotLightMaps),P.push(w.numHemiLights),P.push(w.numRectAreaLights),P.push(w.numDirLightShadows),P.push(w.numPointLightShadows),P.push(w.numSpotLightShadows),P.push(w.numSpotLightShadowsWithMaps),P.push(w.numLightProbes),P.push(w.shadowMapType),P.push(w.toneMapping),P.push(w.numClippingPlanes),P.push(w.numClipIntersection),P.push(w.depthPacking)}function A(P,w){c.disableAll(),w.supportsVertexTextures&&c.enable(0),w.instancing&&c.enable(1),w.instancingColor&&c.enable(2),w.instancingMorph&&c.enable(3),w.matcap&&c.enable(4),w.envMap&&c.enable(5),w.normalMapObjectSpace&&c.enable(6),w.normalMapTangentSpace&&c.enable(7),w.clearcoat&&c.enable(8),w.iridescence&&c.enable(9),w.alphaTest&&c.enable(10),w.vertexColors&&c.enable(11),w.vertexAlphas&&c.enable(12),w.vertexUv1s&&c.enable(13),w.vertexUv2s&&c.enable(14),w.vertexUv3s&&c.enable(15),w.vertexTangents&&c.enable(16),w.anisotropy&&c.enable(17),w.alphaHash&&c.enable(18),w.batching&&c.enable(19),w.dispersion&&c.enable(20),w.batchingColor&&c.enable(21),P.push(c.mask),c.disableAll(),w.fog&&c.enable(0),w.useFog&&c.enable(1),w.flatShading&&c.enable(2),w.logarithmicDepthBuffer&&c.enable(3),w.reverseDepthBuffer&&c.enable(4),w.skinning&&c.enable(5),w.morphTargets&&c.enable(6),w.morphNormals&&c.enable(7),w.morphColors&&c.enable(8),w.premultipliedAlpha&&c.enable(9),w.shadowMapEnabled&&c.enable(10),w.doubleSided&&c.enable(11),w.flipSided&&c.enable(12),w.useDepthPacking&&c.enable(13),w.dithering&&c.enable(14),w.transmission&&c.enable(15),w.sheen&&c.enable(16),w.opaque&&c.enable(17),w.pointsUvs&&c.enable(18),w.decodeVideoTexture&&c.enable(19),w.decodeVideoTextureEmissive&&c.enable(20),w.alphaToCoverage&&c.enable(21),P.push(c.mask)}function T(P){const w=_[P.type];let L;if(w){const H=nl[w];L=ZA.clone(H.uniforms)}else L=P.uniforms;return L}function O(P,w){let L;for(let H=0,V=m.length;H<V;H++){const G=m[H];if(G.cacheKey===w){L=G,++L.usedTimes;break}}return L===void 0&&(L=new D8(n,w,P,a),m.push(L)),L}function N(P){if(--P.usedTimes===0){const w=m.indexOf(P);m[w]=m[m.length-1],m.pop(),P.destroy()}}function z(P){f.remove(P)}function F(){f.dispose()}return{getParameters:M,getProgramCacheKey:x,getUniforms:T,acquireProgram:O,releaseProgram:N,releaseShaderCache:z,programs:m,dispose:F}}function I8(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let c=n.get(o);return c===void 0&&(c={},n.set(o,c)),c}function i(o){n.delete(o)}function r(o,c,f){n.get(o)[c]=f}function a(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:a}}function z8(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function uO(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function fO(){const n=[];let e=0;const t=[],i=[],r=[];function a(){e=0,t.length=0,i.length=0,r.length=0}function o(g,y,b,_,E,M){let x=n[e];return x===void 0?(x={id:g.id,object:g,geometry:y,material:b,groupOrder:_,renderOrder:g.renderOrder,z:E,group:M},n[e]=x):(x.id=g.id,x.object=g,x.geometry=y,x.material=b,x.groupOrder=_,x.renderOrder=g.renderOrder,x.z=E,x.group=M),e++,x}function c(g,y,b,_,E,M){const x=o(g,y,b,_,E,M);b.transmission>0?i.push(x):b.transparent===!0?r.push(x):t.push(x)}function f(g,y,b,_,E,M){const x=o(g,y,b,_,E,M);b.transmission>0?i.unshift(x):b.transparent===!0?r.unshift(x):t.unshift(x)}function p(g,y){t.length>1&&t.sort(g||z8),i.length>1&&i.sort(y||uO),r.length>1&&r.sort(y||uO)}function m(){for(let g=e,y=n.length;g<y;g++){const b=n[g];if(b.id===null)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}}return{opaque:t,transmissive:i,transparent:r,init:a,push:c,unshift:f,finish:m,sort:p}}function B8(){let n=new WeakMap;function e(i,r){const a=n.get(i);let o;return a===void 0?(o=new fO,n.set(i,[o])):r>=a.length?(o=new fO,a.push(o)):o=a[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function F8(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new re,color:new Rt};break;case"SpotLight":t={position:new re,direction:new re,color:new Rt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new re,color:new Rt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new re,skyColor:new Rt,groundColor:new Rt};break;case"RectAreaLight":t={color:new Rt,position:new re,halfWidth:new re,halfHeight:new re};break}return n[e.id]=t,t}}}function H8(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Je};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Je};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Je,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let V8=0;function k8(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function G8(n){const e=new F8,t=H8(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)i.probe.push(new re);const r=new re,a=new Xt,o=new Xt;function c(p){let m=0,g=0,y=0;for(let P=0;P<9;P++)i.probe[P].set(0,0,0);let b=0,_=0,E=0,M=0,x=0,D=0,A=0,T=0,O=0,N=0,z=0;p.sort(k8);for(let P=0,w=p.length;P<w;P++){const L=p[P],H=L.color,V=L.intensity,G=L.distance,$=L.shadow&&L.shadow.map?L.shadow.map.texture:null;if(L.isAmbientLight)m+=H.r*V,g+=H.g*V,y+=H.b*V;else if(L.isLightProbe){for(let B=0;B<9;B++)i.probe[B].addScaledVector(L.sh.coefficients[B],V);z++}else if(L.isDirectionalLight){const B=e.get(L);if(B.color.copy(L.color).multiplyScalar(L.intensity),L.castShadow){const j=L.shadow,q=t.get(L);q.shadowIntensity=j.intensity,q.shadowBias=j.bias,q.shadowNormalBias=j.normalBias,q.shadowRadius=j.radius,q.shadowMapSize=j.mapSize,i.directionalShadow[b]=q,i.directionalShadowMap[b]=$,i.directionalShadowMatrix[b]=L.shadow.matrix,D++}i.directional[b]=B,b++}else if(L.isSpotLight){const B=e.get(L);B.position.setFromMatrixPosition(L.matrixWorld),B.color.copy(H).multiplyScalar(V),B.distance=G,B.coneCos=Math.cos(L.angle),B.penumbraCos=Math.cos(L.angle*(1-L.penumbra)),B.decay=L.decay,i.spot[E]=B;const j=L.shadow;if(L.map&&(i.spotLightMap[O]=L.map,O++,j.updateMatrices(L),L.castShadow&&N++),i.spotLightMatrix[E]=j.matrix,L.castShadow){const q=t.get(L);q.shadowIntensity=j.intensity,q.shadowBias=j.bias,q.shadowNormalBias=j.normalBias,q.shadowRadius=j.radius,q.shadowMapSize=j.mapSize,i.spotShadow[E]=q,i.spotShadowMap[E]=$,T++}E++}else if(L.isRectAreaLight){const B=e.get(L);B.color.copy(H).multiplyScalar(V),B.halfWidth.set(L.width*.5,0,0),B.halfHeight.set(0,L.height*.5,0),i.rectArea[M]=B,M++}else if(L.isPointLight){const B=e.get(L);if(B.color.copy(L.color).multiplyScalar(L.intensity),B.distance=L.distance,B.decay=L.decay,L.castShadow){const j=L.shadow,q=t.get(L);q.shadowIntensity=j.intensity,q.shadowBias=j.bias,q.shadowNormalBias=j.normalBias,q.shadowRadius=j.radius,q.shadowMapSize=j.mapSize,q.shadowCameraNear=j.camera.near,q.shadowCameraFar=j.camera.far,i.pointShadow[_]=q,i.pointShadowMap[_]=$,i.pointShadowMatrix[_]=L.shadow.matrix,A++}i.point[_]=B,_++}else if(L.isHemisphereLight){const B=e.get(L);B.skyColor.copy(L.color).multiplyScalar(V),B.groundColor.copy(L.groundColor).multiplyScalar(V),i.hemi[x]=B,x++}}M>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=wt.LTC_FLOAT_1,i.rectAreaLTC2=wt.LTC_FLOAT_2):(i.rectAreaLTC1=wt.LTC_HALF_1,i.rectAreaLTC2=wt.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=g,i.ambient[2]=y;const F=i.hash;(F.directionalLength!==b||F.pointLength!==_||F.spotLength!==E||F.rectAreaLength!==M||F.hemiLength!==x||F.numDirectionalShadows!==D||F.numPointShadows!==A||F.numSpotShadows!==T||F.numSpotMaps!==O||F.numLightProbes!==z)&&(i.directional.length=b,i.spot.length=E,i.rectArea.length=M,i.point.length=_,i.hemi.length=x,i.directionalShadow.length=D,i.directionalShadowMap.length=D,i.pointShadow.length=A,i.pointShadowMap.length=A,i.spotShadow.length=T,i.spotShadowMap.length=T,i.directionalShadowMatrix.length=D,i.pointShadowMatrix.length=A,i.spotLightMatrix.length=T+O-N,i.spotLightMap.length=O,i.numSpotLightShadowsWithMaps=N,i.numLightProbes=z,F.directionalLength=b,F.pointLength=_,F.spotLength=E,F.rectAreaLength=M,F.hemiLength=x,F.numDirectionalShadows=D,F.numPointShadows=A,F.numSpotShadows=T,F.numSpotMaps=O,F.numLightProbes=z,i.version=V8++)}function f(p,m){let g=0,y=0,b=0,_=0,E=0;const M=m.matrixWorldInverse;for(let x=0,D=p.length;x<D;x++){const A=p[x];if(A.isDirectionalLight){const T=i.directional[g];T.direction.setFromMatrixPosition(A.matrixWorld),r.setFromMatrixPosition(A.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(M),g++}else if(A.isSpotLight){const T=i.spot[b];T.position.setFromMatrixPosition(A.matrixWorld),T.position.applyMatrix4(M),T.direction.setFromMatrixPosition(A.matrixWorld),r.setFromMatrixPosition(A.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(M),b++}else if(A.isRectAreaLight){const T=i.rectArea[_];T.position.setFromMatrixPosition(A.matrixWorld),T.position.applyMatrix4(M),o.identity(),a.copy(A.matrixWorld),a.premultiply(M),o.extractRotation(a),T.halfWidth.set(A.width*.5,0,0),T.halfHeight.set(0,A.height*.5,0),T.halfWidth.applyMatrix4(o),T.halfHeight.applyMatrix4(o),_++}else if(A.isPointLight){const T=i.point[y];T.position.setFromMatrixPosition(A.matrixWorld),T.position.applyMatrix4(M),y++}else if(A.isHemisphereLight){const T=i.hemi[E];T.direction.setFromMatrixPosition(A.matrixWorld),T.direction.transformDirection(M),E++}}}return{setup:c,setupView:f,state:i}}function dO(n){const e=new G8(n),t=[],i=[];function r(m){p.camera=m,t.length=0,i.length=0}function a(m){t.push(m)}function o(m){i.push(m)}function c(){e.setup(t)}function f(m){e.setupView(t,m)}const p={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:p,setupLights:c,setupLightsView:f,pushLight:a,pushShadow:o}}function q8(n){let e=new WeakMap;function t(r,a=0){const o=e.get(r);let c;return o===void 0?(c=new dO(n),e.set(r,[c])):a>=o.length?(c=new dO(n),o.push(c)):c=o[a],c}function i(){e=new WeakMap}return{get:t,dispose:i}}const j8=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,W8=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function X8(n,e,t){let i=new km;const r=new Je,a=new Je,o=new zn,c=new uw({depthPacking:BN}),f=new fw,p={},m=t.maxTextureSize,g={[tu]:ba,[ba]:tu,[il]:il},y=new So({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Je},radius:{value:4}},vertexShader:j8,fragmentShader:W8}),b=y.clone();b.defines.HORIZONTAL_PASS=1;const _=new sn;_.setAttribute("position",new Yn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const E=new pr(_,y),M=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=j_;let x=this.type;this.render=function(N,z,F){if(M.enabled===!1||M.autoUpdate===!1&&M.needsUpdate===!1||N.length===0)return;const P=n.getRenderTarget(),w=n.getActiveCubeFace(),L=n.getActiveMipmapLevel(),H=n.state;H.setBlending(Zc),H.buffers.color.setClear(1,1,1,1),H.buffers.depth.setTest(!0),H.setScissorTest(!1);const V=x!==el&&this.type===el,G=x===el&&this.type!==el;for(let $=0,B=N.length;$<B;$++){const j=N[$],q=j.shadow;if(q===void 0){console.warn("THREE.WebGLShadowMap:",j,"has no shadow.");continue}if(q.autoUpdate===!1&&q.needsUpdate===!1)continue;r.copy(q.mapSize);const Q=q.getFrameExtents();if(r.multiply(Q),a.copy(q.mapSize),(r.x>m||r.y>m)&&(r.x>m&&(a.x=Math.floor(m/Q.x),r.x=a.x*Q.x,q.mapSize.x=a.x),r.y>m&&(a.y=Math.floor(m/Q.y),r.y=a.y*Q.y,q.mapSize.y=a.y)),q.map===null||V===!0||G===!0){const ie=this.type!==el?{minFilter:Zr,magFilter:Zr}:{};q.map!==null&&q.map.dispose(),q.map=new ic(r.x,r.y,ie),q.map.texture.name=j.name+".shadowMap",q.camera.updateProjectionMatrix()}n.setRenderTarget(q.map),n.clear();const W=q.getViewportCount();for(let ie=0;ie<W;ie++){const le=q.getViewport(ie);o.set(a.x*le.x,a.y*le.y,a.x*le.z,a.y*le.w),H.viewport(o),q.updateMatrices(j,ie),i=q.getFrustum(),T(z,F,q.camera,j,this.type)}q.isPointLightShadow!==!0&&this.type===el&&D(q,F),q.needsUpdate=!1}x=this.type,M.needsUpdate=!1,n.setRenderTarget(P,w,L)};function D(N,z){const F=e.update(E);y.defines.VSM_SAMPLES!==N.blurSamples&&(y.defines.VSM_SAMPLES=N.blurSamples,b.defines.VSM_SAMPLES=N.blurSamples,y.needsUpdate=!0,b.needsUpdate=!0),N.mapPass===null&&(N.mapPass=new ic(r.x,r.y)),y.uniforms.shadow_pass.value=N.map.texture,y.uniforms.resolution.value=N.mapSize,y.uniforms.radius.value=N.radius,n.setRenderTarget(N.mapPass),n.clear(),n.renderBufferDirect(z,null,F,y,E,null),b.uniforms.shadow_pass.value=N.mapPass.texture,b.uniforms.resolution.value=N.mapSize,b.uniforms.radius.value=N.radius,n.setRenderTarget(N.map),n.clear(),n.renderBufferDirect(z,null,F,b,E,null)}function A(N,z,F,P){let w=null;const L=F.isPointLight===!0?N.customDistanceMaterial:N.customDepthMaterial;if(L!==void 0)w=L;else if(w=F.isPointLight===!0?f:c,n.localClippingEnabled&&z.clipShadows===!0&&Array.isArray(z.clippingPlanes)&&z.clippingPlanes.length!==0||z.displacementMap&&z.displacementScale!==0||z.alphaMap&&z.alphaTest>0||z.map&&z.alphaTest>0||z.alphaToCoverage===!0){const H=w.uuid,V=z.uuid;let G=p[H];G===void 0&&(G={},p[H]=G);let $=G[V];$===void 0&&($=w.clone(),G[V]=$,z.addEventListener("dispose",O)),w=$}if(w.visible=z.visible,w.wireframe=z.wireframe,P===el?w.side=z.shadowSide!==null?z.shadowSide:z.side:w.side=z.shadowSide!==null?z.shadowSide:g[z.side],w.alphaMap=z.alphaMap,w.alphaTest=z.alphaToCoverage===!0?.5:z.alphaTest,w.map=z.map,w.clipShadows=z.clipShadows,w.clippingPlanes=z.clippingPlanes,w.clipIntersection=z.clipIntersection,w.displacementMap=z.displacementMap,w.displacementScale=z.displacementScale,w.displacementBias=z.displacementBias,w.wireframeLinewidth=z.wireframeLinewidth,w.linewidth=z.linewidth,F.isPointLight===!0&&w.isMeshDistanceMaterial===!0){const H=n.properties.get(w);H.light=F}return w}function T(N,z,F,P,w){if(N.visible===!1)return;if(N.layers.test(z.layers)&&(N.isMesh||N.isLine||N.isPoints)&&(N.castShadow||N.receiveShadow&&w===el)&&(!N.frustumCulled||i.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,N.matrixWorld);const V=e.update(N),G=N.material;if(Array.isArray(G)){const $=V.groups;for(let B=0,j=$.length;B<j;B++){const q=$[B],Q=G[q.materialIndex];if(Q&&Q.visible){const W=A(N,Q,P,w);N.onBeforeShadow(n,N,z,F,V,W,q),n.renderBufferDirect(F,null,V,W,N,q),N.onAfterShadow(n,N,z,F,V,W,q)}}}else if(G.visible){const $=A(N,G,P,w);N.onBeforeShadow(n,N,z,F,V,$,null),n.renderBufferDirect(F,null,V,$,N,null),N.onAfterShadow(n,N,z,F,V,$,null)}}const H=N.children;for(let V=0,G=H.length;V<G;V++)T(H[V],z,F,P,w)}function O(N){N.target.removeEventListener("dispose",O);for(const F in p){const P=p[F],w=N.target.uuid;w in P&&(P[w].dispose(),delete P[w])}}}const Y8={[NS]:PS,[US]:zS,[LS]:BS,[ch]:IS,[PS]:NS,[zS]:US,[BS]:LS,[IS]:ch};function $8(n,e){function t(){let fe=!1;const st=new zn;let Ne=null;const Ye=new zn(0,0,0,0);return{setMask:function(pt){Ne!==pt&&!fe&&(n.colorMask(pt,pt,pt,pt),Ne=pt)},setLocked:function(pt){fe=pt},setClear:function(pt,mt,Ot,Zt,Sn){Sn===!0&&(pt*=Zt,mt*=Zt,Ot*=Zt),st.set(pt,mt,Ot,Zt),Ye.equals(st)===!1&&(n.clearColor(pt,mt,Ot,Zt),Ye.copy(st))},reset:function(){fe=!1,Ne=null,Ye.set(-1,0,0,0)}}}function i(){let fe=!1,st=!1,Ne=null,Ye=null,pt=null;return{setReversed:function(mt){if(st!==mt){const Ot=e.get("EXT_clip_control");mt?Ot.clipControlEXT(Ot.LOWER_LEFT_EXT,Ot.ZERO_TO_ONE_EXT):Ot.clipControlEXT(Ot.LOWER_LEFT_EXT,Ot.NEGATIVE_ONE_TO_ONE_EXT),st=mt;const Zt=pt;pt=null,this.setClear(Zt)}},getReversed:function(){return st},setTest:function(mt){mt?xe(n.DEPTH_TEST):ke(n.DEPTH_TEST)},setMask:function(mt){Ne!==mt&&!fe&&(n.depthMask(mt),Ne=mt)},setFunc:function(mt){if(st&&(mt=Y8[mt]),Ye!==mt){switch(mt){case NS:n.depthFunc(n.NEVER);break;case PS:n.depthFunc(n.ALWAYS);break;case US:n.depthFunc(n.LESS);break;case ch:n.depthFunc(n.LEQUAL);break;case LS:n.depthFunc(n.EQUAL);break;case IS:n.depthFunc(n.GEQUAL);break;case zS:n.depthFunc(n.GREATER);break;case BS:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Ye=mt}},setLocked:function(mt){fe=mt},setClear:function(mt){pt!==mt&&(st&&(mt=1-mt),n.clearDepth(mt),pt=mt)},reset:function(){fe=!1,Ne=null,Ye=null,pt=null,st=!1}}}function r(){let fe=!1,st=null,Ne=null,Ye=null,pt=null,mt=null,Ot=null,Zt=null,Sn=null;return{setTest:function(qt){fe||(qt?xe(n.STENCIL_TEST):ke(n.STENCIL_TEST))},setMask:function(qt){st!==qt&&!fe&&(n.stencilMask(qt),st=qt)},setFunc:function(qt,vi,$n){(Ne!==qt||Ye!==vi||pt!==$n)&&(n.stencilFunc(qt,vi,$n),Ne=qt,Ye=vi,pt=$n)},setOp:function(qt,vi,$n){(mt!==qt||Ot!==vi||Zt!==$n)&&(n.stencilOp(qt,vi,$n),mt=qt,Ot=vi,Zt=$n)},setLocked:function(qt){fe=qt},setClear:function(qt){Sn!==qt&&(n.clearStencil(qt),Sn=qt)},reset:function(){fe=!1,st=null,Ne=null,Ye=null,pt=null,mt=null,Ot=null,Zt=null,Sn=null}}}const a=new t,o=new i,c=new r,f=new WeakMap,p=new WeakMap;let m={},g={},y=new WeakMap,b=[],_=null,E=!1,M=null,x=null,D=null,A=null,T=null,O=null,N=null,z=new Rt(0,0,0),F=0,P=!1,w=null,L=null,H=null,V=null,G=null;const $=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let B=!1,j=0;const q=n.getParameter(n.VERSION);q.indexOf("WebGL")!==-1?(j=parseFloat(/^WebGL (\d)/.exec(q)[1]),B=j>=1):q.indexOf("OpenGL ES")!==-1&&(j=parseFloat(/^OpenGL ES (\d)/.exec(q)[1]),B=j>=2);let Q=null,W={};const ie=n.getParameter(n.SCISSOR_BOX),le=n.getParameter(n.VIEWPORT),he=new zn().fromArray(ie),ae=new zn().fromArray(le);function se(fe,st,Ne,Ye){const pt=new Uint8Array(4),mt=n.createTexture();n.bindTexture(fe,mt),n.texParameteri(fe,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(fe,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ot=0;Ot<Ne;Ot++)fe===n.TEXTURE_3D||fe===n.TEXTURE_2D_ARRAY?n.texImage3D(st,0,n.RGBA,1,1,Ye,0,n.RGBA,n.UNSIGNED_BYTE,pt):n.texImage2D(st+Ot,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,pt);return mt}const me={};me[n.TEXTURE_2D]=se(n.TEXTURE_2D,n.TEXTURE_2D,1),me[n.TEXTURE_CUBE_MAP]=se(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),me[n.TEXTURE_2D_ARRAY]=se(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),me[n.TEXTURE_3D]=se(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),c.setClear(0),xe(n.DEPTH_TEST),o.setFunc(ch),Re(!1),ze(CT),xe(n.CULL_FACE),J(Zc);function xe(fe){m[fe]!==!0&&(n.enable(fe),m[fe]=!0)}function ke(fe){m[fe]!==!1&&(n.disable(fe),m[fe]=!1)}function Qe(fe,st){return g[fe]!==st?(n.bindFramebuffer(fe,st),g[fe]=st,fe===n.DRAW_FRAMEBUFFER&&(g[n.FRAMEBUFFER]=st),fe===n.FRAMEBUFFER&&(g[n.DRAW_FRAMEBUFFER]=st),!0):!1}function Ee(fe,st){let Ne=b,Ye=!1;if(fe){Ne=y.get(st),Ne===void 0&&(Ne=[],y.set(st,Ne));const pt=fe.textures;if(Ne.length!==pt.length||Ne[0]!==n.COLOR_ATTACHMENT0){for(let mt=0,Ot=pt.length;mt<Ot;mt++)Ne[mt]=n.COLOR_ATTACHMENT0+mt;Ne.length=pt.length,Ye=!0}}else Ne[0]!==n.BACK&&(Ne[0]=n.BACK,Ye=!0);Ye&&n.drawBuffers(Ne)}function Ge(fe){return _!==fe?(n.useProgram(fe),_=fe,!0):!1}const et={[uf]:n.FUNC_ADD,[lN]:n.FUNC_SUBTRACT,[cN]:n.FUNC_REVERSE_SUBTRACT};et[uN]=n.MIN,et[fN]=n.MAX;const nt={[dN]:n.ZERO,[hN]:n.ONE,[pN]:n.SRC_COLOR,[OS]:n.SRC_ALPHA,[xN]:n.SRC_ALPHA_SATURATE,[vN]:n.DST_COLOR,[gN]:n.DST_ALPHA,[mN]:n.ONE_MINUS_SRC_COLOR,[DS]:n.ONE_MINUS_SRC_ALPHA,[bN]:n.ONE_MINUS_DST_COLOR,[yN]:n.ONE_MINUS_DST_ALPHA,[SN]:n.CONSTANT_COLOR,[_N]:n.ONE_MINUS_CONSTANT_COLOR,[MN]:n.CONSTANT_ALPHA,[EN]:n.ONE_MINUS_CONSTANT_ALPHA};function J(fe,st,Ne,Ye,pt,mt,Ot,Zt,Sn,qt){if(fe===Zc){E===!0&&(ke(n.BLEND),E=!1);return}if(E===!1&&(xe(n.BLEND),E=!0),fe!==oN){if(fe!==M||qt!==P){if((x!==uf||T!==uf)&&(n.blendEquation(n.FUNC_ADD),x=uf,T=uf),qt)switch(fe){case Kd:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case RT:n.blendFunc(n.ONE,n.ONE);break;case OT:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case DT:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",fe);break}else switch(fe){case Kd:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case RT:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case OT:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case DT:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",fe);break}D=null,A=null,O=null,N=null,z.set(0,0,0),F=0,M=fe,P=qt}return}pt=pt||st,mt=mt||Ne,Ot=Ot||Ye,(st!==x||pt!==T)&&(n.blendEquationSeparate(et[st],et[pt]),x=st,T=pt),(Ne!==D||Ye!==A||mt!==O||Ot!==N)&&(n.blendFuncSeparate(nt[Ne],nt[Ye],nt[mt],nt[Ot]),D=Ne,A=Ye,O=mt,N=Ot),(Zt.equals(z)===!1||Sn!==F)&&(n.blendColor(Zt.r,Zt.g,Zt.b,Sn),z.copy(Zt),F=Sn),M=fe,P=!1}function We(fe,st){fe.side===il?ke(n.CULL_FACE):xe(n.CULL_FACE);let Ne=fe.side===ba;st&&(Ne=!Ne),Re(Ne),fe.blending===Kd&&fe.transparent===!1?J(Zc):J(fe.blending,fe.blendEquation,fe.blendSrc,fe.blendDst,fe.blendEquationAlpha,fe.blendSrcAlpha,fe.blendDstAlpha,fe.blendColor,fe.blendAlpha,fe.premultipliedAlpha),o.setFunc(fe.depthFunc),o.setTest(fe.depthTest),o.setMask(fe.depthWrite),a.setMask(fe.colorWrite);const Ye=fe.stencilWrite;c.setTest(Ye),Ye&&(c.setMask(fe.stencilWriteMask),c.setFunc(fe.stencilFunc,fe.stencilRef,fe.stencilFuncMask),c.setOp(fe.stencilFail,fe.stencilZFail,fe.stencilZPass)),ot(fe.polygonOffset,fe.polygonOffsetFactor,fe.polygonOffsetUnits),fe.alphaToCoverage===!0?xe(n.SAMPLE_ALPHA_TO_COVERAGE):ke(n.SAMPLE_ALPHA_TO_COVERAGE)}function Re(fe){w!==fe&&(fe?n.frontFace(n.CW):n.frontFace(n.CCW),w=fe)}function ze(fe){fe!==rN?(xe(n.CULL_FACE),fe!==L&&(fe===CT?n.cullFace(n.BACK):fe===aN?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ke(n.CULL_FACE),L=fe}function ve(fe){fe!==H&&(B&&n.lineWidth(fe),H=fe)}function ot(fe,st,Ne){fe?(xe(n.POLYGON_OFFSET_FILL),(V!==st||G!==Ne)&&(n.polygonOffset(st,Ne),V=st,G=Ne)):ke(n.POLYGON_OFFSET_FILL)}function Ae(fe){fe?xe(n.SCISSOR_TEST):ke(n.SCISSOR_TEST)}function te(fe){fe===void 0&&(fe=n.TEXTURE0+$-1),Q!==fe&&(n.activeTexture(fe),Q=fe)}function Y(fe,st,Ne){Ne===void 0&&(Q===null?Ne=n.TEXTURE0+$-1:Ne=Q);let Ye=W[Ne];Ye===void 0&&(Ye={type:void 0,texture:void 0},W[Ne]=Ye),(Ye.type!==fe||Ye.texture!==st)&&(Q!==Ne&&(n.activeTexture(Ne),Q=Ne),n.bindTexture(fe,st||me[fe]),Ye.type=fe,Ye.texture=st)}function be(){const fe=W[Q];fe!==void 0&&fe.type!==void 0&&(n.bindTexture(fe.type,null),fe.type=void 0,fe.texture=void 0)}function we(){try{n.compressedTexImage2D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Xe(){try{n.compressedTexImage3D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Le(){try{n.texSubImage2D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function ct(){try{n.texSubImage3D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function at(){try{n.compressedTexSubImage2D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function bt(){try{n.compressedTexSubImage3D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function St(){try{n.texStorage2D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Be(){try{n.texStorage3D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function ut(){try{n.texImage2D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function _t(){try{n.texImage3D(...arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Mt(fe){he.equals(fe)===!1&&(n.scissor(fe.x,fe.y,fe.z,fe.w),he.copy(fe))}function qe(fe){ae.equals(fe)===!1&&(n.viewport(fe.x,fe.y,fe.z,fe.w),ae.copy(fe))}function oe(fe,st){let Ne=p.get(st);Ne===void 0&&(Ne=new WeakMap,p.set(st,Ne));let Ye=Ne.get(fe);Ye===void 0&&(Ye=n.getUniformBlockIndex(st,fe.name),Ne.set(fe,Ye))}function Oe(fe,st){const Ye=p.get(st).get(fe);f.get(st)!==Ye&&(n.uniformBlockBinding(st,Ye,fe.__bindingPointIndex),f.set(st,Ye))}function ft(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},Q=null,W={},g={},y=new WeakMap,b=[],_=null,E=!1,M=null,x=null,D=null,A=null,T=null,O=null,N=null,z=new Rt(0,0,0),F=0,P=!1,w=null,L=null,H=null,V=null,G=null,he.set(0,0,n.canvas.width,n.canvas.height),ae.set(0,0,n.canvas.width,n.canvas.height),a.reset(),o.reset(),c.reset()}return{buffers:{color:a,depth:o,stencil:c},enable:xe,disable:ke,bindFramebuffer:Qe,drawBuffers:Ee,useProgram:Ge,setBlending:J,setMaterial:We,setFlipSided:Re,setCullFace:ze,setLineWidth:ve,setPolygonOffset:ot,setScissorTest:Ae,activeTexture:te,bindTexture:Y,unbindTexture:be,compressedTexImage2D:we,compressedTexImage3D:Xe,texImage2D:ut,texImage3D:_t,updateUBOMapping:oe,uniformBlockBinding:Oe,texStorage2D:St,texStorage3D:Be,texSubImage2D:Le,texSubImage3D:ct,compressedTexSubImage2D:at,compressedTexSubImage3D:bt,scissor:Mt,viewport:qe,reset:ft}}function Q8(n,e,t,i,r,a,o){const c=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,f=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new Je,m=new WeakMap;let g;const y=new WeakMap;let b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(te,Y){return b?new OffscreenCanvas(te,Y):Sv("canvas")}function E(te,Y,be){let we=1;const Xe=Ae(te);if((Xe.width>be||Xe.height>be)&&(we=be/Math.max(Xe.width,Xe.height)),we<1)if(typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&te instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&te instanceof ImageBitmap||typeof VideoFrame<"u"&&te instanceof VideoFrame){const Le=Math.floor(we*Xe.width),ct=Math.floor(we*Xe.height);g===void 0&&(g=_(Le,ct));const at=Y?_(Le,ct):g;return at.width=Le,at.height=ct,at.getContext("2d").drawImage(te,0,0,Le,ct),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Xe.width+"x"+Xe.height+") to ("+Le+"x"+ct+")."),at}else return"data"in te&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Xe.width+"x"+Xe.height+")."),te;return te}function M(te){return te.generateMipmaps}function x(te){n.generateMipmap(te)}function D(te){return te.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:te.isWebGL3DRenderTarget?n.TEXTURE_3D:te.isWebGLArrayRenderTarget||te.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function A(te,Y,be,we,Xe=!1){if(te!==null){if(n[te]!==void 0)return n[te];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+te+"'")}let Le=Y;if(Y===n.RED&&(be===n.FLOAT&&(Le=n.R32F),be===n.HALF_FLOAT&&(Le=n.R16F),be===n.UNSIGNED_BYTE&&(Le=n.R8)),Y===n.RED_INTEGER&&(be===n.UNSIGNED_BYTE&&(Le=n.R8UI),be===n.UNSIGNED_SHORT&&(Le=n.R16UI),be===n.UNSIGNED_INT&&(Le=n.R32UI),be===n.BYTE&&(Le=n.R8I),be===n.SHORT&&(Le=n.R16I),be===n.INT&&(Le=n.R32I)),Y===n.RG&&(be===n.FLOAT&&(Le=n.RG32F),be===n.HALF_FLOAT&&(Le=n.RG16F),be===n.UNSIGNED_BYTE&&(Le=n.RG8)),Y===n.RG_INTEGER&&(be===n.UNSIGNED_BYTE&&(Le=n.RG8UI),be===n.UNSIGNED_SHORT&&(Le=n.RG16UI),be===n.UNSIGNED_INT&&(Le=n.RG32UI),be===n.BYTE&&(Le=n.RG8I),be===n.SHORT&&(Le=n.RG16I),be===n.INT&&(Le=n.RG32I)),Y===n.RGB_INTEGER&&(be===n.UNSIGNED_BYTE&&(Le=n.RGB8UI),be===n.UNSIGNED_SHORT&&(Le=n.RGB16UI),be===n.UNSIGNED_INT&&(Le=n.RGB32UI),be===n.BYTE&&(Le=n.RGB8I),be===n.SHORT&&(Le=n.RGB16I),be===n.INT&&(Le=n.RGB32I)),Y===n.RGBA_INTEGER&&(be===n.UNSIGNED_BYTE&&(Le=n.RGBA8UI),be===n.UNSIGNED_SHORT&&(Le=n.RGBA16UI),be===n.UNSIGNED_INT&&(Le=n.RGBA32UI),be===n.BYTE&&(Le=n.RGBA8I),be===n.SHORT&&(Le=n.RGBA16I),be===n.INT&&(Le=n.RGBA32I)),Y===n.RGB&&be===n.UNSIGNED_INT_5_9_9_9_REV&&(Le=n.RGB9_E5),Y===n.RGBA){const ct=Xe?vv:Pn.getTransfer(we);be===n.FLOAT&&(Le=n.RGBA32F),be===n.HALF_FLOAT&&(Le=n.RGBA16F),be===n.UNSIGNED_BYTE&&(Le=ct===ai?n.SRGB8_ALPHA8:n.RGBA8),be===n.UNSIGNED_SHORT_4_4_4_4&&(Le=n.RGBA4),be===n.UNSIGNED_SHORT_5_5_5_1&&(Le=n.RGB5_A1)}return(Le===n.R16F||Le===n.R32F||Le===n.RG16F||Le===n.RG32F||Le===n.RGBA16F||Le===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Le}function T(te,Y){let be;return te?Y===null||Y===iu||Y===Tm?be=n.DEPTH24_STENCIL8:Y===ds?be=n.DEPTH32F_STENCIL8:Y===Em&&(be=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Y===null||Y===iu||Y===Tm?be=n.DEPTH_COMPONENT24:Y===ds?be=n.DEPTH_COMPONENT32F:Y===Em&&(be=n.DEPTH_COMPONENT16),be}function O(te,Y){return M(te)===!0||te.isFramebufferTexture&&te.minFilter!==Zr&&te.minFilter!==Ar?Math.log2(Math.max(Y.width,Y.height))+1:te.mipmaps!==void 0&&te.mipmaps.length>0?te.mipmaps.length:te.isCompressedTexture&&Array.isArray(te.image)?Y.mipmaps.length:1}function N(te){const Y=te.target;Y.removeEventListener("dispose",N),F(Y),Y.isVideoTexture&&m.delete(Y)}function z(te){const Y=te.target;Y.removeEventListener("dispose",z),w(Y)}function F(te){const Y=i.get(te);if(Y.__webglInit===void 0)return;const be=te.source,we=y.get(be);if(we){const Xe=we[Y.__cacheKey];Xe.usedTimes--,Xe.usedTimes===0&&P(te),Object.keys(we).length===0&&y.delete(be)}i.remove(te)}function P(te){const Y=i.get(te);n.deleteTexture(Y.__webglTexture);const be=te.source,we=y.get(be);delete we[Y.__cacheKey],o.memory.textures--}function w(te){const Y=i.get(te);if(te.depthTexture&&(te.depthTexture.dispose(),i.remove(te.depthTexture)),te.isWebGLCubeRenderTarget)for(let we=0;we<6;we++){if(Array.isArray(Y.__webglFramebuffer[we]))for(let Xe=0;Xe<Y.__webglFramebuffer[we].length;Xe++)n.deleteFramebuffer(Y.__webglFramebuffer[we][Xe]);else n.deleteFramebuffer(Y.__webglFramebuffer[we]);Y.__webglDepthbuffer&&n.deleteRenderbuffer(Y.__webglDepthbuffer[we])}else{if(Array.isArray(Y.__webglFramebuffer))for(let we=0;we<Y.__webglFramebuffer.length;we++)n.deleteFramebuffer(Y.__webglFramebuffer[we]);else n.deleteFramebuffer(Y.__webglFramebuffer);if(Y.__webglDepthbuffer&&n.deleteRenderbuffer(Y.__webglDepthbuffer),Y.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Y.__webglMultisampledFramebuffer),Y.__webglColorRenderbuffer)for(let we=0;we<Y.__webglColorRenderbuffer.length;we++)Y.__webglColorRenderbuffer[we]&&n.deleteRenderbuffer(Y.__webglColorRenderbuffer[we]);Y.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Y.__webglDepthRenderbuffer)}const be=te.textures;for(let we=0,Xe=be.length;we<Xe;we++){const Le=i.get(be[we]);Le.__webglTexture&&(n.deleteTexture(Le.__webglTexture),o.memory.textures--),i.remove(be[we])}i.remove(te)}let L=0;function H(){L=0}function V(){const te=L;return te>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+te+" texture units while this GPU supports only "+r.maxTextures),L+=1,te}function G(te){const Y=[];return Y.push(te.wrapS),Y.push(te.wrapT),Y.push(te.wrapR||0),Y.push(te.magFilter),Y.push(te.minFilter),Y.push(te.anisotropy),Y.push(te.internalFormat),Y.push(te.format),Y.push(te.type),Y.push(te.generateMipmaps),Y.push(te.premultiplyAlpha),Y.push(te.flipY),Y.push(te.unpackAlignment),Y.push(te.colorSpace),Y.join()}function $(te,Y){const be=i.get(te);if(te.isVideoTexture&&ve(te),te.isRenderTargetTexture===!1&&te.version>0&&be.__version!==te.version){const we=te.image;if(we===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(we.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ae(be,te,Y);return}}t.bindTexture(n.TEXTURE_2D,be.__webglTexture,n.TEXTURE0+Y)}function B(te,Y){const be=i.get(te);if(te.version>0&&be.__version!==te.version){ae(be,te,Y);return}t.bindTexture(n.TEXTURE_2D_ARRAY,be.__webglTexture,n.TEXTURE0+Y)}function j(te,Y){const be=i.get(te);if(te.version>0&&be.__version!==te.version){ae(be,te,Y);return}t.bindTexture(n.TEXTURE_3D,be.__webglTexture,n.TEXTURE0+Y)}function q(te,Y){const be=i.get(te);if(te.version>0&&be.__version!==te.version){se(be,te,Y);return}t.bindTexture(n.TEXTURE_CUBE_MAP,be.__webglTexture,n.TEXTURE0+Y)}const Q={[pv]:n.REPEAT,[yo]:n.CLAMP_TO_EDGE,[mv]:n.MIRRORED_REPEAT},W={[Zr]:n.NEAREST,[FA]:n.NEAREST_MIPMAP_NEAREST,[cm]:n.NEAREST_MIPMAP_LINEAR,[Ar]:n.LINEAR,[$y]:n.LINEAR_MIPMAP_NEAREST,[Zl]:n.LINEAR_MIPMAP_LINEAR},ie={[HN]:n.NEVER,[WN]:n.ALWAYS,[VN]:n.LESS,[YA]:n.LEQUAL,[kN]:n.EQUAL,[jN]:n.GEQUAL,[GN]:n.GREATER,[qN]:n.NOTEQUAL};function le(te,Y){if(Y.type===ds&&e.has("OES_texture_float_linear")===!1&&(Y.magFilter===Ar||Y.magFilter===$y||Y.magFilter===cm||Y.magFilter===Zl||Y.minFilter===Ar||Y.minFilter===$y||Y.minFilter===cm||Y.minFilter===Zl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(te,n.TEXTURE_WRAP_S,Q[Y.wrapS]),n.texParameteri(te,n.TEXTURE_WRAP_T,Q[Y.wrapT]),(te===n.TEXTURE_3D||te===n.TEXTURE_2D_ARRAY)&&n.texParameteri(te,n.TEXTURE_WRAP_R,Q[Y.wrapR]),n.texParameteri(te,n.TEXTURE_MAG_FILTER,W[Y.magFilter]),n.texParameteri(te,n.TEXTURE_MIN_FILTER,W[Y.minFilter]),Y.compareFunction&&(n.texParameteri(te,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(te,n.TEXTURE_COMPARE_FUNC,ie[Y.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Y.magFilter===Zr||Y.minFilter!==cm&&Y.minFilter!==Zl||Y.type===ds&&e.has("OES_texture_float_linear")===!1)return;if(Y.anisotropy>1||i.get(Y).__currentAnisotropy){const be=e.get("EXT_texture_filter_anisotropic");n.texParameterf(te,be.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Y.anisotropy,r.getMaxAnisotropy())),i.get(Y).__currentAnisotropy=Y.anisotropy}}}function he(te,Y){let be=!1;te.__webglInit===void 0&&(te.__webglInit=!0,Y.addEventListener("dispose",N));const we=Y.source;let Xe=y.get(we);Xe===void 0&&(Xe={},y.set(we,Xe));const Le=G(Y);if(Le!==te.__cacheKey){Xe[Le]===void 0&&(Xe[Le]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,be=!0),Xe[Le].usedTimes++;const ct=Xe[te.__cacheKey];ct!==void 0&&(Xe[te.__cacheKey].usedTimes--,ct.usedTimes===0&&P(Y)),te.__cacheKey=Le,te.__webglTexture=Xe[Le].texture}return be}function ae(te,Y,be){let we=n.TEXTURE_2D;(Y.isDataArrayTexture||Y.isCompressedArrayTexture)&&(we=n.TEXTURE_2D_ARRAY),Y.isData3DTexture&&(we=n.TEXTURE_3D);const Xe=he(te,Y),Le=Y.source;t.bindTexture(we,te.__webglTexture,n.TEXTURE0+be);const ct=i.get(Le);if(Le.version!==ct.__version||Xe===!0){t.activeTexture(n.TEXTURE0+be);const at=Pn.getPrimaries(Pn.workingColorSpace),bt=Y.colorSpace===Wc?null:Pn.getPrimaries(Y.colorSpace),St=Y.colorSpace===Wc||at===bt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Y.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Y.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,St);let Be=E(Y.image,!1,r.maxTextureSize);Be=ot(Y,Be);const ut=a.convert(Y.format,Y.colorSpace),_t=a.convert(Y.type);let Mt=A(Y.internalFormat,ut,_t,Y.colorSpace,Y.isVideoTexture);le(we,Y);let qe;const oe=Y.mipmaps,Oe=Y.isVideoTexture!==!0,ft=ct.__version===void 0||Xe===!0,fe=Le.dataReady,st=O(Y,Be);if(Y.isDepthTexture)Mt=T(Y.format===wm,Y.type),ft&&(Oe?t.texStorage2D(n.TEXTURE_2D,1,Mt,Be.width,Be.height):t.texImage2D(n.TEXTURE_2D,0,Mt,Be.width,Be.height,0,ut,_t,null));else if(Y.isDataTexture)if(oe.length>0){Oe&&ft&&t.texStorage2D(n.TEXTURE_2D,st,Mt,oe[0].width,oe[0].height);for(let Ne=0,Ye=oe.length;Ne<Ye;Ne++)qe=oe[Ne],Oe?fe&&t.texSubImage2D(n.TEXTURE_2D,Ne,0,0,qe.width,qe.height,ut,_t,qe.data):t.texImage2D(n.TEXTURE_2D,Ne,Mt,qe.width,qe.height,0,ut,_t,qe.data);Y.generateMipmaps=!1}else Oe?(ft&&t.texStorage2D(n.TEXTURE_2D,st,Mt,Be.width,Be.height),fe&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Be.width,Be.height,ut,_t,Be.data)):t.texImage2D(n.TEXTURE_2D,0,Mt,Be.width,Be.height,0,ut,_t,Be.data);else if(Y.isCompressedTexture)if(Y.isCompressedArrayTexture){Oe&&ft&&t.texStorage3D(n.TEXTURE_2D_ARRAY,st,Mt,oe[0].width,oe[0].height,Be.depth);for(let Ne=0,Ye=oe.length;Ne<Ye;Ne++)if(qe=oe[Ne],Y.format!==va)if(ut!==null)if(Oe){if(fe)if(Y.layerUpdates.size>0){const pt=kT(qe.width,qe.height,Y.format,Y.type);for(const mt of Y.layerUpdates){const Ot=qe.data.subarray(mt*pt/qe.data.BYTES_PER_ELEMENT,(mt+1)*pt/qe.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ne,0,0,mt,qe.width,qe.height,1,ut,Ot)}Y.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ne,0,0,0,qe.width,qe.height,Be.depth,ut,qe.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Ne,Mt,qe.width,qe.height,Be.depth,0,qe.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Oe?fe&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Ne,0,0,0,qe.width,qe.height,Be.depth,ut,_t,qe.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Ne,Mt,qe.width,qe.height,Be.depth,0,ut,_t,qe.data)}else{Oe&&ft&&t.texStorage2D(n.TEXTURE_2D,st,Mt,oe[0].width,oe[0].height);for(let Ne=0,Ye=oe.length;Ne<Ye;Ne++)qe=oe[Ne],Y.format!==va?ut!==null?Oe?fe&&t.compressedTexSubImage2D(n.TEXTURE_2D,Ne,0,0,qe.width,qe.height,ut,qe.data):t.compressedTexImage2D(n.TEXTURE_2D,Ne,Mt,qe.width,qe.height,0,qe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Oe?fe&&t.texSubImage2D(n.TEXTURE_2D,Ne,0,0,qe.width,qe.height,ut,_t,qe.data):t.texImage2D(n.TEXTURE_2D,Ne,Mt,qe.width,qe.height,0,ut,_t,qe.data)}else if(Y.isDataArrayTexture)if(Oe){if(ft&&t.texStorage3D(n.TEXTURE_2D_ARRAY,st,Mt,Be.width,Be.height,Be.depth),fe)if(Y.layerUpdates.size>0){const Ne=kT(Be.width,Be.height,Y.format,Y.type);for(const Ye of Y.layerUpdates){const pt=Be.data.subarray(Ye*Ne/Be.data.BYTES_PER_ELEMENT,(Ye+1)*Ne/Be.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Ye,Be.width,Be.height,1,ut,_t,pt)}Y.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Be.width,Be.height,Be.depth,ut,_t,Be.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,Mt,Be.width,Be.height,Be.depth,0,ut,_t,Be.data);else if(Y.isData3DTexture)Oe?(ft&&t.texStorage3D(n.TEXTURE_3D,st,Mt,Be.width,Be.height,Be.depth),fe&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Be.width,Be.height,Be.depth,ut,_t,Be.data)):t.texImage3D(n.TEXTURE_3D,0,Mt,Be.width,Be.height,Be.depth,0,ut,_t,Be.data);else if(Y.isFramebufferTexture){if(ft)if(Oe)t.texStorage2D(n.TEXTURE_2D,st,Mt,Be.width,Be.height);else{let Ne=Be.width,Ye=Be.height;for(let pt=0;pt<st;pt++)t.texImage2D(n.TEXTURE_2D,pt,Mt,Ne,Ye,0,ut,_t,null),Ne>>=1,Ye>>=1}}else if(oe.length>0){if(Oe&&ft){const Ne=Ae(oe[0]);t.texStorage2D(n.TEXTURE_2D,st,Mt,Ne.width,Ne.height)}for(let Ne=0,Ye=oe.length;Ne<Ye;Ne++)qe=oe[Ne],Oe?fe&&t.texSubImage2D(n.TEXTURE_2D,Ne,0,0,ut,_t,qe):t.texImage2D(n.TEXTURE_2D,Ne,Mt,ut,_t,qe);Y.generateMipmaps=!1}else if(Oe){if(ft){const Ne=Ae(Be);t.texStorage2D(n.TEXTURE_2D,st,Mt,Ne.width,Ne.height)}fe&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,ut,_t,Be)}else t.texImage2D(n.TEXTURE_2D,0,Mt,ut,_t,Be);M(Y)&&x(we),ct.__version=Le.version,Y.onUpdate&&Y.onUpdate(Y)}te.__version=Y.version}function se(te,Y,be){if(Y.image.length!==6)return;const we=he(te,Y),Xe=Y.source;t.bindTexture(n.TEXTURE_CUBE_MAP,te.__webglTexture,n.TEXTURE0+be);const Le=i.get(Xe);if(Xe.version!==Le.__version||we===!0){t.activeTexture(n.TEXTURE0+be);const ct=Pn.getPrimaries(Pn.workingColorSpace),at=Y.colorSpace===Wc?null:Pn.getPrimaries(Y.colorSpace),bt=Y.colorSpace===Wc||ct===at?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,Y.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,Y.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,bt);const St=Y.isCompressedTexture||Y.image[0].isCompressedTexture,Be=Y.image[0]&&Y.image[0].isDataTexture,ut=[];for(let Ye=0;Ye<6;Ye++)!St&&!Be?ut[Ye]=E(Y.image[Ye],!0,r.maxCubemapSize):ut[Ye]=Be?Y.image[Ye].image:Y.image[Ye],ut[Ye]=ot(Y,ut[Ye]);const _t=ut[0],Mt=a.convert(Y.format,Y.colorSpace),qe=a.convert(Y.type),oe=A(Y.internalFormat,Mt,qe,Y.colorSpace),Oe=Y.isVideoTexture!==!0,ft=Le.__version===void 0||we===!0,fe=Xe.dataReady;let st=O(Y,_t);le(n.TEXTURE_CUBE_MAP,Y);let Ne;if(St){Oe&&ft&&t.texStorage2D(n.TEXTURE_CUBE_MAP,st,oe,_t.width,_t.height);for(let Ye=0;Ye<6;Ye++){Ne=ut[Ye].mipmaps;for(let pt=0;pt<Ne.length;pt++){const mt=Ne[pt];Y.format!==va?Mt!==null?Oe?fe&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,pt,0,0,mt.width,mt.height,Mt,mt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,pt,oe,mt.width,mt.height,0,mt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Oe?fe&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,pt,0,0,mt.width,mt.height,Mt,qe,mt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,pt,oe,mt.width,mt.height,0,Mt,qe,mt.data)}}}else{if(Ne=Y.mipmaps,Oe&&ft){Ne.length>0&&st++;const Ye=Ae(ut[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,st,oe,Ye.width,Ye.height)}for(let Ye=0;Ye<6;Ye++)if(Be){Oe?fe&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,0,0,ut[Ye].width,ut[Ye].height,Mt,qe,ut[Ye].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,oe,ut[Ye].width,ut[Ye].height,0,Mt,qe,ut[Ye].data);for(let pt=0;pt<Ne.length;pt++){const Ot=Ne[pt].image[Ye].image;Oe?fe&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,pt+1,0,0,Ot.width,Ot.height,Mt,qe,Ot.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,pt+1,oe,Ot.width,Ot.height,0,Mt,qe,Ot.data)}}else{Oe?fe&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,0,0,Mt,qe,ut[Ye]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,oe,Mt,qe,ut[Ye]);for(let pt=0;pt<Ne.length;pt++){const mt=Ne[pt];Oe?fe&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,pt+1,0,0,Mt,qe,mt.image[Ye]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,pt+1,oe,Mt,qe,mt.image[Ye])}}}M(Y)&&x(n.TEXTURE_CUBE_MAP),Le.__version=Xe.version,Y.onUpdate&&Y.onUpdate(Y)}te.__version=Y.version}function me(te,Y,be,we,Xe,Le){const ct=a.convert(be.format,be.colorSpace),at=a.convert(be.type),bt=A(be.internalFormat,ct,at,be.colorSpace),St=i.get(Y),Be=i.get(be);if(Be.__renderTarget=Y,!St.__hasExternalTextures){const ut=Math.max(1,Y.width>>Le),_t=Math.max(1,Y.height>>Le);Xe===n.TEXTURE_3D||Xe===n.TEXTURE_2D_ARRAY?t.texImage3D(Xe,Le,bt,ut,_t,Y.depth,0,ct,at,null):t.texImage2D(Xe,Le,bt,ut,_t,0,ct,at,null)}t.bindFramebuffer(n.FRAMEBUFFER,te),ze(Y)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,we,Xe,Be.__webglTexture,0,Re(Y)):(Xe===n.TEXTURE_2D||Xe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Xe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,we,Xe,Be.__webglTexture,Le),t.bindFramebuffer(n.FRAMEBUFFER,null)}function xe(te,Y,be){if(n.bindRenderbuffer(n.RENDERBUFFER,te),Y.depthBuffer){const we=Y.depthTexture,Xe=we&&we.isDepthTexture?we.type:null,Le=T(Y.stencilBuffer,Xe),ct=Y.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,at=Re(Y);ze(Y)?c.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,at,Le,Y.width,Y.height):be?n.renderbufferStorageMultisample(n.RENDERBUFFER,at,Le,Y.width,Y.height):n.renderbufferStorage(n.RENDERBUFFER,Le,Y.width,Y.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,ct,n.RENDERBUFFER,te)}else{const we=Y.textures;for(let Xe=0;Xe<we.length;Xe++){const Le=we[Xe],ct=a.convert(Le.format,Le.colorSpace),at=a.convert(Le.type),bt=A(Le.internalFormat,ct,at,Le.colorSpace),St=Re(Y);be&&ze(Y)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,St,bt,Y.width,Y.height):ze(Y)?c.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,St,bt,Y.width,Y.height):n.renderbufferStorage(n.RENDERBUFFER,bt,Y.width,Y.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ke(te,Y){if(Y&&Y.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,te),!(Y.depthTexture&&Y.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const we=i.get(Y.depthTexture);we.__renderTarget=Y,(!we.__webglTexture||Y.depthTexture.image.width!==Y.width||Y.depthTexture.image.height!==Y.height)&&(Y.depthTexture.image.width=Y.width,Y.depthTexture.image.height=Y.height,Y.depthTexture.needsUpdate=!0),$(Y.depthTexture,0);const Xe=we.__webglTexture,Le=Re(Y);if(Y.depthTexture.format===Am)ze(Y)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Xe,0,Le):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Xe,0);else if(Y.depthTexture.format===wm)ze(Y)?c.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Xe,0,Le):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Xe,0);else throw new Error("Unknown depthTexture format")}function Qe(te){const Y=i.get(te),be=te.isWebGLCubeRenderTarget===!0;if(Y.__boundDepthTexture!==te.depthTexture){const we=te.depthTexture;if(Y.__depthDisposeCallback&&Y.__depthDisposeCallback(),we){const Xe=()=>{delete Y.__boundDepthTexture,delete Y.__depthDisposeCallback,we.removeEventListener("dispose",Xe)};we.addEventListener("dispose",Xe),Y.__depthDisposeCallback=Xe}Y.__boundDepthTexture=we}if(te.depthTexture&&!Y.__autoAllocateDepthBuffer){if(be)throw new Error("target.depthTexture not supported in Cube render targets");const we=te.texture.mipmaps;we&&we.length>0?ke(Y.__webglFramebuffer[0],te):ke(Y.__webglFramebuffer,te)}else if(be){Y.__webglDepthbuffer=[];for(let we=0;we<6;we++)if(t.bindFramebuffer(n.FRAMEBUFFER,Y.__webglFramebuffer[we]),Y.__webglDepthbuffer[we]===void 0)Y.__webglDepthbuffer[we]=n.createRenderbuffer(),xe(Y.__webglDepthbuffer[we],te,!1);else{const Xe=te.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Le=Y.__webglDepthbuffer[we];n.bindRenderbuffer(n.RENDERBUFFER,Le),n.framebufferRenderbuffer(n.FRAMEBUFFER,Xe,n.RENDERBUFFER,Le)}}else{const we=te.texture.mipmaps;if(we&&we.length>0?t.bindFramebuffer(n.FRAMEBUFFER,Y.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,Y.__webglFramebuffer),Y.__webglDepthbuffer===void 0)Y.__webglDepthbuffer=n.createRenderbuffer(),xe(Y.__webglDepthbuffer,te,!1);else{const Xe=te.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Le=Y.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Le),n.framebufferRenderbuffer(n.FRAMEBUFFER,Xe,n.RENDERBUFFER,Le)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ee(te,Y,be){const we=i.get(te);Y!==void 0&&me(we.__webglFramebuffer,te,te.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),be!==void 0&&Qe(te)}function Ge(te){const Y=te.texture,be=i.get(te),we=i.get(Y);te.addEventListener("dispose",z);const Xe=te.textures,Le=te.isWebGLCubeRenderTarget===!0,ct=Xe.length>1;if(ct||(we.__webglTexture===void 0&&(we.__webglTexture=n.createTexture()),we.__version=Y.version,o.memory.textures++),Le){be.__webglFramebuffer=[];for(let at=0;at<6;at++)if(Y.mipmaps&&Y.mipmaps.length>0){be.__webglFramebuffer[at]=[];for(let bt=0;bt<Y.mipmaps.length;bt++)be.__webglFramebuffer[at][bt]=n.createFramebuffer()}else be.__webglFramebuffer[at]=n.createFramebuffer()}else{if(Y.mipmaps&&Y.mipmaps.length>0){be.__webglFramebuffer=[];for(let at=0;at<Y.mipmaps.length;at++)be.__webglFramebuffer[at]=n.createFramebuffer()}else be.__webglFramebuffer=n.createFramebuffer();if(ct)for(let at=0,bt=Xe.length;at<bt;at++){const St=i.get(Xe[at]);St.__webglTexture===void 0&&(St.__webglTexture=n.createTexture(),o.memory.textures++)}if(te.samples>0&&ze(te)===!1){be.__webglMultisampledFramebuffer=n.createFramebuffer(),be.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,be.__webglMultisampledFramebuffer);for(let at=0;at<Xe.length;at++){const bt=Xe[at];be.__webglColorRenderbuffer[at]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,be.__webglColorRenderbuffer[at]);const St=a.convert(bt.format,bt.colorSpace),Be=a.convert(bt.type),ut=A(bt.internalFormat,St,Be,bt.colorSpace,te.isXRRenderTarget===!0),_t=Re(te);n.renderbufferStorageMultisample(n.RENDERBUFFER,_t,ut,te.width,te.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+at,n.RENDERBUFFER,be.__webglColorRenderbuffer[at])}n.bindRenderbuffer(n.RENDERBUFFER,null),te.depthBuffer&&(be.__webglDepthRenderbuffer=n.createRenderbuffer(),xe(be.__webglDepthRenderbuffer,te,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Le){t.bindTexture(n.TEXTURE_CUBE_MAP,we.__webglTexture),le(n.TEXTURE_CUBE_MAP,Y);for(let at=0;at<6;at++)if(Y.mipmaps&&Y.mipmaps.length>0)for(let bt=0;bt<Y.mipmaps.length;bt++)me(be.__webglFramebuffer[at][bt],te,Y,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+at,bt);else me(be.__webglFramebuffer[at],te,Y,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+at,0);M(Y)&&x(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ct){for(let at=0,bt=Xe.length;at<bt;at++){const St=Xe[at],Be=i.get(St);t.bindTexture(n.TEXTURE_2D,Be.__webglTexture),le(n.TEXTURE_2D,St),me(be.__webglFramebuffer,te,St,n.COLOR_ATTACHMENT0+at,n.TEXTURE_2D,0),M(St)&&x(n.TEXTURE_2D)}t.unbindTexture()}else{let at=n.TEXTURE_2D;if((te.isWebGL3DRenderTarget||te.isWebGLArrayRenderTarget)&&(at=te.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(at,we.__webglTexture),le(at,Y),Y.mipmaps&&Y.mipmaps.length>0)for(let bt=0;bt<Y.mipmaps.length;bt++)me(be.__webglFramebuffer[bt],te,Y,n.COLOR_ATTACHMENT0,at,bt);else me(be.__webglFramebuffer,te,Y,n.COLOR_ATTACHMENT0,at,0);M(Y)&&x(at),t.unbindTexture()}te.depthBuffer&&Qe(te)}function et(te){const Y=te.textures;for(let be=0,we=Y.length;be<we;be++){const Xe=Y[be];if(M(Xe)){const Le=D(te),ct=i.get(Xe).__webglTexture;t.bindTexture(Le,ct),x(Le),t.unbindTexture()}}}const nt=[],J=[];function We(te){if(te.samples>0){if(ze(te)===!1){const Y=te.textures,be=te.width,we=te.height;let Xe=n.COLOR_BUFFER_BIT;const Le=te.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ct=i.get(te),at=Y.length>1;if(at)for(let St=0;St<Y.length;St++)t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+St,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+St,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ct.__webglMultisampledFramebuffer);const bt=te.texture.mipmaps;bt&&bt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglFramebuffer);for(let St=0;St<Y.length;St++){if(te.resolveDepthBuffer&&(te.depthBuffer&&(Xe|=n.DEPTH_BUFFER_BIT),te.stencilBuffer&&te.resolveStencilBuffer&&(Xe|=n.STENCIL_BUFFER_BIT)),at){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ct.__webglColorRenderbuffer[St]);const Be=i.get(Y[St]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Be,0)}n.blitFramebuffer(0,0,be,we,0,0,be,we,Xe,n.NEAREST),f===!0&&(nt.length=0,J.length=0,nt.push(n.COLOR_ATTACHMENT0+St),te.depthBuffer&&te.resolveDepthBuffer===!1&&(nt.push(Le),J.push(Le),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,J)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,nt))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),at)for(let St=0;St<Y.length;St++){t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+St,n.RENDERBUFFER,ct.__webglColorRenderbuffer[St]);const Be=i.get(Y[St]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ct.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+St,n.TEXTURE_2D,Be,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ct.__webglMultisampledFramebuffer)}else if(te.depthBuffer&&te.resolveDepthBuffer===!1&&f){const Y=te.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Y])}}}function Re(te){return Math.min(r.maxSamples,te.samples)}function ze(te){const Y=i.get(te);return te.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Y.__useRenderToTexture!==!1}function ve(te){const Y=o.render.frame;m.get(te)!==Y&&(m.set(te,Y),te.update())}function ot(te,Y){const be=te.colorSpace,we=te.format,Xe=te.type;return te.isCompressedTexture===!0||te.isVideoTexture===!0||be!==bf&&be!==Wc&&(Pn.getTransfer(be)===ai?(we!==va||Xe!==xo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",be)),Y}function Ae(te){return typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement?(p.width=te.naturalWidth||te.width,p.height=te.naturalHeight||te.height):typeof VideoFrame<"u"&&te instanceof VideoFrame?(p.width=te.displayWidth,p.height=te.displayHeight):(p.width=te.width,p.height=te.height),p}this.allocateTextureUnit=V,this.resetTextureUnits=H,this.setTexture2D=$,this.setTexture2DArray=B,this.setTexture3D=j,this.setTextureCube=q,this.rebindTextures=Ee,this.setupRenderTarget=Ge,this.updateRenderTargetMipmap=et,this.updateMultisampleRenderTarget=We,this.setupDepthRenderbuffer=Qe,this.setupFrameBufferTexture=me,this.useMultisampledRTT=ze}function iU(n,e){function t(i,r=Wc){let a;const o=Pn.getTransfer(r);if(i===xo)return n.UNSIGNED_BYTE;if(i===Y_)return n.UNSIGNED_SHORT_4_4_4_4;if(i===$_)return n.UNSIGNED_SHORT_5_5_5_1;if(i===kA)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===HA)return n.BYTE;if(i===VA)return n.SHORT;if(i===Em)return n.UNSIGNED_SHORT;if(i===X_)return n.INT;if(i===iu)return n.UNSIGNED_INT;if(i===ds)return n.FLOAT;if(i===Vm)return n.HALF_FLOAT;if(i===GA)return n.ALPHA;if(i===qA)return n.RGB;if(i===va)return n.RGBA;if(i===Am)return n.DEPTH_COMPONENT;if(i===wm)return n.DEPTH_STENCIL;if(i===Q_)return n.RED;if(i===Qv)return n.RED_INTEGER;if(i===jA)return n.RG;if(i===K_)return n.RG_INTEGER;if(i===Z_)return n.RGBA_INTEGER;if(i===Qy||i===Ky||i===Zy||i===Jy)if(o===ai)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(i===Qy)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Ky)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Zy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Jy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(i===Qy)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Ky)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Zy)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Jy)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===FS||i===HS||i===VS||i===kS)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(i===FS)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===HS)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===VS)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===kS)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===GS||i===qS||i===jS)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(i===GS||i===qS)return o===ai?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(i===jS)return o===ai?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===WS||i===XS||i===YS||i===$S||i===QS||i===KS||i===ZS||i===JS||i===e_||i===t_||i===n_||i===i_||i===r_||i===a_)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(i===WS)return o===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===XS)return o===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===YS)return o===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===$S)return o===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===QS)return o===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===KS)return o===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===ZS)return o===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===JS)return o===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===e_)return o===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===t_)return o===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===n_)return o===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===i_)return o===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===r_)return o===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===a_)return o===ai?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===ev||i===s_||i===o_)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(i===ev)return o===ai?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===s_)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===o_)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===WA||i===l_||i===c_||i===u_)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(i===ev)return a.COMPRESSED_RED_RGTC1_EXT;if(i===l_)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===c_)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===u_)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Tm?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const K8=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Z8=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class J8{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new ji,a=e.properties.get(r);a.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new So({vertexShader:K8,fragmentShader:Z8,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new pr(new Gm(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class eG extends uc{constructor(e,t){super();const i=this;let r=null,a=1,o=null,c="local-floor",f=1,p=null,m=null,g=null,y=null,b=null,_=null;const E=new J8,M=t.getContextAttributes();let x=null,D=null;const A=[],T=[],O=new Je;let N=null;const z=new Ji;z.viewport=new zn;const F=new Ji;F.viewport=new zn;const P=[z,F],w=new WP;let L=null,H=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ae){let se=A[ae];return se===void 0&&(se=new gS,A[ae]=se),se.getTargetRaySpace()},this.getControllerGrip=function(ae){let se=A[ae];return se===void 0&&(se=new gS,A[ae]=se),se.getGripSpace()},this.getHand=function(ae){let se=A[ae];return se===void 0&&(se=new gS,A[ae]=se),se.getHandSpace()};function V(ae){const se=T.indexOf(ae.inputSource);if(se===-1)return;const me=A[se];me!==void 0&&(me.update(ae.inputSource,ae.frame,p||o),me.dispatchEvent({type:ae.type,data:ae.inputSource}))}function G(){r.removeEventListener("select",V),r.removeEventListener("selectstart",V),r.removeEventListener("selectend",V),r.removeEventListener("squeeze",V),r.removeEventListener("squeezestart",V),r.removeEventListener("squeezeend",V),r.removeEventListener("end",G),r.removeEventListener("inputsourceschange",$);for(let ae=0;ae<A.length;ae++){const se=T[ae];se!==null&&(T[ae]=null,A[ae].disconnect(se))}L=null,H=null,E.reset(),e.setRenderTarget(x),b=null,y=null,g=null,r=null,D=null,he.stop(),i.isPresenting=!1,e.setPixelRatio(N),e.setSize(O.width,O.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ae){a=ae,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ae){c=ae,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||o},this.setReferenceSpace=function(ae){p=ae},this.getBaseLayer=function(){return y!==null?y:b},this.getBinding=function(){return g},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(ae){if(r=ae,r!==null){if(x=e.getRenderTarget(),r.addEventListener("select",V),r.addEventListener("selectstart",V),r.addEventListener("selectend",V),r.addEventListener("squeeze",V),r.addEventListener("squeezestart",V),r.addEventListener("squeezeend",V),r.addEventListener("end",G),r.addEventListener("inputsourceschange",$),M.xrCompatible!==!0&&await t.makeXRCompatible(),N=e.getPixelRatio(),e.getSize(O),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let me=null,xe=null,ke=null;M.depth&&(ke=M.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,me=M.stencil?wm:Am,xe=M.stencil?Tm:iu);const Qe={colorFormat:t.RGBA8,depthFormat:ke,scaleFactor:a};g=new XRWebGLBinding(r,t),y=g.createProjectionLayer(Qe),r.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),D=new ic(y.textureWidth,y.textureHeight,{format:va,type:xo,depthTexture:new c1(y.textureWidth,y.textureHeight,xe,void 0,void 0,void 0,void 0,void 0,void 0,me),stencilBuffer:M.stencil,colorSpace:e.outputColorSpace,samples:M.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const me={antialias:M.antialias,alpha:!0,depth:M.depth,stencil:M.stencil,framebufferScaleFactor:a};b=new XRWebGLLayer(r,t,me),r.updateRenderState({baseLayer:b}),e.setPixelRatio(1),e.setSize(b.framebufferWidth,b.framebufferHeight,!1),D=new ic(b.framebufferWidth,b.framebufferHeight,{format:va,type:xo,colorSpace:e.outputColorSpace,stencilBuffer:M.stencil,resolveDepthBuffer:b.ignoreDepthValues===!1,resolveStencilBuffer:b.ignoreDepthValues===!1})}D.isXRRenderTarget=!0,this.setFoveation(f),p=null,o=await r.requestReferenceSpace(c),he.setContext(r),he.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return E.getDepthTexture()};function $(ae){for(let se=0;se<ae.removed.length;se++){const me=ae.removed[se],xe=T.indexOf(me);xe>=0&&(T[xe]=null,A[xe].disconnect(me))}for(let se=0;se<ae.added.length;se++){const me=ae.added[se];let xe=T.indexOf(me);if(xe===-1){for(let Qe=0;Qe<A.length;Qe++)if(Qe>=T.length){T.push(me),xe=Qe;break}else if(T[Qe]===null){T[Qe]=me,xe=Qe;break}if(xe===-1)break}const ke=A[xe];ke&&ke.connect(me)}}const B=new re,j=new re;function q(ae,se,me){B.setFromMatrixPosition(se.matrixWorld),j.setFromMatrixPosition(me.matrixWorld);const xe=B.distanceTo(j),ke=se.projectionMatrix.elements,Qe=me.projectionMatrix.elements,Ee=ke[14]/(ke[10]-1),Ge=ke[14]/(ke[10]+1),et=(ke[9]+1)/ke[5],nt=(ke[9]-1)/ke[5],J=(ke[8]-1)/ke[0],We=(Qe[8]+1)/Qe[0],Re=Ee*J,ze=Ee*We,ve=xe/(-J+We),ot=ve*-J;if(se.matrixWorld.decompose(ae.position,ae.quaternion,ae.scale),ae.translateX(ot),ae.translateZ(ve),ae.matrixWorld.compose(ae.position,ae.quaternion,ae.scale),ae.matrixWorldInverse.copy(ae.matrixWorld).invert(),ke[10]===-1)ae.projectionMatrix.copy(se.projectionMatrix),ae.projectionMatrixInverse.copy(se.projectionMatrixInverse);else{const Ae=Ee+ve,te=Ge+ve,Y=Re-ot,be=ze+(xe-ot),we=et*Ge/te*Ae,Xe=nt*Ge/te*Ae;ae.projectionMatrix.makePerspective(Y,be,we,Xe,Ae,te),ae.projectionMatrixInverse.copy(ae.projectionMatrix).invert()}}function Q(ae,se){se===null?ae.matrixWorld.copy(ae.matrix):ae.matrixWorld.multiplyMatrices(se.matrixWorld,ae.matrix),ae.matrixWorldInverse.copy(ae.matrixWorld).invert()}this.updateCamera=function(ae){if(r===null)return;let se=ae.near,me=ae.far;E.texture!==null&&(E.depthNear>0&&(se=E.depthNear),E.depthFar>0&&(me=E.depthFar)),w.near=F.near=z.near=se,w.far=F.far=z.far=me,(L!==w.near||H!==w.far)&&(r.updateRenderState({depthNear:w.near,depthFar:w.far}),L=w.near,H=w.far),z.layers.mask=ae.layers.mask|2,F.layers.mask=ae.layers.mask|4,w.layers.mask=z.layers.mask|F.layers.mask;const xe=ae.parent,ke=w.cameras;Q(w,xe);for(let Qe=0;Qe<ke.length;Qe++)Q(ke[Qe],xe);ke.length===2?q(w,z,F):w.projectionMatrix.copy(z.projectionMatrix),W(ae,w,xe)};function W(ae,se,me){me===null?ae.matrix.copy(se.matrixWorld):(ae.matrix.copy(me.matrixWorld),ae.matrix.invert(),ae.matrix.multiply(se.matrixWorld)),ae.matrix.decompose(ae.position,ae.quaternion,ae.scale),ae.updateMatrixWorld(!0),ae.projectionMatrix.copy(se.projectionMatrix),ae.projectionMatrixInverse.copy(se.projectionMatrixInverse),ae.isPerspectiveCamera&&(ae.fov=Cm*2*Math.atan(1/ae.projectionMatrix.elements[5]),ae.zoom=1)}this.getCamera=function(){return w},this.getFoveation=function(){if(!(y===null&&b===null))return f},this.setFoveation=function(ae){f=ae,y!==null&&(y.fixedFoveation=ae),b!==null&&b.fixedFoveation!==void 0&&(b.fixedFoveation=ae)},this.hasDepthSensing=function(){return E.texture!==null},this.getDepthSensingMesh=function(){return E.getMesh(w)};let ie=null;function le(ae,se){if(m=se.getViewerPose(p||o),_=se,m!==null){const me=m.views;b!==null&&(e.setRenderTargetFramebuffer(D,b.framebuffer),e.setRenderTarget(D));let xe=!1;me.length!==w.cameras.length&&(w.cameras.length=0,xe=!0);for(let Ee=0;Ee<me.length;Ee++){const Ge=me[Ee];let et=null;if(b!==null)et=b.getViewport(Ge);else{const J=g.getViewSubImage(y,Ge);et=J.viewport,Ee===0&&(e.setRenderTargetTextures(D,J.colorTexture,J.depthStencilTexture),e.setRenderTarget(D))}let nt=P[Ee];nt===void 0&&(nt=new Ji,nt.layers.enable(Ee),nt.viewport=new zn,P[Ee]=nt),nt.matrix.fromArray(Ge.transform.matrix),nt.matrix.decompose(nt.position,nt.quaternion,nt.scale),nt.projectionMatrix.fromArray(Ge.projectionMatrix),nt.projectionMatrixInverse.copy(nt.projectionMatrix).invert(),nt.viewport.set(et.x,et.y,et.width,et.height),Ee===0&&(w.matrix.copy(nt.matrix),w.matrix.decompose(w.position,w.quaternion,w.scale)),xe===!0&&w.cameras.push(nt)}const ke=r.enabledFeatures;if(ke&&ke.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&g){const Ee=g.getDepthInformation(me[0]);Ee&&Ee.isValid&&Ee.texture&&E.init(e,Ee,r.renderState)}}for(let me=0;me<A.length;me++){const xe=T[me],ke=A[me];xe!==null&&ke!==void 0&&ke.update(xe,se,p||o)}ie&&ie(ae,se),se.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:se}),_=null}const he=new ZP;he.setAnimationLoop(le),this.setAnimationLoop=function(ae){ie=ae},this.dispose=function(){}}}const Nd=new zs,tG=new Xt;function nG(n,e){function t(M,x){M.matrixAutoUpdate===!0&&M.updateMatrix(),x.value.copy(M.matrix)}function i(M,x){x.color.getRGB(M.fogColor.value,ZN(n)),x.isFog?(M.fogNear.value=x.near,M.fogFar.value=x.far):x.isFogExp2&&(M.fogDensity.value=x.density)}function r(M,x,D,A,T){x.isMeshBasicMaterial||x.isMeshLambertMaterial?a(M,x):x.isMeshToonMaterial?(a(M,x),g(M,x)):x.isMeshPhongMaterial?(a(M,x),m(M,x)):x.isMeshStandardMaterial?(a(M,x),y(M,x),x.isMeshPhysicalMaterial&&b(M,x,T)):x.isMeshMatcapMaterial?(a(M,x),_(M,x)):x.isMeshDepthMaterial?a(M,x):x.isMeshDistanceMaterial?(a(M,x),E(M,x)):x.isMeshNormalMaterial?a(M,x):x.isLineBasicMaterial?(o(M,x),x.isLineDashedMaterial&&c(M,x)):x.isPointsMaterial?f(M,x,D,A):x.isSpriteMaterial?p(M,x):x.isShadowMaterial?(M.color.value.copy(x.color),M.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function a(M,x){M.opacity.value=x.opacity,x.color&&M.diffuse.value.copy(x.color),x.emissive&&M.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(M.map.value=x.map,t(x.map,M.mapTransform)),x.alphaMap&&(M.alphaMap.value=x.alphaMap,t(x.alphaMap,M.alphaMapTransform)),x.bumpMap&&(M.bumpMap.value=x.bumpMap,t(x.bumpMap,M.bumpMapTransform),M.bumpScale.value=x.bumpScale,x.side===ba&&(M.bumpScale.value*=-1)),x.normalMap&&(M.normalMap.value=x.normalMap,t(x.normalMap,M.normalMapTransform),M.normalScale.value.copy(x.normalScale),x.side===ba&&M.normalScale.value.negate()),x.displacementMap&&(M.displacementMap.value=x.displacementMap,t(x.displacementMap,M.displacementMapTransform),M.displacementScale.value=x.displacementScale,M.displacementBias.value=x.displacementBias),x.emissiveMap&&(M.emissiveMap.value=x.emissiveMap,t(x.emissiveMap,M.emissiveMapTransform)),x.specularMap&&(M.specularMap.value=x.specularMap,t(x.specularMap,M.specularMapTransform)),x.alphaTest>0&&(M.alphaTest.value=x.alphaTest);const D=e.get(x),A=D.envMap,T=D.envMapRotation;A&&(M.envMap.value=A,Nd.copy(T),Nd.x*=-1,Nd.y*=-1,Nd.z*=-1,A.isCubeTexture&&A.isRenderTargetTexture===!1&&(Nd.y*=-1,Nd.z*=-1),M.envMapRotation.value.setFromMatrix4(tG.makeRotationFromEuler(Nd)),M.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,M.reflectivity.value=x.reflectivity,M.ior.value=x.ior,M.refractionRatio.value=x.refractionRatio),x.lightMap&&(M.lightMap.value=x.lightMap,M.lightMapIntensity.value=x.lightMapIntensity,t(x.lightMap,M.lightMapTransform)),x.aoMap&&(M.aoMap.value=x.aoMap,M.aoMapIntensity.value=x.aoMapIntensity,t(x.aoMap,M.aoMapTransform))}function o(M,x){M.diffuse.value.copy(x.color),M.opacity.value=x.opacity,x.map&&(M.map.value=x.map,t(x.map,M.mapTransform))}function c(M,x){M.dashSize.value=x.dashSize,M.totalSize.value=x.dashSize+x.gapSize,M.scale.value=x.scale}function f(M,x,D,A){M.diffuse.value.copy(x.color),M.opacity.value=x.opacity,M.size.value=x.size*D,M.scale.value=A*.5,x.map&&(M.map.value=x.map,t(x.map,M.uvTransform)),x.alphaMap&&(M.alphaMap.value=x.alphaMap,t(x.alphaMap,M.alphaMapTransform)),x.alphaTest>0&&(M.alphaTest.value=x.alphaTest)}function p(M,x){M.diffuse.value.copy(x.color),M.opacity.value=x.opacity,M.rotation.value=x.rotation,x.map&&(M.map.value=x.map,t(x.map,M.mapTransform)),x.alphaMap&&(M.alphaMap.value=x.alphaMap,t(x.alphaMap,M.alphaMapTransform)),x.alphaTest>0&&(M.alphaTest.value=x.alphaTest)}function m(M,x){M.specular.value.copy(x.specular),M.shininess.value=Math.max(x.shininess,1e-4)}function g(M,x){x.gradientMap&&(M.gradientMap.value=x.gradientMap)}function y(M,x){M.metalness.value=x.metalness,x.metalnessMap&&(M.metalnessMap.value=x.metalnessMap,t(x.metalnessMap,M.metalnessMapTransform)),M.roughness.value=x.roughness,x.roughnessMap&&(M.roughnessMap.value=x.roughnessMap,t(x.roughnessMap,M.roughnessMapTransform)),x.envMap&&(M.envMapIntensity.value=x.envMapIntensity)}function b(M,x,D){M.ior.value=x.ior,x.sheen>0&&(M.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),M.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(M.sheenColorMap.value=x.sheenColorMap,t(x.sheenColorMap,M.sheenColorMapTransform)),x.sheenRoughnessMap&&(M.sheenRoughnessMap.value=x.sheenRoughnessMap,t(x.sheenRoughnessMap,M.sheenRoughnessMapTransform))),x.clearcoat>0&&(M.clearcoat.value=x.clearcoat,M.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(M.clearcoatMap.value=x.clearcoatMap,t(x.clearcoatMap,M.clearcoatMapTransform)),x.clearcoatRoughnessMap&&(M.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap,t(x.clearcoatRoughnessMap,M.clearcoatRoughnessMapTransform)),x.clearcoatNormalMap&&(M.clearcoatNormalMap.value=x.clearcoatNormalMap,t(x.clearcoatNormalMap,M.clearcoatNormalMapTransform),M.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),x.side===ba&&M.clearcoatNormalScale.value.negate())),x.dispersion>0&&(M.dispersion.value=x.dispersion),x.iridescence>0&&(M.iridescence.value=x.iridescence,M.iridescenceIOR.value=x.iridescenceIOR,M.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],M.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(M.iridescenceMap.value=x.iridescenceMap,t(x.iridescenceMap,M.iridescenceMapTransform)),x.iridescenceThicknessMap&&(M.iridescenceThicknessMap.value=x.iridescenceThicknessMap,t(x.iridescenceThicknessMap,M.iridescenceThicknessMapTransform))),x.transmission>0&&(M.transmission.value=x.transmission,M.transmissionSamplerMap.value=D.texture,M.transmissionSamplerSize.value.set(D.width,D.height),x.transmissionMap&&(M.transmissionMap.value=x.transmissionMap,t(x.transmissionMap,M.transmissionMapTransform)),M.thickness.value=x.thickness,x.thicknessMap&&(M.thicknessMap.value=x.thicknessMap,t(x.thicknessMap,M.thicknessMapTransform)),M.attenuationDistance.value=x.attenuationDistance,M.attenuationColor.value.copy(x.attenuationColor)),x.anisotropy>0&&(M.anisotropyVector.value.set(x.anisotropy*Math.cos(x.anisotropyRotation),x.anisotropy*Math.sin(x.anisotropyRotation)),x.anisotropyMap&&(M.anisotropyMap.value=x.anisotropyMap,t(x.anisotropyMap,M.anisotropyMapTransform))),M.specularIntensity.value=x.specularIntensity,M.specularColor.value.copy(x.specularColor),x.specularColorMap&&(M.specularColorMap.value=x.specularColorMap,t(x.specularColorMap,M.specularColorMapTransform)),x.specularIntensityMap&&(M.specularIntensityMap.value=x.specularIntensityMap,t(x.specularIntensityMap,M.specularIntensityMapTransform))}function _(M,x){x.matcap&&(M.matcap.value=x.matcap)}function E(M,x){const D=e.get(x).light;M.referencePosition.value.setFromMatrixPosition(D.matrixWorld),M.nearDistance.value=D.shadow.camera.near,M.farDistance.value=D.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function iG(n,e,t,i){let r={},a={},o=[];const c=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function f(D,A){const T=A.program;i.uniformBlockBinding(D,T)}function p(D,A){let T=r[D.id];T===void 0&&(_(D),T=m(D),r[D.id]=T,D.addEventListener("dispose",M));const O=A.program;i.updateUBOMapping(D,O);const N=e.render.frame;a[D.id]!==N&&(y(D),a[D.id]=N)}function m(D){const A=g();D.__bindingPointIndex=A;const T=n.createBuffer(),O=D.__size,N=D.usage;return n.bindBuffer(n.UNIFORM_BUFFER,T),n.bufferData(n.UNIFORM_BUFFER,O,N),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,A,T),T}function g(){for(let D=0;D<c;D++)if(o.indexOf(D)===-1)return o.push(D),D;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(D){const A=r[D.id],T=D.uniforms,O=D.__cache;n.bindBuffer(n.UNIFORM_BUFFER,A);for(let N=0,z=T.length;N<z;N++){const F=Array.isArray(T[N])?T[N]:[T[N]];for(let P=0,w=F.length;P<w;P++){const L=F[P];if(b(L,N,P,O)===!0){const H=L.__offset,V=Array.isArray(L.value)?L.value:[L.value];let G=0;for(let $=0;$<V.length;$++){const B=V[$],j=E(B);typeof B=="number"||typeof B=="boolean"?(L.__data[0]=B,n.bufferSubData(n.UNIFORM_BUFFER,H+G,L.__data)):B.isMatrix3?(L.__data[0]=B.elements[0],L.__data[1]=B.elements[1],L.__data[2]=B.elements[2],L.__data[3]=0,L.__data[4]=B.elements[3],L.__data[5]=B.elements[4],L.__data[6]=B.elements[5],L.__data[7]=0,L.__data[8]=B.elements[6],L.__data[9]=B.elements[7],L.__data[10]=B.elements[8],L.__data[11]=0):(B.toArray(L.__data,G),G+=j.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,H,L.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function b(D,A,T,O){const N=D.value,z=A+"_"+T;if(O[z]===void 0)return typeof N=="number"||typeof N=="boolean"?O[z]=N:O[z]=N.clone(),!0;{const F=O[z];if(typeof N=="number"||typeof N=="boolean"){if(F!==N)return O[z]=N,!0}else if(F.equals(N)===!1)return F.copy(N),!0}return!1}function _(D){const A=D.uniforms;let T=0;const O=16;for(let z=0,F=A.length;z<F;z++){const P=Array.isArray(A[z])?A[z]:[A[z]];for(let w=0,L=P.length;w<L;w++){const H=P[w],V=Array.isArray(H.value)?H.value:[H.value];for(let G=0,$=V.length;G<$;G++){const B=V[G],j=E(B),q=T%O,Q=q%j.boundary,W=q+Q;T+=Q,W!==0&&O-W<j.storage&&(T+=O-W),H.__data=new Float32Array(j.storage/Float32Array.BYTES_PER_ELEMENT),H.__offset=T,T+=j.storage}}}const N=T%O;return N>0&&(T+=O-N),D.__size=T,D.__cache={},this}function E(D){const A={boundary:0,storage:0};return typeof D=="number"||typeof D=="boolean"?(A.boundary=4,A.storage=4):D.isVector2?(A.boundary=8,A.storage=8):D.isVector3||D.isColor?(A.boundary=16,A.storage=12):D.isVector4?(A.boundary=16,A.storage=16):D.isMatrix3?(A.boundary=48,A.storage=48):D.isMatrix4?(A.boundary=64,A.storage=64):D.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",D),A}function M(D){const A=D.target;A.removeEventListener("dispose",M);const T=o.indexOf(A.__bindingPointIndex);o.splice(T,1),n.deleteBuffer(r[A.id]),delete r[A.id],delete a[A.id]}function x(){for(const D in r)n.deleteBuffer(r[D]);o=[],r={},a={}}return{bind:f,update:p,dispose:x}}class rU{constructor(e={}){const{canvas:t=$N(),context:i=null,depth:r=!0,stencil:a=!1,alpha:o=!1,antialias:c=!1,premultipliedAlpha:f=!0,preserveDrawingBuffer:p=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1,reverseDepthBuffer:y=!1}=e;this.isWebGLRenderer=!0;let b;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");b=i.getContextAttributes().alpha}else b=o;const _=new Uint32Array(4),E=new Int32Array(4);let M=null,x=null;const D=[],A=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Jl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const T=this;let O=!1;this._outputColorSpace=$r;let N=0,z=0,F=null,P=-1,w=null;const L=new zn,H=new zn;let V=null;const G=new Rt(0);let $=0,B=t.width,j=t.height,q=1,Q=null,W=null;const ie=new zn(0,0,B,j),le=new zn(0,0,B,j);let he=!1;const ae=new km;let se=!1,me=!1;const xe=new Xt,ke=new Xt,Qe=new re,Ee=new zn,Ge={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let et=!1;function nt(){return F===null?q:1}let J=i;function We(Z,de){return t.getContext(Z,de)}try{const Z={alpha:!0,depth:r,stencil:a,antialias:c,premultipliedAlpha:f,preserveDrawingBuffer:p,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Yv}`),t.addEventListener("webglcontextlost",Ye,!1),t.addEventListener("webglcontextrestored",pt,!1),t.addEventListener("webglcontextcreationerror",mt,!1),J===null){const de="webgl2";if(J=We(de,Z),J===null)throw We(de)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Z){throw console.error("THREE.WebGLRenderer: "+Z.message),Z}let Re,ze,ve,ot,Ae,te,Y,be,we,Xe,Le,ct,at,bt,St,Be,ut,_t,Mt,qe,oe,Oe,ft,fe;function st(){Re=new mk(J),Re.init(),Oe=new iU(J,Re),ze=new lk(J,Re,e,Oe),ve=new $8(J,Re),ze.reverseDepthBuffer&&y&&ve.buffers.depth.setReversed(!0),ot=new vk(J),Ae=new I8,te=new Q8(J,Re,ve,Ae,ze,Oe,ot),Y=new uk(T),be=new pk(T),we=new EH(J),ft=new sk(J,we),Xe=new gk(J,we,ot,ft),Le=new xk(J,Xe,we,ot),Mt=new bk(J,ze,te),Be=new ck(Ae),ct=new L8(T,Y,be,Re,ze,ft,Be),at=new nG(T,Ae),bt=new B8,St=new q8(Re),_t=new ak(T,Y,be,ve,Le,b,f),ut=new X8(T,Le,ze),fe=new iG(J,ot,ze,ve),qe=new ok(J,Re,ot),oe=new yk(J,Re,ot),ot.programs=ct.programs,T.capabilities=ze,T.extensions=Re,T.properties=Ae,T.renderLists=bt,T.shadowMap=ut,T.state=ve,T.info=ot}st();const Ne=new eG(T,J);this.xr=Ne,this.getContext=function(){return J},this.getContextAttributes=function(){return J.getContextAttributes()},this.forceContextLoss=function(){const Z=Re.get("WEBGL_lose_context");Z&&Z.loseContext()},this.forceContextRestore=function(){const Z=Re.get("WEBGL_lose_context");Z&&Z.restoreContext()},this.getPixelRatio=function(){return q},this.setPixelRatio=function(Z){Z!==void 0&&(q=Z,this.setSize(B,j,!1))},this.getSize=function(Z){return Z.set(B,j)},this.setSize=function(Z,de,Te=!0){if(Ne.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}B=Z,j=de,t.width=Math.floor(Z*q),t.height=Math.floor(de*q),Te===!0&&(t.style.width=Z+"px",t.style.height=de+"px"),this.setViewport(0,0,Z,de)},this.getDrawingBufferSize=function(Z){return Z.set(B*q,j*q).floor()},this.setDrawingBufferSize=function(Z,de,Te){B=Z,j=de,q=Te,t.width=Math.floor(Z*Te),t.height=Math.floor(de*Te),this.setViewport(0,0,Z,de)},this.getCurrentViewport=function(Z){return Z.copy(L)},this.getViewport=function(Z){return Z.copy(ie)},this.setViewport=function(Z,de,Te,De){Z.isVector4?ie.set(Z.x,Z.y,Z.z,Z.w):ie.set(Z,de,Te,De),ve.viewport(L.copy(ie).multiplyScalar(q).round())},this.getScissor=function(Z){return Z.copy(le)},this.setScissor=function(Z,de,Te,De){Z.isVector4?le.set(Z.x,Z.y,Z.z,Z.w):le.set(Z,de,Te,De),ve.scissor(H.copy(le).multiplyScalar(q).round())},this.getScissorTest=function(){return he},this.setScissorTest=function(Z){ve.setScissorTest(he=Z)},this.setOpaqueSort=function(Z){Q=Z},this.setTransparentSort=function(Z){W=Z},this.getClearColor=function(Z){return Z.copy(_t.getClearColor())},this.setClearColor=function(){_t.setClearColor(...arguments)},this.getClearAlpha=function(){return _t.getClearAlpha()},this.setClearAlpha=function(){_t.setClearAlpha(...arguments)},this.clear=function(Z=!0,de=!0,Te=!0){let De=0;if(Z){let Se=!1;if(F!==null){const rt=F.texture.format;Se=rt===Z_||rt===K_||rt===Qv}if(Se){const rt=F.texture.type,gt=rt===xo||rt===iu||rt===Em||rt===Tm||rt===Y_||rt===$_,yt=_t.getClearColor(),Tt=_t.getClearAlpha(),vt=yt.r,Pt=yt.g,Dt=yt.b;gt?(_[0]=vt,_[1]=Pt,_[2]=Dt,_[3]=Tt,J.clearBufferuiv(J.COLOR,0,_)):(E[0]=vt,E[1]=Pt,E[2]=Dt,E[3]=Tt,J.clearBufferiv(J.COLOR,0,E))}else De|=J.COLOR_BUFFER_BIT}de&&(De|=J.DEPTH_BUFFER_BIT),Te&&(De|=J.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),J.clear(De)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ye,!1),t.removeEventListener("webglcontextrestored",pt,!1),t.removeEventListener("webglcontextcreationerror",mt,!1),_t.dispose(),bt.dispose(),St.dispose(),Ae.dispose(),Y.dispose(),be.dispose(),Le.dispose(),ft.dispose(),fe.dispose(),ct.dispose(),Ne.dispose(),Ne.removeEventListener("sessionstart",Qn),Ne.removeEventListener("sessionend",di),Ei.stop()};function Ye(Z){Z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function pt(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1;const Z=ot.autoReset,de=ut.enabled,Te=ut.autoUpdate,De=ut.needsUpdate,Se=ut.type;st(),ot.autoReset=Z,ut.enabled=de,ut.autoUpdate=Te,ut.needsUpdate=De,ut.type=Se}function mt(Z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Z.statusMessage)}function Ot(Z){const de=Z.target;de.removeEventListener("dispose",Ot),Zt(de)}function Zt(Z){Sn(Z),Ae.remove(Z)}function Sn(Z){const de=Ae.get(Z).programs;de!==void 0&&(de.forEach(function(Te){ct.releaseProgram(Te)}),Z.isShaderMaterial&&ct.releaseShaderCache(Z))}this.renderBufferDirect=function(Z,de,Te,De,Se,rt){de===null&&(de=Ge);const gt=Se.isMesh&&Se.matrixWorld.determinant()<0,yt=ia(Z,de,Te,De,Se);ve.setMaterial(De,gt);let Tt=Te.index,vt=1;if(De.wireframe===!0){if(Tt=Xe.getWireframeAttribute(Te),Tt===void 0)return;vt=2}const Pt=Te.drawRange,Dt=Te.attributes.position;let Jt=Pt.start*vt,On=(Pt.start+Pt.count)*vt;rt!==null&&(Jt=Math.max(Jt,rt.start*vt),On=Math.min(On,(rt.start+rt.count)*vt)),Tt!==null?(Jt=Math.max(Jt,0),On=Math.min(On,Tt.count)):Dt!=null&&(Jt=Math.max(Jt,0),On=Math.min(On,Dt.count));const bi=On-Jt;if(bi<0||bi===1/0)return;ft.setup(Se,De,yt,Te,Tt);let gn,vn=qe;if(Tt!==null&&(gn=we.get(Tt),vn=oe,vn.setIndex(gn)),Se.isMesh)De.wireframe===!0?(ve.setLineWidth(De.wireframeLinewidth*nt()),vn.setMode(J.LINES)):vn.setMode(J.TRIANGLES);else if(Se.isLine){let Bt=De.linewidth;Bt===void 0&&(Bt=1),ve.setLineWidth(Bt*nt()),Se.isLineSegments?vn.setMode(J.LINES):Se.isLineLoop?vn.setMode(J.LINE_LOOP):vn.setMode(J.LINE_STRIP)}else Se.isPoints?vn.setMode(J.POINTS):Se.isSprite&&vn.setMode(J.TRIANGLES);if(Se.isBatchedMesh)if(Se._multiDrawInstances!==null)mS("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),vn.renderMultiDrawInstances(Se._multiDrawStarts,Se._multiDrawCounts,Se._multiDrawCount,Se._multiDrawInstances);else if(Re.get("WEBGL_multi_draw"))vn.renderMultiDraw(Se._multiDrawStarts,Se._multiDrawCounts,Se._multiDrawCount);else{const Bt=Se._multiDrawStarts,Si=Se._multiDrawCounts,An=Se._multiDrawCount,gr=Tt?we.get(Tt).bytesPerElement:1,Gs=Ae.get(De).currentProgram.getUniforms();for(let ei=0;ei<An;ei++)Gs.setValue(J,"_gl_DrawID",ei),vn.render(Bt[ei]/gr,Si[ei])}else if(Se.isInstancedMesh)vn.renderInstances(Jt,bi,Se.count);else if(Te.isInstancedBufferGeometry){const Bt=Te._maxInstanceCount!==void 0?Te._maxInstanceCount:1/0,Si=Math.min(Te.instanceCount,Bt);vn.renderInstances(Jt,bi,Si)}else vn.render(Jt,bi)};function qt(Z,de,Te){Z.transparent===!0&&Z.side===il&&Z.forceSinglePass===!1?(Z.side=ba,Z.needsUpdate=!0,Qt(Z,de,Te),Z.side=tu,Z.needsUpdate=!0,Qt(Z,de,Te),Z.side=il):Qt(Z,de,Te)}this.compile=function(Z,de,Te=null){Te===null&&(Te=Z),x=St.get(Te),x.init(de),A.push(x),Te.traverseVisible(function(Se){Se.isLight&&Se.layers.test(de.layers)&&(x.pushLight(Se),Se.castShadow&&x.pushShadow(Se))}),Z!==Te&&Z.traverseVisible(function(Se){Se.isLight&&Se.layers.test(de.layers)&&(x.pushLight(Se),Se.castShadow&&x.pushShadow(Se))}),x.setupLights();const De=new Set;return Z.traverse(function(Se){if(!(Se.isMesh||Se.isPoints||Se.isLine||Se.isSprite))return;const rt=Se.material;if(rt)if(Array.isArray(rt))for(let gt=0;gt<rt.length;gt++){const yt=rt[gt];qt(yt,Te,Se),De.add(yt)}else qt(rt,Te,Se),De.add(rt)}),x=A.pop(),De},this.compileAsync=function(Z,de,Te=null){const De=this.compile(Z,de,Te);return new Promise(Se=>{function rt(){if(De.forEach(function(gt){Ae.get(gt).currentProgram.isReady()&&De.delete(gt)}),De.size===0){Se(Z);return}setTimeout(rt,10)}Re.get("KHR_parallel_shader_compile")!==null?rt():setTimeout(rt,10)})};let vi=null;function $n(Z){vi&&vi(Z)}function Qn(){Ei.stop()}function di(){Ei.start()}const Ei=new ZP;Ei.setAnimationLoop($n),typeof self<"u"&&Ei.setContext(self),this.setAnimationLoop=function(Z){vi=Z,Ne.setAnimationLoop(Z),Z===null?Ei.stop():Ei.start()},Ne.addEventListener("sessionstart",Qn),Ne.addEventListener("sessionend",di),this.render=function(Z,de){if(de!==void 0&&de.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(O===!0)return;if(Z.matrixWorldAutoUpdate===!0&&Z.updateMatrixWorld(),de.parent===null&&de.matrixWorldAutoUpdate===!0&&de.updateMatrixWorld(),Ne.enabled===!0&&Ne.isPresenting===!0&&(Ne.cameraAutoUpdate===!0&&Ne.updateCamera(de),de=Ne.getCamera()),Z.isScene===!0&&Z.onBeforeRender(T,Z,de,F),x=St.get(Z,A.length),x.init(de),A.push(x),ke.multiplyMatrices(de.projectionMatrix,de.matrixWorldInverse),ae.setFromProjectionMatrix(ke),me=this.localClippingEnabled,se=Be.init(this.clippingPlanes,me),M=bt.get(Z,D.length),M.init(),D.push(M),Ne.enabled===!0&&Ne.isPresenting===!0){const rt=T.xr.getDepthSensingMesh();rt!==null&&nr(rt,de,-1/0,T.sortObjects)}nr(Z,de,0,T.sortObjects),M.finish(),T.sortObjects===!0&&M.sort(Q,W),et=Ne.enabled===!1||Ne.isPresenting===!1||Ne.hasDepthSensing()===!1,et&&_t.addToRenderList(M,Z),this.info.render.frame++,se===!0&&Be.beginShadows();const Te=x.state.shadowsArray;ut.render(Te,Z,de),se===!0&&Be.endShadows(),this.info.autoReset===!0&&this.info.reset();const De=M.opaque,Se=M.transmissive;if(x.setupLights(),de.isArrayCamera){const rt=de.cameras;if(Se.length>0)for(let gt=0,yt=rt.length;gt<yt;gt++){const Tt=rt[gt];Rr(De,Se,Z,Tt)}et&&_t.render(Z);for(let gt=0,yt=rt.length;gt<yt;gt++){const Tt=rt[gt];Ao(M,Z,Tt,Tt.viewport)}}else Se.length>0&&Rr(De,Se,Z,de),et&&_t.render(Z),Ao(M,Z,de);F!==null&&z===0&&(te.updateMultisampleRenderTarget(F),te.updateRenderTargetMipmap(F)),Z.isScene===!0&&Z.onAfterRender(T,Z,de),ft.resetDefaultState(),P=-1,w=null,A.pop(),A.length>0?(x=A[A.length-1],se===!0&&Be.setGlobalState(T.clippingPlanes,x.state.camera)):x=null,D.pop(),D.length>0?M=D[D.length-1]:M=null};function nr(Z,de,Te,De){if(Z.visible===!1)return;if(Z.layers.test(de.layers)){if(Z.isGroup)Te=Z.renderOrder;else if(Z.isLOD)Z.autoUpdate===!0&&Z.update(de);else if(Z.isLight)x.pushLight(Z),Z.castShadow&&x.pushShadow(Z);else if(Z.isSprite){if(!Z.frustumCulled||ae.intersectsSprite(Z)){De&&Ee.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(ke);const gt=Le.update(Z),yt=Z.material;yt.visible&&M.push(Z,gt,yt,Te,Ee.z,null)}}else if((Z.isMesh||Z.isLine||Z.isPoints)&&(!Z.frustumCulled||ae.intersectsObject(Z))){const gt=Le.update(Z),yt=Z.material;if(De&&(Z.boundingSphere!==void 0?(Z.boundingSphere===null&&Z.computeBoundingSphere(),Ee.copy(Z.boundingSphere.center)):(gt.boundingSphere===null&&gt.computeBoundingSphere(),Ee.copy(gt.boundingSphere.center)),Ee.applyMatrix4(Z.matrixWorld).applyMatrix4(ke)),Array.isArray(yt)){const Tt=gt.groups;for(let vt=0,Pt=Tt.length;vt<Pt;vt++){const Dt=Tt[vt],Jt=yt[Dt.materialIndex];Jt&&Jt.visible&&M.push(Z,gt,Jt,Te,Ee.z,Dt)}}else yt.visible&&M.push(Z,gt,yt,Te,Ee.z,null)}}const rt=Z.children;for(let gt=0,yt=rt.length;gt<yt;gt++)nr(rt[gt],de,Te,De)}function Ao(Z,de,Te,De){const Se=Z.opaque,rt=Z.transmissive,gt=Z.transparent;x.setupLightsView(Te),se===!0&&Be.setGlobalState(T.clippingPlanes,Te),De&&ve.viewport(L.copy(De)),Se.length>0&&ir(Se,de,Te),rt.length>0&&ir(rt,de,Te),gt.length>0&&ir(gt,de,Te),ve.buffers.depth.setTest(!0),ve.buffers.depth.setMask(!0),ve.buffers.color.setMask(!0),ve.setPolygonOffset(!1)}function Rr(Z,de,Te,De){if((Te.isScene===!0?Te.overrideMaterial:null)!==null)return;x.state.transmissionRenderTarget[De.id]===void 0&&(x.state.transmissionRenderTarget[De.id]=new ic(1,1,{generateMipmaps:!0,type:Re.has("EXT_color_buffer_half_float")||Re.has("EXT_color_buffer_float")?Vm:xo,minFilter:Zl,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Pn.workingColorSpace}));const rt=x.state.transmissionRenderTarget[De.id],gt=De.viewport||L;rt.setSize(gt.z*T.transmissionResolutionScale,gt.w*T.transmissionResolutionScale);const yt=T.getRenderTarget();T.setRenderTarget(rt),T.getClearColor(G),$=T.getClearAlpha(),$<1&&T.setClearColor(16777215,.5),T.clear(),et&&_t.render(Te);const Tt=T.toneMapping;T.toneMapping=Jl;const vt=De.viewport;if(De.viewport!==void 0&&(De.viewport=void 0),x.setupLightsView(De),se===!0&&Be.setGlobalState(T.clippingPlanes,De),ir(Z,Te,De),te.updateMultisampleRenderTarget(rt),te.updateRenderTargetMipmap(rt),Re.has("WEBGL_multisampled_render_to_texture")===!1){let Pt=!1;for(let Dt=0,Jt=de.length;Dt<Jt;Dt++){const On=de[Dt],bi=On.object,gn=On.geometry,vn=On.material,Bt=On.group;if(vn.side===il&&bi.layers.test(De.layers)){const Si=vn.side;vn.side=ba,vn.needsUpdate=!0,rr(bi,Te,De,gn,vn,Bt),vn.side=Si,vn.needsUpdate=!0,Pt=!0}}Pt===!0&&(te.updateMultisampleRenderTarget(rt),te.updateRenderTargetMipmap(rt))}T.setRenderTarget(yt),T.setClearColor(G,$),vt!==void 0&&(De.viewport=vt),T.toneMapping=Tt}function ir(Z,de,Te){const De=de.isScene===!0?de.overrideMaterial:null;for(let Se=0,rt=Z.length;Se<rt;Se++){const gt=Z[Se],yt=gt.object,Tt=gt.geometry,vt=gt.group;let Pt=gt.material;Pt.allowOverride===!0&&De!==null&&(Pt=De),yt.layers.test(Te.layers)&&rr(yt,de,Te,Tt,Pt,vt)}}function rr(Z,de,Te,De,Se,rt){Z.onBeforeRender(T,de,Te,De,Se,rt),Z.modelViewMatrix.multiplyMatrices(Te.matrixWorldInverse,Z.matrixWorld),Z.normalMatrix.getNormalMatrix(Z.modelViewMatrix),Se.onBeforeRender(T,de,Te,De,Z,rt),Se.transparent===!0&&Se.side===il&&Se.forceSinglePass===!1?(Se.side=ba,Se.needsUpdate=!0,T.renderBufferDirect(Te,de,De,Se,Z,rt),Se.side=tu,Se.needsUpdate=!0,T.renderBufferDirect(Te,de,De,Se,Z,rt),Se.side=il):T.renderBufferDirect(Te,de,De,Se,Z,rt),Z.onAfterRender(T,de,Te,De,Se,rt)}function Qt(Z,de,Te){de.isScene!==!0&&(de=Ge);const De=Ae.get(Z),Se=x.state.lights,rt=x.state.shadowsArray,gt=Se.state.version,yt=ct.getParameters(Z,Se.state,rt,de,Te),Tt=ct.getProgramCacheKey(yt);let vt=De.programs;De.environment=Z.isMeshStandardMaterial?de.environment:null,De.fog=de.fog,De.envMap=(Z.isMeshStandardMaterial?be:Y).get(Z.envMap||De.environment),De.envMapRotation=De.environment!==null&&Z.envMap===null?de.environmentRotation:Z.envMapRotation,vt===void 0&&(Z.addEventListener("dispose",Ot),vt=new Map,De.programs=vt);let Pt=vt.get(Tt);if(Pt!==void 0){if(De.currentProgram===Pt&&De.lightsStateVersion===gt)return zi(Z,yt),Pt}else yt.uniforms=ct.getUniforms(Z),Z.onBeforeCompile(yt,T),Pt=ct.acquireProgram(yt,Tt),vt.set(Tt,Pt),De.uniforms=yt.uniforms;const Dt=De.uniforms;return(!Z.isShaderMaterial&&!Z.isRawShaderMaterial||Z.clipping===!0)&&(Dt.clippingPlanes=Be.uniform),zi(Z,yt),De.needsLights=Ve(Z),De.lightsStateVersion=gt,De.needsLights&&(Dt.ambientLightColor.value=Se.state.ambient,Dt.lightProbe.value=Se.state.probe,Dt.directionalLights.value=Se.state.directional,Dt.directionalLightShadows.value=Se.state.directionalShadow,Dt.spotLights.value=Se.state.spot,Dt.spotLightShadows.value=Se.state.spotShadow,Dt.rectAreaLights.value=Se.state.rectArea,Dt.ltc_1.value=Se.state.rectAreaLTC1,Dt.ltc_2.value=Se.state.rectAreaLTC2,Dt.pointLights.value=Se.state.point,Dt.pointLightShadows.value=Se.state.pointShadow,Dt.hemisphereLights.value=Se.state.hemi,Dt.directionalShadowMap.value=Se.state.directionalShadowMap,Dt.directionalShadowMatrix.value=Se.state.directionalShadowMatrix,Dt.spotShadowMap.value=Se.state.spotShadowMap,Dt.spotLightMatrix.value=Se.state.spotLightMatrix,Dt.spotLightMap.value=Se.state.spotLightMap,Dt.pointShadowMap.value=Se.state.pointShadowMap,Dt.pointShadowMatrix.value=Se.state.pointShadowMatrix),De.currentProgram=Pt,De.uniformsList=null,Pt}function Fn(Z){if(Z.uniformsList===null){const de=Z.currentProgram.getUniforms();Z.uniformsList=yS.seqWithValue(de.seq,Z.uniforms)}return Z.uniformsList}function zi(Z,de){const Te=Ae.get(Z);Te.outputColorSpace=de.outputColorSpace,Te.batching=de.batching,Te.batchingColor=de.batchingColor,Te.instancing=de.instancing,Te.instancingColor=de.instancingColor,Te.instancingMorph=de.instancingMorph,Te.skinning=de.skinning,Te.morphTargets=de.morphTargets,Te.morphNormals=de.morphNormals,Te.morphColors=de.morphColors,Te.morphTargetsCount=de.morphTargetsCount,Te.numClippingPlanes=de.numClippingPlanes,Te.numIntersection=de.numClipIntersection,Te.vertexAlphas=de.vertexAlphas,Te.vertexTangents=de.vertexTangents,Te.toneMapping=de.toneMapping}function ia(Z,de,Te,De,Se){de.isScene!==!0&&(de=Ge),te.resetTextureUnits();const rt=de.fog,gt=De.isMeshStandardMaterial?de.environment:null,yt=F===null?T.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:bf,Tt=(De.isMeshStandardMaterial?be:Y).get(De.envMap||gt),vt=De.vertexColors===!0&&!!Te.attributes.color&&Te.attributes.color.itemSize===4,Pt=!!Te.attributes.tangent&&(!!De.normalMap||De.anisotropy>0),Dt=!!Te.morphAttributes.position,Jt=!!Te.morphAttributes.normal,On=!!Te.morphAttributes.color;let bi=Jl;De.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(bi=T.toneMapping);const gn=Te.morphAttributes.position||Te.morphAttributes.normal||Te.morphAttributes.color,vn=gn!==void 0?gn.length:0,Bt=Ae.get(De),Si=x.state.lights;if(se===!0&&(me===!0||Z!==w)){const ar=Z===w&&De.id===P;Be.setState(De,Z,ar)}let An=!1;De.version===Bt.__version?(Bt.needsLights&&Bt.lightsStateVersion!==Si.state.version||Bt.outputColorSpace!==yt||Se.isBatchedMesh&&Bt.batching===!1||!Se.isBatchedMesh&&Bt.batching===!0||Se.isBatchedMesh&&Bt.batchingColor===!0&&Se.colorTexture===null||Se.isBatchedMesh&&Bt.batchingColor===!1&&Se.colorTexture!==null||Se.isInstancedMesh&&Bt.instancing===!1||!Se.isInstancedMesh&&Bt.instancing===!0||Se.isSkinnedMesh&&Bt.skinning===!1||!Se.isSkinnedMesh&&Bt.skinning===!0||Se.isInstancedMesh&&Bt.instancingColor===!0&&Se.instanceColor===null||Se.isInstancedMesh&&Bt.instancingColor===!1&&Se.instanceColor!==null||Se.isInstancedMesh&&Bt.instancingMorph===!0&&Se.morphTexture===null||Se.isInstancedMesh&&Bt.instancingMorph===!1&&Se.morphTexture!==null||Bt.envMap!==Tt||De.fog===!0&&Bt.fog!==rt||Bt.numClippingPlanes!==void 0&&(Bt.numClippingPlanes!==Be.numPlanes||Bt.numIntersection!==Be.numIntersection)||Bt.vertexAlphas!==vt||Bt.vertexTangents!==Pt||Bt.morphTargets!==Dt||Bt.morphNormals!==Jt||Bt.morphColors!==On||Bt.toneMapping!==bi||Bt.morphTargetsCount!==vn)&&(An=!0):(An=!0,Bt.__version=De.version);let gr=Bt.currentProgram;An===!0&&(gr=Qt(De,de,Se));let Gs=!1,ei=!1,qs=!1;const Kn=gr.getUniforms(),yr=Bt.uniforms;if(ve.useProgram(gr.program)&&(Gs=!0,ei=!0,qs=!0),De.id!==P&&(P=De.id,ei=!0),Gs||w!==Z){ve.buffers.depth.getReversed()?(xe.copy(Z.projectionMatrix),j4(xe),W4(xe),Kn.setValue(J,"projectionMatrix",xe)):Kn.setValue(J,"projectionMatrix",Z.projectionMatrix),Kn.setValue(J,"viewMatrix",Z.matrixWorldInverse);const sr=Kn.map.cameraPosition;sr!==void 0&&sr.setValue(J,Qe.setFromMatrixPosition(Z.matrixWorld)),ze.logarithmicDepthBuffer&&Kn.setValue(J,"logDepthBufFC",2/(Math.log(Z.far+1)/Math.LN2)),(De.isMeshPhongMaterial||De.isMeshToonMaterial||De.isMeshLambertMaterial||De.isMeshBasicMaterial||De.isMeshStandardMaterial||De.isShaderMaterial)&&Kn.setValue(J,"isOrthographic",Z.isOrthographicCamera===!0),w!==Z&&(w=Z,ei=!0,qs=!0)}if(Se.isSkinnedMesh){Kn.setOptional(J,Se,"bindMatrix"),Kn.setOptional(J,Se,"bindMatrixInverse");const ar=Se.skeleton;ar&&(ar.boneTexture===null&&ar.computeBoneTexture(),Kn.setValue(J,"boneTexture",ar.boneTexture,te))}Se.isBatchedMesh&&(Kn.setOptional(J,Se,"batchingTexture"),Kn.setValue(J,"batchingTexture",Se._matricesTexture,te),Kn.setOptional(J,Se,"batchingIdTexture"),Kn.setValue(J,"batchingIdTexture",Se._indirectTexture,te),Kn.setOptional(J,Se,"batchingColorTexture"),Se._colorsTexture!==null&&Kn.setValue(J,"batchingColorTexture",Se._colorsTexture,te));const Bi=Te.morphAttributes;if((Bi.position!==void 0||Bi.normal!==void 0||Bi.color!==void 0)&&Mt.update(Se,Te,gr),(ei||Bt.receiveShadow!==Se.receiveShadow)&&(Bt.receiveShadow=Se.receiveShadow,Kn.setValue(J,"receiveShadow",Se.receiveShadow)),De.isMeshGouraudMaterial&&De.envMap!==null&&(yr.envMap.value=Tt,yr.flipEnvMap.value=Tt.isCubeTexture&&Tt.isRenderTargetTexture===!1?-1:1),De.isMeshStandardMaterial&&De.envMap===null&&de.environment!==null&&(yr.envMapIntensity.value=de.environmentIntensity),ei&&(Kn.setValue(J,"toneMappingExposure",T.toneMappingExposure),Bt.needsLights&&ra(yr,qs),rt&&De.fog===!0&&at.refreshFogUniforms(yr,rt),at.refreshMaterialUniforms(yr,De,q,j,x.state.transmissionRenderTarget[Z.id]),yS.upload(J,Fn(Bt),yr,te)),De.isShaderMaterial&&De.uniformsNeedUpdate===!0&&(yS.upload(J,Fn(Bt),yr,te),De.uniformsNeedUpdate=!1),De.isSpriteMaterial&&Kn.setValue(J,"center",Se.center),Kn.setValue(J,"modelViewMatrix",Se.modelViewMatrix),Kn.setValue(J,"normalMatrix",Se.normalMatrix),Kn.setValue(J,"modelMatrix",Se.matrixWorld),De.isShaderMaterial||De.isRawShaderMaterial){const ar=De.uniformsGroups;for(let sr=0,Br=ar.length;sr<Br;sr++){const js=ar[sr];fe.update(js,gr),fe.bind(js,gr)}}return gr}function ra(Z,de){Z.ambientLightColor.needsUpdate=de,Z.lightProbe.needsUpdate=de,Z.directionalLights.needsUpdate=de,Z.directionalLightShadows.needsUpdate=de,Z.pointLights.needsUpdate=de,Z.pointLightShadows.needsUpdate=de,Z.spotLights.needsUpdate=de,Z.spotLightShadows.needsUpdate=de,Z.rectAreaLights.needsUpdate=de,Z.hemisphereLights.needsUpdate=de}function Ve(Z){return Z.isMeshLambertMaterial||Z.isMeshToonMaterial||Z.isMeshPhongMaterial||Z.isMeshStandardMaterial||Z.isShadowMaterial||Z.isShaderMaterial&&Z.lights===!0}this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return z},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(Z,de,Te){const De=Ae.get(Z);De.__autoAllocateDepthBuffer=Z.resolveDepthBuffer===!1,De.__autoAllocateDepthBuffer===!1&&(De.__useRenderToTexture=!1),Ae.get(Z.texture).__webglTexture=de,Ae.get(Z.depthTexture).__webglTexture=De.__autoAllocateDepthBuffer?void 0:Te,De.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Z,de){const Te=Ae.get(Z);Te.__webglFramebuffer=de,Te.__useDefaultFramebuffer=de===void 0};const je=J.createFramebuffer();this.setRenderTarget=function(Z,de=0,Te=0){F=Z,N=de,z=Te;let De=!0,Se=null,rt=!1,gt=!1;if(Z){const Tt=Ae.get(Z);if(Tt.__useDefaultFramebuffer!==void 0)ve.bindFramebuffer(J.FRAMEBUFFER,null),De=!1;else if(Tt.__webglFramebuffer===void 0)te.setupRenderTarget(Z);else if(Tt.__hasExternalTextures)te.rebindTextures(Z,Ae.get(Z.texture).__webglTexture,Ae.get(Z.depthTexture).__webglTexture);else if(Z.depthBuffer){const Dt=Z.depthTexture;if(Tt.__boundDepthTexture!==Dt){if(Dt!==null&&Ae.has(Dt)&&(Z.width!==Dt.image.width||Z.height!==Dt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");te.setupDepthRenderbuffer(Z)}}const vt=Z.texture;(vt.isData3DTexture||vt.isDataArrayTexture||vt.isCompressedArrayTexture)&&(gt=!0);const Pt=Ae.get(Z).__webglFramebuffer;Z.isWebGLCubeRenderTarget?(Array.isArray(Pt[de])?Se=Pt[de][Te]:Se=Pt[de],rt=!0):Z.samples>0&&te.useMultisampledRTT(Z)===!1?Se=Ae.get(Z).__webglMultisampledFramebuffer:Array.isArray(Pt)?Se=Pt[Te]:Se=Pt,L.copy(Z.viewport),H.copy(Z.scissor),V=Z.scissorTest}else L.copy(ie).multiplyScalar(q).floor(),H.copy(le).multiplyScalar(q).floor(),V=he;if(Te!==0&&(Se=je),ve.bindFramebuffer(J.FRAMEBUFFER,Se)&&De&&ve.drawBuffers(Z,Se),ve.viewport(L),ve.scissor(H),ve.setScissorTest(V),rt){const Tt=Ae.get(Z.texture);J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_CUBE_MAP_POSITIVE_X+de,Tt.__webglTexture,Te)}else if(gt){const Tt=Ae.get(Z.texture),vt=de;J.framebufferTextureLayer(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,Tt.__webglTexture,Te,vt)}else if(Z!==null&&Te!==0){const Tt=Ae.get(Z.texture);J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,Tt.__webglTexture,Te)}P=-1},this.readRenderTargetPixels=function(Z,de,Te,De,Se,rt,gt){if(!(Z&&Z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let yt=Ae.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&gt!==void 0&&(yt=yt[gt]),yt){ve.bindFramebuffer(J.FRAMEBUFFER,yt);try{const Tt=Z.texture,vt=Tt.format,Pt=Tt.type;if(!ze.textureFormatReadable(vt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ze.textureTypeReadable(Pt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}de>=0&&de<=Z.width-De&&Te>=0&&Te<=Z.height-Se&&J.readPixels(de,Te,De,Se,Oe.convert(vt),Oe.convert(Pt),rt)}finally{const Tt=F!==null?Ae.get(F).__webglFramebuffer:null;ve.bindFramebuffer(J.FRAMEBUFFER,Tt)}}},this.readRenderTargetPixelsAsync=async function(Z,de,Te,De,Se,rt,gt){if(!(Z&&Z.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let yt=Ae.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&gt!==void 0&&(yt=yt[gt]),yt)if(de>=0&&de<=Z.width-De&&Te>=0&&Te<=Z.height-Se){ve.bindFramebuffer(J.FRAMEBUFFER,yt);const Tt=Z.texture,vt=Tt.format,Pt=Tt.type;if(!ze.textureFormatReadable(vt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ze.textureTypeReadable(Pt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Dt=J.createBuffer();J.bindBuffer(J.PIXEL_PACK_BUFFER,Dt),J.bufferData(J.PIXEL_PACK_BUFFER,rt.byteLength,J.STREAM_READ),J.readPixels(de,Te,De,Se,Oe.convert(vt),Oe.convert(Pt),0);const Jt=F!==null?Ae.get(F).__webglFramebuffer:null;ve.bindFramebuffer(J.FRAMEBUFFER,Jt);const On=J.fenceSync(J.SYNC_GPU_COMMANDS_COMPLETE,0);return J.flush(),await q4(J,On,4),J.bindBuffer(J.PIXEL_PACK_BUFFER,Dt),J.getBufferSubData(J.PIXEL_PACK_BUFFER,0,rt),J.deleteBuffer(Dt),J.deleteSync(On),rt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Z,de=null,Te=0){const De=Math.pow(2,-Te),Se=Math.floor(Z.image.width*De),rt=Math.floor(Z.image.height*De),gt=de!==null?de.x:0,yt=de!==null?de.y:0;te.setTexture2D(Z,0),J.copyTexSubImage2D(J.TEXTURE_2D,Te,0,0,gt,yt,Se,rt),ve.unbindTexture()};const Et=J.createFramebuffer(),Vt=J.createFramebuffer();this.copyTextureToTexture=function(Z,de,Te=null,De=null,Se=0,rt=null){rt===null&&(Se!==0?(mS("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),rt=Se,Se=0):rt=0);let gt,yt,Tt,vt,Pt,Dt,Jt,On,bi;const gn=Z.isCompressedTexture?Z.mipmaps[rt]:Z.image;if(Te!==null)gt=Te.max.x-Te.min.x,yt=Te.max.y-Te.min.y,Tt=Te.isBox3?Te.max.z-Te.min.z:1,vt=Te.min.x,Pt=Te.min.y,Dt=Te.isBox3?Te.min.z:0;else{const Bi=Math.pow(2,-Se);gt=Math.floor(gn.width*Bi),yt=Math.floor(gn.height*Bi),Z.isDataArrayTexture?Tt=gn.depth:Z.isData3DTexture?Tt=Math.floor(gn.depth*Bi):Tt=1,vt=0,Pt=0,Dt=0}De!==null?(Jt=De.x,On=De.y,bi=De.z):(Jt=0,On=0,bi=0);const vn=Oe.convert(de.format),Bt=Oe.convert(de.type);let Si;de.isData3DTexture?(te.setTexture3D(de,0),Si=J.TEXTURE_3D):de.isDataArrayTexture||de.isCompressedArrayTexture?(te.setTexture2DArray(de,0),Si=J.TEXTURE_2D_ARRAY):(te.setTexture2D(de,0),Si=J.TEXTURE_2D),J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,de.flipY),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,de.premultiplyAlpha),J.pixelStorei(J.UNPACK_ALIGNMENT,de.unpackAlignment);const An=J.getParameter(J.UNPACK_ROW_LENGTH),gr=J.getParameter(J.UNPACK_IMAGE_HEIGHT),Gs=J.getParameter(J.UNPACK_SKIP_PIXELS),ei=J.getParameter(J.UNPACK_SKIP_ROWS),qs=J.getParameter(J.UNPACK_SKIP_IMAGES);J.pixelStorei(J.UNPACK_ROW_LENGTH,gn.width),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,gn.height),J.pixelStorei(J.UNPACK_SKIP_PIXELS,vt),J.pixelStorei(J.UNPACK_SKIP_ROWS,Pt),J.pixelStorei(J.UNPACK_SKIP_IMAGES,Dt);const Kn=Z.isDataArrayTexture||Z.isData3DTexture,yr=de.isDataArrayTexture||de.isData3DTexture;if(Z.isDepthTexture){const Bi=Ae.get(Z),ar=Ae.get(de),sr=Ae.get(Bi.__renderTarget),Br=Ae.get(ar.__renderTarget);ve.bindFramebuffer(J.READ_FRAMEBUFFER,sr.__webglFramebuffer),ve.bindFramebuffer(J.DRAW_FRAMEBUFFER,Br.__webglFramebuffer);for(let js=0;js<Tt;js++)Kn&&(J.framebufferTextureLayer(J.READ_FRAMEBUFFER,J.COLOR_ATTACHMENT0,Ae.get(Z).__webglTexture,Se,Dt+js),J.framebufferTextureLayer(J.DRAW_FRAMEBUFFER,J.COLOR_ATTACHMENT0,Ae.get(de).__webglTexture,rt,bi+js)),J.blitFramebuffer(vt,Pt,gt,yt,Jt,On,gt,yt,J.DEPTH_BUFFER_BIT,J.NEAREST);ve.bindFramebuffer(J.READ_FRAMEBUFFER,null),ve.bindFramebuffer(J.DRAW_FRAMEBUFFER,null)}else if(Se!==0||Z.isRenderTargetTexture||Ae.has(Z)){const Bi=Ae.get(Z),ar=Ae.get(de);ve.bindFramebuffer(J.READ_FRAMEBUFFER,Et),ve.bindFramebuffer(J.DRAW_FRAMEBUFFER,Vt);for(let sr=0;sr<Tt;sr++)Kn?J.framebufferTextureLayer(J.READ_FRAMEBUFFER,J.COLOR_ATTACHMENT0,Bi.__webglTexture,Se,Dt+sr):J.framebufferTexture2D(J.READ_FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,Bi.__webglTexture,Se),yr?J.framebufferTextureLayer(J.DRAW_FRAMEBUFFER,J.COLOR_ATTACHMENT0,ar.__webglTexture,rt,bi+sr):J.framebufferTexture2D(J.DRAW_FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,ar.__webglTexture,rt),Se!==0?J.blitFramebuffer(vt,Pt,gt,yt,Jt,On,gt,yt,J.COLOR_BUFFER_BIT,J.NEAREST):yr?J.copyTexSubImage3D(Si,rt,Jt,On,bi+sr,vt,Pt,gt,yt):J.copyTexSubImage2D(Si,rt,Jt,On,vt,Pt,gt,yt);ve.bindFramebuffer(J.READ_FRAMEBUFFER,null),ve.bindFramebuffer(J.DRAW_FRAMEBUFFER,null)}else yr?Z.isDataTexture||Z.isData3DTexture?J.texSubImage3D(Si,rt,Jt,On,bi,gt,yt,Tt,vn,Bt,gn.data):de.isCompressedArrayTexture?J.compressedTexSubImage3D(Si,rt,Jt,On,bi,gt,yt,Tt,vn,gn.data):J.texSubImage3D(Si,rt,Jt,On,bi,gt,yt,Tt,vn,Bt,gn):Z.isDataTexture?J.texSubImage2D(J.TEXTURE_2D,rt,Jt,On,gt,yt,vn,Bt,gn.data):Z.isCompressedTexture?J.compressedTexSubImage2D(J.TEXTURE_2D,rt,Jt,On,gn.width,gn.height,vn,gn.data):J.texSubImage2D(J.TEXTURE_2D,rt,Jt,On,gt,yt,vn,Bt,gn);J.pixelStorei(J.UNPACK_ROW_LENGTH,An),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,gr),J.pixelStorei(J.UNPACK_SKIP_PIXELS,Gs),J.pixelStorei(J.UNPACK_SKIP_ROWS,ei),J.pixelStorei(J.UNPACK_SKIP_IMAGES,qs),rt===0&&de.generateMipmaps&&J.generateMipmap(Si),ve.unbindTexture()},this.copyTextureToTexture3D=function(Z,de,Te=null,De=null,Se=0){return mS('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(Z,de,Te,De,Se)},this.initRenderTarget=function(Z){Ae.get(Z).__webglFramebuffer===void 0&&te.setupRenderTarget(Z)},this.initTexture=function(Z){Z.isCubeTexture?te.setTextureCube(Z,0):Z.isData3DTexture?te.setTexture3D(Z,0):Z.isDataArrayTexture||Z.isCompressedArrayTexture?te.setTexture2DArray(Z,0):te.setTexture2D(Z,0),ve.unbindTexture()},this.resetState=function(){N=0,z=0,F=null,ve.reset(),ft.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return vo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Pn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Pn._getUnpackColorSpace()}}const rG=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:BA,AddEquation:uf,AddOperation:AN,AdditiveAnimationBlendMode:XA,AdditiveBlending:RT,AgXToneMapping:DN,AlphaFormat:GA,AlwaysCompare:WN,AlwaysDepth:PS,AlwaysStencilFunc:PT,AmbientLight:HP,AnimationAction:$P,AnimationClip:wv,AnimationLoader:bF,AnimationMixer:YF,AnimationObjectGroup:WF,AnimationUtils:mF,ArcCurve:fP,ArrayCamera:WP,ArrowHelper:gH,AttachedBindMode:NT,Audio:XP,AudioAnalyser:IF,AudioContext:yw,AudioListener:PF,AudioLoader:OF,AxesHelper:yH,BackSide:ba,BasicDepthPacking:zN,BasicShadowMap:sN,BatchedMesh:sP,Bone:tw,BooleanKeyframeTrack:Th,Box2:nH,Box3:Sa,Box3Helper:pH,BoxGeometry:Eh,BoxHelper:hH,BufferAttribute:Yn,BufferGeometry:sn,BufferGeometryLoader:jP,ByteType:HA,Cache:Qc,Camera:n1,CameraHelper:dH,CanvasTexture:z5,CapsuleGeometry:u1,CatmullRomCurve3:dP,CineonToneMapping:RN,CircleGeometry:f1,ClampToEdgeWrapping:yo,Clock:vw,Color:Rt,ColorKeyframeTrack:pw,ColorManagement:Pn,CompressedArrayTexture:L5,CompressedCubeTexture:I5,CompressedTexture:l1,CompressedTextureLoader:xF,ConeGeometry:e0,ConstantAlphaFactor:MN,ConstantColorFactor:SN,Controls:KP,CubeCamera:JN,CubeReflectionMapping:nu,CubeRefractionMapping:vf,CubeTexture:Zv,CubeTextureLoader:SF,CubeUVReflectionMapping:Hm,CubicBezierCurve:rw,CubicBezierCurve3:hP,CubicInterpolant:NP,CullFaceBack:CT,CullFaceFront:aN,CullFaceFrontBack:qB,CullFaceNone:rN,Curve:ll,CurvePath:mP,CustomBlending:oN,CustomToneMapping:ON,CylinderGeometry:Jv,Cylindrical:tH,Data3DTexture:t1,DataArrayTexture:Kv,DataTexture:ec,DataTextureLoader:_F,DataUtils:o5,DecrementStencilOp:r4,DecrementWrapStencilOp:s4,DefaultLoadingManager:LP,DepthArrayTexture:B5,DepthFormat:Am,DepthStencilFormat:wm,DepthTexture:c1,DetachedBindMode:PN,DirectionalLight:FP,DirectionalLightHelper:fH,DiscreteInterpolant:PP,DodecahedronGeometry:d1,DoubleSide:il,DstAlphaFactor:gN,DstColorFactor:vN,DynamicCopyUsage:S4,DynamicDrawUsage:m4,DynamicReadUsage:v4,EdgesGeometry:uP,EllipseCurve:h1,EqualCompare:kN,EqualDepth:LS,EqualStencilFunc:u4,EquirectangularReflectionMapping:dv,EquirectangularRefractionMapping:hv,Euler:zs,EventDispatcher:uc,ExtrudeGeometry:p1,FileLoader:rc,Float16BufferAttribute:p5,Float32BufferAttribute:Nt,FloatType:ds,Fog:r1,FogExp2:i1,FramebufferTexture:U5,FrontSide:tu,Frustum:km,FrustumArray:o1,GLBufferAttribute:eH,GLSL1:M4,GLSL3:UT,GreaterCompare:GN,GreaterDepth:zS,GreaterEqualCompare:jN,GreaterEqualDepth:IS,GreaterEqualStencilFunc:p4,GreaterStencilFunc:d4,GridHelper:cH,Group:fm,HalfFloatType:Vm,HemisphereLight:IP,HemisphereLightHelper:lH,IcosahedronGeometry:m1,ImageBitmapLoader:RF,ImageLoader:Cv,ImageUtils:QN,IncrementStencilOp:i4,IncrementWrapStencilOp:a4,InstancedBufferAttribute:Dm,InstancedBufferGeometry:qP,InstancedInterleavedBuffer:JF,InstancedMesh:aP,Int16BufferAttribute:d5,Int32BufferAttribute:h5,Int8BufferAttribute:c5,IntType:X_,InterleavedBuffer:a1,InterleavedBufferAttribute:uh,Interpolant:i0,InterpolateDiscrete:gv,InterpolateLinear:f_,InterpolateSmooth:pS,InterpolationSamplingMode:A4,InterpolationSamplingType:T4,InvertStencilOp:o4,KeepStencilOp:Id,KeyframeTrack:Eo,LOD:iP,LatheGeometry:g1,Layers:Rm,LessCompare:VN,LessDepth:US,LessEqualCompare:YA,LessEqualDepth:ch,LessEqualStencilFunc:f4,LessStencilFunc:c4,Light:Tf,LightProbe:GP,Line:xf,Line3:iH,LineBasicMaterial:ja,LineCurve:aw,LineCurve3:pP,LineDashedMaterial:RP,LineLoop:oP,LineSegments:fc,LinearFilter:Ar,LinearInterpolant:hw,LinearMipMapLinearFilter:YB,LinearMipMapNearestFilter:XB,LinearMipmapLinearFilter:Zl,LinearMipmapNearestFilter:$y,LinearSRGBColorSpace:bf,LinearToneMapping:wN,LinearTransfer:vv,Loader:Wa,LoaderUtils:FT,LoadingManager:mw,LoopOnce:UN,LoopPingPong:IN,LoopRepeat:LN,MOUSE:po,Material:Ea,MaterialLoader:M1,MathUtils:XN,Matrix2:Sw,Matrix3:ln,Matrix4:Xt,MaxEquation:fN,Mesh:pr,MeshBasicMaterial:Mf,MeshDepthMaterial:uw,MeshDistanceMaterial:fw,MeshLambertMaterial:wP,MeshMatcapMaterial:CP,MeshNormalMaterial:AP,MeshPhongMaterial:EP,MeshPhysicalMaterial:MP,MeshStandardMaterial:cw,MeshToonMaterial:TP,MinEquation:uN,MirroredRepeatWrapping:mv,MixOperation:TN,MultiplyBlending:DT,MultiplyOperation:$v,NearestFilter:Zr,NearestMipMapLinearFilter:WB,NearestMipMapNearestFilter:jB,NearestMipmapLinearFilter:cm,NearestMipmapNearestFilter:FA,NeutralToneMapping:NN,NeverCompare:HN,NeverDepth:NS,NeverStencilFunc:l4,NoBlending:Zc,NoColorSpace:Wc,NoToneMapping:Jl,NormalAnimationBlendMode:J_,NormalBlending:Kd,NotEqualCompare:qN,NotEqualDepth:BS,NotEqualStencilFunc:h4,NumberKeyframeTrack:Tv,Object3D:Bn,ObjectLoader:wF,ObjectSpaceNormalMap:FN,OctahedronGeometry:t0,OneFactor:hN,OneMinusConstantAlphaFactor:EN,OneMinusConstantColorFactor:_N,OneMinusDstAlphaFactor:yN,OneMinusDstColorFactor:bN,OneMinusSrcAlphaFactor:DS,OneMinusSrcColorFactor:mN,OrthographicCamera:pf,PCFShadowMap:j_,PCFSoftShadowMap:Yy,PMREMGenerator:GT,Path:m_,PerspectiveCamera:Ji,Plane:mo,PlaneGeometry:Gm,PlaneHelper:mH,PointLight:BP,PointLightHelper:sH,Points:lP,PointsMaterial:nw,PolarGridHelper:uH,PolyhedronGeometry:Ef,PositionalAudio:LF,PropertyBinding:In,PropertyMixer:YP,QuadraticBezierCurve:sw,QuadraticBezierCurve3:ow,Quaternion:xa,QuaternionKeyframeTrack:r0,QuaternionLinearInterpolant:UP,RED_GREEN_RGTC2_Format:c_,RED_RGTC1_Format:WA,REVISION:Yv,RGBADepthPacking:BN,RGBAFormat:va,RGBAIntegerFormat:Z_,RGBA_ASTC_10x10_Format:i_,RGBA_ASTC_10x5_Format:e_,RGBA_ASTC_10x6_Format:t_,RGBA_ASTC_10x8_Format:n_,RGBA_ASTC_12x10_Format:r_,RGBA_ASTC_12x12_Format:a_,RGBA_ASTC_4x4_Format:WS,RGBA_ASTC_5x4_Format:XS,RGBA_ASTC_5x5_Format:YS,RGBA_ASTC_6x5_Format:$S,RGBA_ASTC_6x6_Format:QS,RGBA_ASTC_8x5_Format:KS,RGBA_ASTC_8x6_Format:ZS,RGBA_ASTC_8x8_Format:JS,RGBA_BPTC_Format:ev,RGBA_ETC2_EAC_Format:jS,RGBA_PVRTC_2BPPV1_Format:kS,RGBA_PVRTC_4BPPV1_Format:VS,RGBA_S3TC_DXT1_Format:Ky,RGBA_S3TC_DXT3_Format:Zy,RGBA_S3TC_DXT5_Format:Jy,RGBDepthPacking:JB,RGBFormat:qA,RGBIntegerFormat:$B,RGB_BPTC_SIGNED_Format:s_,RGB_BPTC_UNSIGNED_Format:o_,RGB_ETC1_Format:GS,RGB_ETC2_Format:qS,RGB_PVRTC_2BPPV1_Format:HS,RGB_PVRTC_4BPPV1_Format:FS,RGB_S3TC_DXT1_Format:Qy,RGDepthPacking:e4,RGFormat:jA,RGIntegerFormat:K_,RawShaderMaterial:_P,Ray:Mh,Raycaster:T1,RectAreaLight:VP,RedFormat:Q_,RedIntegerFormat:Qv,ReinhardToneMapping:CN,RenderTarget:e1,RenderTarget3D:$F,RenderTargetArray:QF,RepeatWrapping:pv,ReplaceStencilOp:n4,ReverseSubtractEquation:cN,RingGeometry:y1,SIGNED_RED_GREEN_RGTC2_Format:u_,SIGNED_RED_RGTC1_Format:l_,SRGBColorSpace:$r,SRGBTransfer:ai,Scene:JA,ShaderChunk:dn,ShaderLib:nl,ShaderMaterial:So,ShadowMaterial:SP,Shape:Jd,ShapeGeometry:v1,ShapePath:vH,ShapeUtils:al,ShortType:VA,Skeleton:s1,SkeletonHelper:aH,SkinnedMesh:rP,Source:hf,Sphere:Jr,SphereGeometry:n0,Spherical:VT,SphericalHarmonics3:kP,SplineCurve:lw,SpotLight:zP,SpotLightHelper:rH,Sprite:nP,SpriteMaterial:ew,SrcAlphaFactor:OS,SrcAlphaSaturateFactor:xN,SrcColorFactor:pN,StaticCopyUsage:x4,StaticDrawUsage:bv,StaticReadUsage:y4,StereoCamera:DF,StreamCopyUsage:_4,StreamDrawUsage:g4,StreamReadUsage:b4,StringKeyframeTrack:Ah,SubtractEquation:lN,SubtractiveBlending:OT,TOUCH:Yl,TangentSpaceNormalMap:_f,TetrahedronGeometry:b1,Texture:ji,TextureLoader:MF,TextureUtils:MH,TimestampQuery:E4,TorusGeometry:x1,TorusKnotGeometry:S1,Triangle:fs,TriangleFanDrawMode:ZB,TriangleStripDrawMode:KB,TrianglesDrawMode:QB,TubeGeometry:_1,UVMapping:W_,Uint16BufferAttribute:QA,Uint32BufferAttribute:KA,Uint8BufferAttribute:u5,Uint8ClampedBufferAttribute:f5,Uniform:E1,UniformsGroup:ZF,UniformsLib:wt,UniformsUtils:ZA,UnsignedByteType:xo,UnsignedInt248Type:Tm,UnsignedInt5999Type:kA,UnsignedIntType:iu,UnsignedShort4444Type:Y_,UnsignedShort5551Type:$_,UnsignedShortType:Em,VSMShadowMap:el,Vector2:Je,Vector3:re,Vector4:zn,VectorKeyframeTrack:Av,VideoFrameTexture:P5,VideoTexture:cP,WebGL3DRenderTarget:K4,WebGLArrayRenderTarget:Q4,WebGLCoordinateSystem:vo,WebGLCubeRenderTarget:eP,WebGLRenderTarget:ic,WebGLRenderer:rU,WebGLUtils:iU,WebGPUCoordinateSystem:xv,WebXRController:gS,WireframeGeometry:xP,WrapAroundEnding:yv,ZeroCurvatureEnding:qd,ZeroFactor:dN,ZeroSlopeEnding:jd,ZeroStencilOp:t4,createCanvasElement:$N},Symbol.toStringTag,{value:"Module"}));var BE={exports:{}},Vc={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hO;function aG(){return hO||(hO=1,Vc.ConcurrentRoot=1,Vc.ContinuousEventPriority=8,Vc.DefaultEventPriority=32,Vc.DiscreteEventPriority=2,Vc.IdleEventPriority=268435456,Vc.LegacyRoot=0,Vc.NoEventPriority=0),Vc}var pO;function sG(){return pO||(pO=1,BE.exports=aG()),BE.exports}var vS=sG(),FE={exports:{}},HE={},VE={exports:{}},kE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mO;function oG(){if(mO)return kE;mO=1;var n=_h();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,a=n.useLayoutEffect,o=n.useDebugValue;function c(g,y){var b=y(),_=i({inst:{value:b,getSnapshot:y}}),E=_[0].inst,M=_[1];return a(function(){E.value=b,E.getSnapshot=y,f(E)&&M({inst:E})},[g,b,y]),r(function(){return f(E)&&M({inst:E}),g(function(){f(E)&&M({inst:E})})},[g]),o(b),b}function f(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!t(g,b)}catch{return!0}}function p(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:c;return kE.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,kE}var gO;function lG(){return gO||(gO=1,VE.exports=oG()),VE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yO;function cG(){if(yO)return HE;yO=1;var n=_h(),e=lG();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=n.useRef,o=n.useEffect,c=n.useMemo,f=n.useDebugValue;return HE.useSyncExternalStoreWithSelector=function(p,m,g,y,b){var _=a(null);if(_.current===null){var E={hasValue:!1,value:null};_.current=E}else E=_.current;_=c(function(){function x(N){if(!D){if(D=!0,A=N,N=y(N),b!==void 0&&E.hasValue){var z=E.value;if(b(z,N))return T=z}return T=N}if(z=T,i(A,N))return z;var F=y(N);return b!==void 0&&b(z,F)?(A=N,z):(A=N,T=F)}var D=!1,A,T,O=g===void 0?null:g;return[function(){return x(m())},O===null?void 0:function(){return x(O())}]},[m,g,y,b]);var M=r(p,_[0],_[1]);return o(function(){E.hasValue=!0,E.value=M},[M]),f(M),M},HE}var vO;function uG(){return vO||(vO=1,FE.exports=cG()),FE.exports}var fG=uG();const dG=Xv(fG),bO=n=>{let e;const t=new Set,i=(p,m)=>{const g=typeof p=="function"?p(e):p;if(!Object.is(g,e)){const y=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(b=>b(e,y))}},r=()=>e,c={setState:i,getState:r,getInitialState:()=>f,subscribe:p=>(t.add(p),()=>t.delete(p))},f=e=n(i,r,c);return c},hG=n=>n?bO(n):bO,{useSyncExternalStoreWithSelector:pG}=dG,mG=n=>n;function gG(n,e=mG,t){const i=pG(n.subscribe,n.getState,n.getInitialState,e,t);return rl.useDebugValue(i),i}const xO=(n,e)=>{const t=hG(n),i=(r,a=e)=>gG(t,r,a);return Object.assign(i,t),i},yG=(n,e)=>n?xO(n,e):xO;var GE={exports:{}},qE={exports:{}},jE={exports:{}},WE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SO;function vG(){return SO||(SO=1,function(n){function e(B,j){var q=B.length;B.push(j);e:for(;0<q;){var Q=q-1>>>1,W=B[Q];if(0<r(W,j))B[Q]=j,B[q]=W,q=Q;else break e}}function t(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var j=B[0],q=B.pop();if(q!==j){B[0]=q;e:for(var Q=0,W=B.length,ie=W>>>1;Q<ie;){var le=2*(Q+1)-1,he=B[le],ae=le+1,se=B[ae];if(0>r(he,q))ae<W&&0>r(se,he)?(B[Q]=se,B[ae]=q,Q=ae):(B[Q]=he,B[le]=q,Q=le);else if(ae<W&&0>r(se,q))B[Q]=se,B[ae]=q,Q=ae;else break e}}return j}function r(B,j){var q=B.sortIndex-j.sortIndex;return q!==0?q:B.id-j.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var f=[],p=[],m=1,g=null,y=3,b=!1,_=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function A(B){for(var j=t(p);j!==null;){if(j.callback===null)i(p);else if(j.startTime<=B)i(p),j.sortIndex=j.expirationTime,e(f,j);else break;j=t(p)}}function T(B){if(E=!1,A(B),!_)if(t(f)!==null)_=!0,G();else{var j=t(p);j!==null&&$(T,j.startTime-B)}}var O=!1,N=-1,z=5,F=-1;function P(){return!(n.unstable_now()-F<z)}function w(){if(O){var B=n.unstable_now();F=B;var j=!0;try{e:{_=!1,E&&(E=!1,x(N),N=-1),b=!0;var q=y;try{t:{for(A(B),g=t(f);g!==null&&!(g.expirationTime>B&&P());){var Q=g.callback;if(typeof Q=="function"){g.callback=null,y=g.priorityLevel;var W=Q(g.expirationTime<=B);if(B=n.unstable_now(),typeof W=="function"){g.callback=W,A(B),j=!0;break t}g===t(f)&&i(f),A(B)}else i(f);g=t(f)}if(g!==null)j=!0;else{var ie=t(p);ie!==null&&$(T,ie.startTime-B),j=!1}}break e}finally{g=null,y=q,b=!1}j=void 0}}finally{j?L():O=!1}}}var L;if(typeof D=="function")L=function(){D(w)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,V=H.port2;H.port1.onmessage=w,L=function(){V.postMessage(null)}}else L=function(){M(w,0)};function G(){O||(O=!0,L())}function $(B,j){N=M(function(){B(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){_||b||(_=!0,G())},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(B){switch(y){case 1:case 2:case 3:var j=3;break;default:j=y}var q=y;y=j;try{return B()}finally{y=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,j){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=y;y=B;try{return j()}finally{y=q}},n.unstable_scheduleCallback=function(B,j,q){var Q=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Q+q:Q):q=Q,B){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=q+W,B={id:m++,callback:j,priorityLevel:B,startTime:q,expirationTime:W,sortIndex:-1},q>Q?(B.sortIndex=q,e(p,B),t(f)===null&&B===t(p)&&(E?(x(N),N=-1):E=!0,$(T,q-Q))):(B.sortIndex=W,e(f,B),_||b||(_=!0,G())),B},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(B){var j=y;return function(){var q=y;y=j;try{return B.apply(this,arguments)}finally{y=q}}}}(WE)),WE}var _O;function bG(){return _O||(_O=1,jE.exports=vG()),jE.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MO;function xG(){return MO||(MO=1,function(n){n.exports=function(e){function t(u,d,S,R){return new Dg(u,d,S,R)}function i(){}function r(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)d+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(u){return u===null||typeof u!="object"?null:(u=Fo&&u[Fo]||u["@@iterator"],typeof u=="function"?u:null)}function o(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===Lg?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case Tl:return"Fragment";case Qa:return"Portal";case Jh:return"Profiler";case nd:return"StrictMode";case ep:return"Suspense";case Ru:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case bs:return(u.displayName||"Context")+".Provider";case Pg:return(u._context.displayName||"Context")+".Consumer";case rd:var d=u.render;return u=u.displayName,u||(u=d.displayName||d.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case tp:return d=u.displayName||null,d!==null?d:o(u.type)||"Memo";case Ka:d=u._payload,u=u._init;try{return o(u(d))}catch{}}return null}function c(u){if(Qs===void 0)try{throw Error()}catch(S){var d=S.stack.trim().match(/\n( *(at )?)/);Qs=d&&d[1]||"",Ho=-1<S.stack.indexOf(`
    at`)?" (<anonymous>)":-1<S.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qs+u+Ho}function f(u,d){if(!u||gc)return"";gc=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var R={DetermineComponentFrameRoot:function(){try{if(d){var At=function(){throw Error()};if(Object.defineProperty(At.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(At,[])}catch(tn){var Ct=tn}Reflect.construct(u,[],At)}else{try{At.call()}catch(tn){Ct=tn}u.call(At.prototype)}}else{try{throw Error()}catch(tn){Ct=tn}(At=u())&&typeof At.catch=="function"&&At.catch(function(){})}}catch(tn){if(tn&&Ct&&typeof tn.stack=="string")return[tn.stack,Ct.stack]}return[null,null]}};R.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(R.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(R.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=R.DetermineComponentFrameRoot(),ne=k[0],ue=k[1];if(ne&&ue){var Me=ne.split(`
`),Ke=ue.split(`
`);for(I=R=0;R<Me.length&&!Me[R].includes("DetermineComponentFrameRoot");)R++;for(;I<Ke.length&&!Ke[I].includes("DetermineComponentFrameRoot");)I++;if(R===Me.length||I===Ke.length)for(R=Me.length-1,I=Ke.length-1;1<=R&&0<=I&&Me[R]!==Ke[I];)I--;for(;1<=R&&0<=I;R--,I--)if(Me[R]!==Ke[I]){if(R!==1||I!==1)do if(R--,I--,0>I||Me[R]!==Ke[I]){var dt=`
`+Me[R].replace(" at new "," at ");return u.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",u.displayName)),dt}while(1<=R&&0<=I);break}}}finally{gc=!1,Error.prepareStackTrace=S}return(S=u?u.displayName||u.name:"")?c(S):""}function p(u){switch(u.tag){case 26:case 27:case 5:return c(u.type);case 16:return c("Lazy");case 13:return c("Suspense");case 19:return c("SuspenseList");case 0:case 15:return u=f(u.type,!1),u;case 11:return u=f(u.type.render,!1),u;case 1:return u=f(u.type,!0),u;default:return""}}function m(u){try{var d="";do d+=p(u),u=u.return;while(u);return d}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}function g(u){var d=u,S=u;if(u.alternate)for(;d.return;)d=d.return;else{u=d;do d=u,(d.flags&4098)!==0&&(S=d.return),u=d.return;while(u)}return d.tag===3?S:null}function y(u){if(g(u)!==u)throw Error(r(188))}function b(u){var d=u.alternate;if(!d){if(d=g(u),d===null)throw Error(r(188));return d!==u?null:u}for(var S=u,R=d;;){var I=S.return;if(I===null)break;var k=I.alternate;if(k===null){if(R=I.return,R!==null){S=R;continue}break}if(I.child===k.child){for(k=I.child;k;){if(k===S)return y(I),u;if(k===R)return y(I),d;k=k.sibling}throw Error(r(188))}if(S.return!==R.return)S=I,R=k;else{for(var ne=!1,ue=I.child;ue;){if(ue===S){ne=!0,S=I,R=k;break}if(ue===R){ne=!0,R=I,S=k;break}ue=ue.sibling}if(!ne){for(ue=k.child;ue;){if(ue===S){ne=!0,S=k,R=I;break}if(ue===R){ne=!0,R=k,S=I;break}ue=ue.sibling}if(!ne)throw Error(r(189))}}if(S.alternate!==R)throw Error(r(190))}if(S.tag!==3)throw Error(r(188));return S.stateNode.current===S?u:d}function _(u){var d=u.tag;if(d===5||d===26||d===27||d===6)return u;for(u=u.child;u!==null;){if(d=_(u),d!==null)return d;u=u.sibling}return null}function E(u){var d=u.tag;if(d===5||d===26||d===27||d===6)return u;for(u=u.child;u!==null;){if(u.tag!==4&&(d=E(u),d!==null))return d;u=u.sibling}return null}function M(u){return{current:u}}function x(u){0>qo||(u.current=Pi[qo],Pi[qo]=null,qo--)}function D(u,d){qo++,Pi[qo]=u.current,u.current=d}function A(u){return u>>>=0,u===0?32:31-(Db(u)/Nb|0)|0}function T(u){var d=u&42;if(d!==0)return d;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function O(u,d){var S=u.pendingLanes;if(S===0)return 0;var R=0,I=u.suspendedLanes,k=u.pingedLanes,ne=u.warmLanes;u=u.finishedLanes!==0;var ue=S&134217727;return ue!==0?(S=ue&~I,S!==0?R=T(S):(k&=ue,k!==0?R=T(k):u||(ne=ue&~ne,ne!==0&&(R=T(ne))))):(ue=S&~I,ue!==0?R=T(ue):k!==0?R=T(k):u||(ne=S&~ne,ne!==0&&(R=T(ne)))),R===0?0:d!==0&&d!==R&&(d&I)===0&&(I=R&-R,ne=d&-d,I>=ne||I===32&&(ne&4194176)!==0)?d:R}function N(u,d){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&d)===0}function z(u,d){switch(u){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F(){var u=Zs;return Zs<<=1,(Zs&4194176)===0&&(Zs=128),u}function P(){var u=bc;return bc<<=1,(bc&62914560)===0&&(bc=4194304),u}function w(u){for(var d=[],S=0;31>S;S++)d.push(u);return d}function L(u,d){u.pendingLanes|=d,d!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function H(u,d,S,R,I,k){var ne=u.pendingLanes;u.pendingLanes=S,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=S,u.entangledLanes&=S,u.errorRecoveryDisabledLanes&=S,u.shellSuspendCounter=0;var ue=u.entanglements,Me=u.expirationTimes,Ke=u.hiddenUpdates;for(S=ne&~S;0<S;){var dt=31-qr(S),At=1<<dt;ue[dt]=0,Me[dt]=-1;var Ct=Ke[dt];if(Ct!==null)for(Ke[dt]=null,dt=0;dt<Ct.length;dt++){var tn=Ct[dt];tn!==null&&(tn.lane&=-536870913)}S&=~At}R!==0&&V(u,R,0),k!==0&&I===0&&u.tag!==0&&(u.suspendedLanes|=k&~(ne&~d))}function V(u,d,S){u.pendingLanes|=d,u.suspendedLanes&=~d;var R=31-qr(d);u.entangledLanes|=d,u.entanglements[R]=u.entanglements[R]|1073741824|S&4194218}function G(u,d){var S=u.entangledLanes|=d;for(u=u.entanglements;S;){var R=31-qr(S),I=1<<R;I&d|u[R]&d&&(u[R]|=d),S&=~I}}function $(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function B(u){if(fa&&typeof fa.onCommitFiberRoot=="function")try{fa.onCommitFiberRoot(Ui,u,void 0,(u.current.flags&128)===128)}catch{}}function j(u){if(typeof Lb=="function"&&cr(u),fa&&typeof fa.setStrictMode=="function")try{fa.setStrictMode(Ui,u)}catch{}}function q(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}function Q(u,d){if(typeof u=="object"&&u!==null){var S=ey.get(u);return S!==void 0?S:(d={value:u,source:d,stack:m(d)},ey.set(u,d),d)}return{value:u,source:d,stack:m(d)}}function W(u,d){xc[Sc++]=Bu,xc[Sc++]=_c,_c=u,Bu=d}function ie(u,d,S){Oa[Da++]=_s,Oa[Da++]=Ms,Oa[Da++]=Nl,Nl=u;var R=_s;u=Ms;var I=32-qr(R)-1;R&=~(1<<I),S+=1;var k=32-qr(d)+I;if(30<k){var ne=I-I%5;k=(R&(1<<ne)-1).toString(32),R>>=ne,I-=ne,_s=1<<32-qr(d)+I|S<<I|R,Ms=k+u}else _s=1<<k|S<<I|R,Ms=u}function le(u){u.return!==null&&(W(u,1),ie(u,1,0))}function he(u){for(;u===_c;)_c=xc[--Sc],xc[Sc]=null,Bu=xc[--Sc],xc[Sc]=null;for(;u===Nl;)Nl=Oa[--Da],Oa[Da]=null,Ms=Oa[--Da],Oa[Da]=null,_s=Oa[--Da],Oa[Da]=null}function ae(u,d){D(Js,d),D(Fu,u),D(Xi,null),u=Q0(d),x(Xi),D(Xi,u)}function se(){x(Xi),x(Fu),x(Js)}function me(u){u.memoizedState!==null&&D(Mc,u);var d=Xi.current,S=Pu(d,u.type);d!==S&&(D(Fu,u),D(Xi,S))}function xe(u){Fu.current===u&&(x(Xi),x(Fu)),Mc.current===u&&(x(Mc),kr?xs._currentValue=wl:xs._currentValue2=wl)}function ke(u){var d=Error(r(418,""));throw nt(Q(d,u)),hd}function Qe(u,d){if(!Mr)throw Error(r(175));Sb(u.stateNode,u.type,u.memoizedProps,d,u)||ke(u)}function Ee(u){for(Er=u.return;Er;)switch(Er.tag){case 3:case 27:ur=!0;return;case 5:case 13:ur=!1;return;default:Er=Er.return}}function Ge(u){if(!Mr||u!==Er)return!1;if(!wn)return Ee(u),wn=!0,!1;var d=!1;if(ti?u.tag!==3&&u.tag!==27&&(u.tag!==5||up(u.type)&&!rn(u.type,u.memoizedProps))&&(d=!0):u.tag!==3&&(u.tag!==5||up(u.type)&&!rn(u.type,u.memoizedProps))&&(d=!0),d&&Tr&&ke(u),Ee(u),u.tag===13){if(!Mr)throw Error(r(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));Tr=Mb(u)}else Tr=Er?Qg(u.stateNode):null;return!0}function et(){Mr&&(Tr=Er=null,wn=!1)}function nt(u){es===null?es=[u]:es.push(u)}function J(){for(var u=Ec,d=Es=Ec=0;d<u;){var S=ts[d];ts[d++]=null;var R=ts[d];ts[d++]=null;var I=ts[d];ts[d++]=null;var k=ts[d];if(ts[d++]=null,R!==null&&I!==null){var ne=R.pending;ne===null?I.next=I:(I.next=ne.next,ne.next=I),R.pending=I}k!==0&&ve(S,I,k)}}function We(u,d,S,R){ts[Ec++]=u,ts[Ec++]=d,ts[Ec++]=S,ts[Ec++]=R,Es|=R,u.lanes|=R,u=u.alternate,u!==null&&(u.lanes|=R)}function Re(u,d,S,R){return We(u,d,S,R),ot(u)}function ze(u,d){return We(u,null,null,d),ot(u)}function ve(u,d,S){u.lanes|=S;var R=u.alternate;R!==null&&(R.lanes|=S);for(var I=!1,k=u.return;k!==null;)k.childLanes|=S,R=k.alternate,R!==null&&(R.childLanes|=S),k.tag===22&&(u=k.stateNode,u===null||u._visibility&1||(I=!0)),u=k,k=k.return;I&&d!==null&&u.tag===3&&(k=u.stateNode,I=31-qr(S),k=k.hiddenUpdates,u=k[I],u===null?k[I]=[d]:u.push(d),d.lane=S|536870912)}function ot(u){if(50<Yu)throw Yu=0,Tp=null,Error(r(185));for(var d=u.return;d!==null;)u=d,d=u.return;return u.tag===3?u.stateNode:null}function Ae(u){u!==jo&&u.next===null&&(jo===null?pd=jo=u:jo=jo.next=u),si=!0,Tc||(Tc=!0,Le(Y))}function te(u,d){if(!ty&&si){ty=!0;do for(var S=!1,R=pd;R!==null;){if(u!==0){var I=R.pendingLanes;if(I===0)var k=0;else{var ne=R.suspendedLanes,ue=R.pingedLanes;k=(1<<31-qr(42|u)+1)-1,k&=I&~(ne&~ue),k=k&201326677?k&201326677|1:k?k|2:0}k!==0&&(S=!0,Xe(R,k))}else k=bn,k=O(R,R===kn?k:0),(k&3)===0||N(R,k)||(S=!0,Xe(R,k));R=R.next}while(S);ty=!1}}function Y(){si=Tc=!1;var u=0;Hu!==0&&(eb()&&(u=Hu),Hu=0);for(var d=Ja(),S=null,R=pd;R!==null;){var I=R.next,k=be(R,d);k===0?(R.next=null,S===null?pd=I:S.next=I,I===null&&(jo=S)):(S=R,(u!==0||(k&3)!==0)&&(si=!0)),R=I}te(u)}function be(u,d){for(var S=u.suspendedLanes,R=u.pingedLanes,I=u.expirationTimes,k=u.pendingLanes&-62914561;0<k;){var ne=31-qr(k),ue=1<<ne,Me=I[ne];Me===-1?((ue&S)===0||(ue&R)!==0)&&(I[ne]=z(ue,d)):Me<=d&&(u.expiredLanes|=ue),k&=~ue}if(d=kn,S=bn,S=O(u,u===d?S:0),R=u.callbackNode,S===0||u===d&&Zn===2||u.cancelPendingCommit!==null)return R!==null&&R!==null&&pp(R),u.callbackNode=null,u.callbackPriority=0;if((S&3)===0||N(u,S)){if(d=S&-S,d===u.callbackPriority)return d;switch(R!==null&&pp(R),$(S)){case 2:case 8:S=Ub;break;case 32:S=yp;break;case 268435456:S=yM;break;default:S=yp}return R=we.bind(null,u),S=dd(S,R),u.callbackPriority=d,u.callbackNode=S,d}return R!==null&&R!==null&&pp(R),u.callbackPriority=2,u.callbackNode=null,2}function we(u,d){var S=u.callbackNode;if(vs()&&u.callbackNode!==S)return null;var R=bn;return R=O(u,u===kn?R:0),R===0?null:(xl(u,R,d),be(u,Ja()),u.callbackNode!=null&&u.callbackNode===S?we.bind(null,u):null)}function Xe(u,d){if(vs())return null;xl(u,d,!0)}function Le(u){Hg?Go(function(){(Nn&6)!==0?dd(gp,u):u()}):dd(gp,u)}function ct(){return Hu===0&&(Hu=F()),Hu}function at(u,d){if(Vu===null){var S=Vu=[];Ac=0,Na=ct(),wc={status:"pending",value:void 0,then:function(R){S.push(R)}}}return Ac++,d.then(bt,bt),d}function bt(){if(--Ac===0&&Vu!==null){wc!==null&&(wc.status="fulfilled");var u=Vu;Vu=null,Na=0,wc=null;for(var d=0;d<u.length;d++)(0,u[d])()}}function St(u,d){var S=[],R={status:"pending",value:null,reason:null,then:function(I){S.push(I)}};return u.then(function(){R.status="fulfilled",R.value=d;for(var I=0;I<S.length;I++)(0,S[I])(d)},function(I){for(R.status="rejected",R.reason=I,I=0;I<S.length;I++)(0,S[I])(void 0)}),R}function Be(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ut(u,d){u=u.updateQueue,d.updateQueue===u&&(d.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function _t(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Mt(u,d,S){var R=u.updateQueue;if(R===null)return null;if(R=R.shared,(Nn&2)!==0){var I=R.pending;return I===null?d.next=d:(d.next=I.next,I.next=d),R.pending=d,d=ot(u),ve(u,null,S),d}return We(u,R,d,S),ot(u)}function qe(u,d,S){if(d=d.updateQueue,d!==null&&(d=d.shared,(S&4194176)!==0)){var R=d.lanes;R&=u.pendingLanes,S|=R,d.lanes=S,G(u,S)}}function oe(u,d){var S=u.updateQueue,R=u.alternate;if(R!==null&&(R=R.updateQueue,S===R)){var I=null,k=null;if(S=S.firstBaseUpdate,S!==null){do{var ne={lane:S.lane,tag:S.tag,payload:S.payload,callback:null,next:null};k===null?I=k=ne:k=k.next=ne,S=S.next}while(S!==null);k===null?I=k=d:k=k.next=d}else I=k=d;S={baseState:R.baseState,firstBaseUpdate:I,lastBaseUpdate:k,shared:R.shared,callbacks:R.callbacks},u.updateQueue=S;return}u=S.lastBaseUpdate,u===null?S.firstBaseUpdate=d:u.next=d,S.lastBaseUpdate=d}function Oe(){if(Cc){var u=wc;if(u!==null)throw u}}function ft(u,d,S,R){Cc=!1;var I=u.updateQueue;Wo=!1;var k=I.firstBaseUpdate,ne=I.lastBaseUpdate,ue=I.shared.pending;if(ue!==null){I.shared.pending=null;var Me=ue,Ke=Me.next;Me.next=null,ne===null?k=Ke:ne.next=Ke,ne=Me;var dt=u.alternate;dt!==null&&(dt=dt.updateQueue,ue=dt.lastBaseUpdate,ue!==ne&&(ue===null?dt.firstBaseUpdate=Ke:ue.next=Ke,dt.lastBaseUpdate=Me))}if(k!==null){var At=I.baseState;ne=0,dt=Ke=Me=null,ue=k;do{var Ct=ue.lane&-536870913,tn=Ct!==ue.lane;if(tn?(bn&Ct)===Ct:(R&Ct)===Ct){Ct!==0&&Ct===Na&&(Cc=!0),dt!==null&&(dt=dt.next={lane:0,tag:ue.tag,payload:ue.payload,callback:null,next:null});e:{var Ha=u,Vl=ue;Ct=d;var kl=S;switch(Vl.tag){case 1:if(Ha=Vl.payload,typeof Ha=="function"){At=Ha.call(kl,At,Ct);break e}At=Ha;break e;case 3:Ha.flags=Ha.flags&-65537|128;case 0:if(Ha=Vl.payload,Ct=typeof Ha=="function"?Ha.call(kl,At,Ct):Ha,Ct==null)break e;At=Zh({},At,Ct);break e;case 2:Wo=!0}}Ct=ue.callback,Ct!==null&&(u.flags|=64,tn&&(u.flags|=8192),tn=I.callbacks,tn===null?I.callbacks=[Ct]:tn.push(Ct))}else tn={lane:Ct,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},dt===null?(Ke=dt=tn,Me=At):dt=dt.next=tn,ne|=Ct;if(ue=ue.next,ue===null){if(ue=I.shared.pending,ue===null)break;tn=ue,ue=tn.next,tn.next=null,I.lastBaseUpdate=tn,I.shared.pending=null}}while(!0);dt===null&&(Me=At),I.baseState=Me,I.firstBaseUpdate=Ke,I.lastBaseUpdate=dt,k===null&&(I.shared.lanes=0),Ba|=ne,u.lanes=ne,u.memoizedState=At}}function fe(u,d){if(typeof u!="function")throw Error(r(191,u));u.call(d)}function st(u,d){var S=u.callbacks;if(S!==null)for(u.callbacks=null,u=0;u<S.length;u++)fe(S[u],d)}function Ne(u,d){if(da(u,d))return!0;if(typeof u!="object"||u===null||typeof d!="object"||d===null)return!1;var S=Object.keys(u),R=Object.keys(d);if(S.length!==R.length)return!1;for(R=0;R<S.length;R++){var I=S[R];if(!eo.call(d,I)||!da(u[I],d[I]))return!1}return!0}function Ye(u){return u=u.status,u==="fulfilled"||u==="rejected"}function pt(){}function mt(u,d,S){switch(S=u[S],S===void 0?u.push(d):S!==d&&(d.then(pt,pt),d=S),d.status){case"fulfilled":return d.value;case"rejected":throw u=d.reason,u===ku?Error(r(483)):u;default:if(typeof d.status=="string")d.then(pt,pt);else{if(u=kn,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=d,u.status="pending",u.then(function(R){if(d.status==="pending"){var I=d;I.status="fulfilled",I.value=R}},function(R){if(d.status==="pending"){var I=d;I.status="rejected",I.reason=R}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw u=d.reason,u===ku?Error(r(483)):u}throw Pl=d,ku}}function Ot(){if(Pl===null)throw Error(r(459));var u=Pl;return Pl=null,u}function Zt(u){var d=Ll;return Ll+=1,Ul===null&&(Ul=[]),mt(Ul,u,d)}function Sn(u,d){d=d.props.ref,u.ref=d!==void 0?d:null}function qt(u,d){throw d.$$typeof===uM?Error(r(525)):(u=Object.prototype.toString.call(d),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":u)))}function vi(u){var d=u._init;return d(u._payload)}function $n(u){function d(Ue,ge){if(u){var He=Ue.deletions;He===null?(Ue.deletions=[ge],Ue.flags|=16):He.push(ge)}}function S(Ue,ge){if(!u)return null;for(;ge!==null;)d(Ue,ge),ge=ge.sibling;return null}function R(Ue){for(var ge=new Map;Ue!==null;)Ue.key!==null?ge.set(Ue.key,Ue):ge.set(Ue.index,Ue),Ue=Ue.sibling;return ge}function I(Ue,ge){return Ue=$a(Ue,ge),Ue.index=0,Ue.sibling=null,Ue}function k(Ue,ge,He){return Ue.index=He,u?(He=Ue.alternate,He!==null?(He=He.index,He<ge?(Ue.flags|=33554434,ge):He):(Ue.flags|=33554434,ge)):(Ue.flags|=1048576,ge)}function ne(Ue){return u&&Ue.alternate===null&&(Ue.flags|=33554434),Ue}function ue(Ue,ge,He,lt){return ge===null||ge.tag!==6?(ge=Qh(He,Ue.mode,lt),ge.return=Ue,ge):(ge=I(ge,He),ge.return=Ue,ge)}function Me(Ue,ge,He,lt){var It=He.type;return It===Tl?dt(Ue,ge,He.props.children,lt,He.key):ge!==null&&(ge.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===Ka&&vi(It)===ge.type)?(ge=I(ge,He.props),Sn(ge,He),ge.return=Ue,ge):(ge=$s(He.type,He.key,He.props,null,Ue.mode,lt),Sn(ge,He),ge.return=Ue,ge)}function Ke(Ue,ge,He,lt){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==He.containerInfo||ge.stateNode.implementation!==He.implementation?(ge=Ng(He,Ue.mode,lt),ge.return=Ue,ge):(ge=I(ge,He.children||[]),ge.return=Ue,ge)}function dt(Ue,ge,He,lt,It){return ge===null||ge.tag!==7?(ge=Ti(He,Ue.mode,lt,It),ge.return=Ue,ge):(ge=I(ge,He),ge.return=Ue,ge)}function At(Ue,ge,He){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=Qh(""+ge,Ue.mode,He),ge.return=Ue,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case td:return He=$s(ge.type,ge.key,ge.props,null,Ue.mode,He),Sn(He,ge),He.return=Ue,He;case Qa:return ge=Ng(ge,Ue.mode,He),ge.return=Ue,ge;case Ka:var lt=ge._init;return ge=lt(ge._payload),At(Ue,ge,He)}if(Ou(ge)||a(ge))return ge=Ti(ge,Ue.mode,He,null),ge.return=Ue,ge;if(typeof ge.then=="function")return At(Ue,Zt(ge),He);if(ge.$$typeof===bs)return At(Ue,Hf(Ue,ge),He);qt(Ue,ge)}return null}function Ct(Ue,ge,He,lt){var It=ge!==null?ge.key:null;if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return It!==null?null:ue(Ue,ge,""+He,lt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case td:return He.key===It?Me(Ue,ge,He,lt):null;case Qa:return He.key===It?Ke(Ue,ge,He,lt):null;case Ka:return It=He._init,He=It(He._payload),Ct(Ue,ge,He,lt)}if(Ou(He)||a(He))return It!==null?null:dt(Ue,ge,He,lt,null);if(typeof He.then=="function")return Ct(Ue,ge,Zt(He),lt);if(He.$$typeof===bs)return Ct(Ue,ge,Hf(Ue,He),lt);qt(Ue,He)}return null}function tn(Ue,ge,He,lt,It){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return Ue=Ue.get(He)||null,ue(ge,Ue,""+lt,It);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case td:return Ue=Ue.get(lt.key===null?He:lt.key)||null,Me(ge,Ue,lt,It);case Qa:return Ue=Ue.get(lt.key===null?He:lt.key)||null,Ke(ge,Ue,lt,It);case Ka:var pi=lt._init;return lt=pi(lt._payload),tn(Ue,ge,He,lt,It)}if(Ou(lt)||a(lt))return Ue=Ue.get(He)||null,dt(ge,Ue,lt,It,null);if(typeof lt.then=="function")return tn(Ue,ge,He,Zt(lt),It);if(lt.$$typeof===bs)return tn(Ue,ge,He,Hf(ge,lt),It);qt(ge,lt)}return null}function Ha(Ue,ge,He,lt){for(var It=null,pi=null,$t=ge,Ln=ge=0,Li=null;$t!==null&&Ln<He.length;Ln++){$t.index>Ln?(Li=$t,$t=null):Li=$t.sibling;var yn=Ct(Ue,$t,He[Ln],lt);if(yn===null){$t===null&&($t=Li);break}u&&$t&&yn.alternate===null&&d(Ue,$t),ge=k(yn,ge,Ln),pi===null?It=yn:pi.sibling=yn,pi=yn,$t=Li}if(Ln===He.length)return S(Ue,$t),wn&&W(Ue,Ln),It;if($t===null){for(;Ln<He.length;Ln++)$t=At(Ue,He[Ln],lt),$t!==null&&(ge=k($t,ge,Ln),pi===null?It=$t:pi.sibling=$t,pi=$t);return wn&&W(Ue,Ln),It}for($t=R($t);Ln<He.length;Ln++)Li=tn($t,Ue,Ln,He[Ln],lt),Li!==null&&(u&&Li.alternate!==null&&$t.delete(Li.key===null?Ln:Li.key),ge=k(Li,ge,Ln),pi===null?It=Li:pi.sibling=Li,pi=Li);return u&&$t.forEach(function(lo){return d(Ue,lo)}),wn&&W(Ue,Ln),It}function Vl(Ue,ge,He,lt){if(He==null)throw Error(r(151));for(var It=null,pi=null,$t=ge,Ln=ge=0,Li=null,yn=He.next();$t!==null&&!yn.done;Ln++,yn=He.next()){$t.index>Ln?(Li=$t,$t=null):Li=$t.sibling;var lo=Ct(Ue,$t,yn.value,lt);if(lo===null){$t===null&&($t=Li);break}u&&$t&&lo.alternate===null&&d(Ue,$t),ge=k(lo,ge,Ln),pi===null?It=lo:pi.sibling=lo,pi=lo,$t=Li}if(yn.done)return S(Ue,$t),wn&&W(Ue,Ln),It;if($t===null){for(;!yn.done;Ln++,yn=He.next())yn=At(Ue,yn.value,lt),yn!==null&&(ge=k(yn,ge,Ln),pi===null?It=yn:pi.sibling=yn,pi=yn);return wn&&W(Ue,Ln),It}for($t=R($t);!yn.done;Ln++,yn=He.next())yn=tn($t,Ue,Ln,yn.value,lt),yn!==null&&(u&&yn.alternate!==null&&$t.delete(yn.key===null?Ln:yn.key),ge=k(yn,ge,Ln),pi===null?It=yn:pi.sibling=yn,pi=yn);return u&&$t.forEach(function(Ap){return d(Ue,Ap)}),wn&&W(Ue,Ln),It}function kl(Ue,ge,He,lt){if(typeof He=="object"&&He!==null&&He.type===Tl&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case td:e:{for(var It=He.key;ge!==null;){if(ge.key===It){if(It=He.type,It===Tl){if(ge.tag===7){S(Ue,ge.sibling),lt=I(ge,He.props.children),lt.return=Ue,Ue=lt;break e}}else if(ge.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===Ka&&vi(It)===ge.type){S(Ue,ge.sibling),lt=I(ge,He.props),Sn(lt,He),lt.return=Ue,Ue=lt;break e}S(Ue,ge);break}else d(Ue,ge);ge=ge.sibling}He.type===Tl?(lt=Ti(He.props.children,Ue.mode,lt,He.key),lt.return=Ue,Ue=lt):(lt=$s(He.type,He.key,He.props,null,Ue.mode,lt),Sn(lt,He),lt.return=Ue,Ue=lt)}return ne(Ue);case Qa:e:{for(It=He.key;ge!==null;){if(ge.key===It)if(ge.tag===4&&ge.stateNode.containerInfo===He.containerInfo&&ge.stateNode.implementation===He.implementation){S(Ue,ge.sibling),lt=I(ge,He.children||[]),lt.return=Ue,Ue=lt;break e}else{S(Ue,ge);break}else d(Ue,ge);ge=ge.sibling}lt=Ng(He,Ue.mode,lt),lt.return=Ue,Ue=lt}return ne(Ue);case Ka:return It=He._init,He=It(He._payload),kl(Ue,ge,He,lt)}if(Ou(He))return Ha(Ue,ge,He,lt);if(a(He)){if(It=a(He),typeof It!="function")throw Error(r(150));return He=It.call(He),Vl(Ue,ge,He,lt)}if(typeof He.then=="function")return kl(Ue,ge,Zt(He),lt);if(He.$$typeof===bs)return kl(Ue,ge,Hf(Ue,He),lt);qt(Ue,He)}return typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint"?(He=""+He,ge!==null&&ge.tag===6?(S(Ue,ge.sibling),lt=I(ge,He),lt.return=Ue,Ue=lt):(S(Ue,ge),lt=Qh(He,Ue.mode,lt),lt.return=Ue,Ue=lt),ne(Ue)):S(Ue,ge)}return function(Ue,ge,He,lt){try{Ll=0;var It=kl(Ue,ge,He,lt);return Ul=null,It}catch($t){if($t===ku)throw $t;var pi=t(29,$t,null,Ue.mode);return pi.lanes=lt,pi.return=Ue,pi}finally{}}}function Qn(u,d){u=Pr,D(Gu,u),D(oi,d),Pr=u|d.baseLanes}function di(){D(Gu,Pr),D(oi,oi.current)}function Ei(){Pr=Gu.current,x(oi),x(Gu)}function nr(u){var d=u.alternate;D(Yi,Yi.current&1),D(Pa,u),ni===null&&(d===null||oi.current!==null||d.memoizedState!==null)&&(ni=u)}function Ao(u){if(u.tag===22){if(D(Yi,Yi.current),D(Pa,u),ni===null){var d=u.alternate;d!==null&&d.memoizedState!==null&&(ni=u)}}else Rr()}function Rr(){D(Yi,Yi.current),D(Pa,Pa.current)}function ir(u){x(Pa),ni===u&&(ni=null),x(Yi)}function rr(u){for(var d=u;d!==null;){if(d.tag===13){var S=d.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||op(S)||lp(S)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function Qt(){throw Error(r(321))}function Fn(u,d){if(d===null)return!1;for(var S=0;S<d.length&&S<u.length;S++)if(!da(u[S],d[S]))return!1;return!0}function zi(u,d,S,R,I,k){return Xo=k,cn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Yt.H=u===null||u.memoizedState===null?Bl:jr,zl=!1,k=S(R,I),zl=!1,Rc&&(k=ra(d,S,R,I)),ia(u),k}function ia(u){Yt.H=Ai;var d=Ht!==null&&Ht.next!==null;if(Xo=0,Dn=Ht=cn=null,ns=!1,Oc=0,fr=null,d)throw Error(r(300));u===null||ii||(u=u.dependencies,u!==null&&Ff(u)&&(ii=!0))}function ra(u,d,S,R){cn=u;var I=0;do{if(Rc&&(fr=null),Oc=0,Rc=!1,25<=I)throw Error(r(301));if(I+=1,Dn=Ht=null,u.updateQueue!=null){var k=u.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}Yt.H=Ua,k=d(S,R)}while(Rc);return k}function Ve(){var u=Yt.H,d=u.useState()[0];return d=typeof d.then=="function"?Te(d):d,u=u.useState()[0],(Ht!==null?Ht.memoizedState:null)!==u&&(cn.flags|=1024),d}function je(){var u=vp!==0;return vp=0,u}function Et(u,d,S){d.updateQueue=u.updateQueue,d.flags&=-2053,u.lanes&=~S}function Vt(u){if(ns){for(u=u.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}ns=!1}Xo=0,Dn=Ht=cn=null,Rc=!1,Oc=vp=0,fr=null}function Z(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?cn.memoizedState=Dn=u:Dn=Dn.next=u,Dn}function de(){if(Ht===null){var u=cn.alternate;u=u!==null?u.memoizedState:null}else u=Ht.next;var d=Dn===null?cn.memoizedState:Dn.next;if(d!==null)Dn=d,Ht=u;else{if(u===null)throw cn.alternate===null?Error(r(467)):Error(r(310));Ht=u,u={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Dn===null?cn.memoizedState=Dn=u:Dn=Dn.next=u}return Dn}function Te(u){var d=Oc;return Oc+=1,fr===null&&(fr=[]),u=mt(fr,u,d),d=cn,(Dn===null?d.memoizedState:Dn.next)===null&&(d=d.alternate,Yt.H=d===null||d.memoizedState===null?Bl:jr),u}function De(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Te(u);if(u.$$typeof===bs)return br(u)}throw Error(r(438,String(u)))}function Se(u){var d=null,S=cn.updateQueue;if(S!==null&&(d=S.memoCache),d==null){var R=cn.alternate;R!==null&&(R=R.updateQueue,R!==null&&(R=R.memoCache,R!=null&&(d={data:R.data.map(function(I){return I.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),S===null&&(S=bp(),cn.updateQueue=S),S.memoCache=d,S=d.data[d.index],S===void 0)for(S=d.data[d.index]=Array(u),R=0;R<u;R++)S[R]=$0;return d.index++,S}function rt(u,d){return typeof d=="function"?d(u):d}function gt(u){var d=de();return yt(d,Ht,u)}function yt(u,d,S){var R=u.queue;if(R===null)throw Error(r(311));R.lastRenderedReducer=S;var I=u.baseQueue,k=R.pending;if(k!==null){if(I!==null){var ne=I.next;I.next=k.next,k.next=ne}d.baseQueue=I=k,R.pending=null}if(k=u.baseState,I===null)u.memoizedState=k;else{d=I.next;var ue=ne=null,Me=null,Ke=d,dt=!1;do{var At=Ke.lane&-536870913;if(At!==Ke.lane?(bn&At)===At:(Xo&At)===At){var Ct=Ke.revertLane;if(Ct===0)Me!==null&&(Me=Me.next={lane:0,revertLane:0,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null}),At===Na&&(dt=!0);else if((Xo&Ct)===Ct){Ke=Ke.next,Ct===Na&&(dt=!0);continue}else At={lane:0,revertLane:Ke.revertLane,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},Me===null?(ue=Me=At,ne=k):Me=Me.next=At,cn.lanes|=Ct,Ba|=Ct;At=Ke.action,zl&&S(k,At),k=Ke.hasEagerState?Ke.eagerState:S(k,At)}else Ct={lane:At,revertLane:Ke.revertLane,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null},Me===null?(ue=Me=Ct,ne=k):Me=Me.next=Ct,cn.lanes|=At,Ba|=At;Ke=Ke.next}while(Ke!==null&&Ke!==d);if(Me===null?ne=k:Me.next=ue,!da(k,u.memoizedState)&&(ii=!0,dt&&(S=wc,S!==null)))throw S;u.memoizedState=k,u.baseState=ne,u.baseQueue=Me,R.lastRenderedState=k}return I===null&&(R.lanes=0),[u.memoizedState,R.dispatch]}function Tt(u){var d=de(),S=d.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=u;var R=S.dispatch,I=S.pending,k=d.memoizedState;if(I!==null){S.pending=null;var ne=I=I.next;do k=u(k,ne.action),ne=ne.next;while(ne!==I);da(k,d.memoizedState)||(ii=!0),d.memoizedState=k,d.baseQueue===null&&(d.baseState=k),S.lastRenderedState=k}return[k,R]}function vt(u,d,S){var R=cn,I=de(),k=wn;if(k){if(S===void 0)throw Error(r(407));S=S()}else S=d();var ne=!da((Ht||I).memoizedState,S);if(ne&&(I.memoizedState=S,ii=!0),I=I.queue,ig(Jt.bind(null,R,I,u),[u]),I.getSnapshot!==d||ne||Dn!==null&&Dn.memoizedState.tag&1){if(R.flags|=2048,Br(9,Dt.bind(null,R,I,S,d),{destroy:void 0},null),kn===null)throw Error(r(349));k||(Xo&60)!==0||Pt(R,d,S)}return S}function Pt(u,d,S){u.flags|=16384,u={getSnapshot:d,value:S},d=cn.updateQueue,d===null?(d=bp(),cn.updateQueue=d,d.stores=[u]):(S=d.stores,S===null?d.stores=[u]:S.push(u))}function Dt(u,d,S,R){d.value=S,d.getSnapshot=R,On(d)&&bi(u)}function Jt(u,d,S){return S(function(){On(d)&&bi(u)})}function On(u){var d=u.getSnapshot;u=u.value;try{var S=d();return!da(u,S)}catch{return!0}}function bi(u){var d=ze(u,2);d!==null&&lr(d,u,2)}function gn(u){var d=Z();if(typeof u=="function"){var S=u;if(u=S(),zl){j(!0);try{S()}finally{j(!1)}}}return d.memoizedState=d.baseState=u,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rt,lastRenderedState:u},d}function vn(u,d,S,R){return u.baseState=S,yt(u,Ht,typeof R=="function"?R:rt)}function Bt(u,d,S,R,I){if(Uf(u))throw Error(r(485));if(u=d.action,u!==null){var k={payload:I,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ne){k.listeners.push(ne)}};Yt.T!==null?S(!0):k.isTransition=!1,R(k),S=d.pending,S===null?(k.next=d.pending=k,Si(d,k)):(k.next=S.next,d.pending=S.next=k)}}function Si(u,d){var S=d.action,R=d.payload,I=u.state;if(d.isTransition){var k=Yt.T,ne={};Yt.T=ne;try{var ue=S(I,R),Me=Yt.S;Me!==null&&Me(ne,ue),An(u,d,ue)}catch(Ke){Gs(u,d,Ke)}finally{Yt.T=k}}else try{k=S(I,R),An(u,d,k)}catch(Ke){Gs(u,d,Ke)}}function An(u,d,S){S!==null&&typeof S=="object"&&typeof S.then=="function"?S.then(function(R){gr(u,d,R)},function(R){return Gs(u,d,R)}):gr(u,d,S)}function gr(u,d,S){d.status="fulfilled",d.value=S,ei(d),u.state=S,d=u.pending,d!==null&&(S=d.next,S===d?u.pending=null:(S=S.next,d.next=S,Si(u,S)))}function Gs(u,d,S){var R=u.pending;if(u.pending=null,R!==null){R=R.next;do d.status="rejected",d.reason=S,ei(d),d=d.next;while(d!==R)}u.action=null}function ei(u){u=u.listeners;for(var d=0;d<u.length;d++)(0,u[d])()}function qs(u,d){return d}function Kn(u,d){if(wn){var S=kn.formState;if(S!==null){e:{var R=cn;if(wn){if(Tr){var I=$g(Tr,ur);if(I){Tr=Qg(I),R=yb(I);break e}}ke(R)}R=!1}R&&(d=S[0])}}S=Z(),S.memoizedState=S.baseState=d,R={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:d},S.queue=R,S=og.bind(null,cn,R),R.dispatch=S,R=gn(!1);var k=du.bind(null,cn,!1,R.queue);return R=Z(),I={state:d,dispatch:null,action:u,pending:null},R.queue=I,S=Bt.bind(null,cn,I,k,S),I.dispatch=S,R.memoizedState=u,[d,S,!1]}function yr(u){var d=de();return Bi(d,Ht,u)}function Bi(u,d,S){d=yt(u,d,qs)[0],u=gt(rt)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?Te(d):d;var R=de(),I=R.queue,k=I.dispatch;return S!==R.memoizedState&&(cn.flags|=2048,Br(9,ar.bind(null,I,S),{destroy:void 0},null)),[d,k,u]}function ar(u,d){u.action=d}function sr(u){var d=de(),S=Ht;if(S!==null)return Bi(d,S,u);de(),d=d.memoizedState,S=de();var R=S.queue.dispatch;return S.memoizedState=u,[d,R,!1]}function Br(u,d,S,R){return u={tag:u,create:d,inst:S,deps:R,next:null},d=cn.updateQueue,d===null&&(d=bp(),cn.updateQueue=d),S=d.lastEffect,S===null?d.lastEffect=u.next=u:(R=S.next,S.next=u,u.next=R,d.lastEffect=u),u}function js(){return de().memoizedState}function Rf(u,d,S,R){var I=Z();cn.flags|=u,I.memoizedState=Br(1|d,S,{destroy:void 0},R===void 0?null:R)}function Of(u,d,S,R){var I=de();R=R===void 0?null:R;var k=I.memoizedState.inst;Ht!==null&&R!==null&&Fn(R,Ht.memoizedState.deps)?I.memoizedState=Br(d,S,k,R):(cn.flags|=u,I.memoizedState=Br(1|d,S,k,R))}function Oh(u,d){Rf(8390656,8,u,d)}function ig(u,d){Of(2048,8,u,d)}function w0(u,d){return Of(4,2,u,d)}function Df(u,d){return Of(4,4,u,d)}function Dh(u,d){if(typeof d=="function"){u=u();var S=d(u);return function(){typeof S=="function"?S():d(null)}}if(d!=null)return u=u(),d.current=u,function(){d.current=null}}function Nh(u,d,S){S=S!=null?S.concat([u]):null,Of(4,4,Dh.bind(null,d,u),S)}function ul(){}function dc(u,d){var S=de();d=d===void 0?null:d;var R=S.memoizedState;return d!==null&&Fn(d,R[1])?R[0]:(S.memoizedState=[u,d],u)}function rg(u,d){var S=de();d=d===void 0?null:d;var R=S.memoizedState;if(d!==null&&Fn(d,R[1]))return R[0];if(R=u(),zl){j(!0);try{u()}finally{j(!1)}}return S.memoizedState=[R,d],R}function Nf(u,d,S){return S===void 0||(Xo&1073741824)!==0?u.memoizedState=d:(u.memoizedState=S,u=Ag(),cn.lanes|=u,Ba|=u,S)}function ag(u,d,S,R){return da(S,d)?S:oi.current!==null?(u=Nf(u,S,R),da(u,d)||(ii=!0),u):(Xo&42)===0?(ii=!0,u.memoizedState=S):(u=Ag(),cn.lanes|=u,Ba|=u,d)}function uu(u,d,S,R,I){var k=ko();Dr(k!==0&&8>k?k:8);var ne=Yt.T,ue={};Yt.T=ue,du(u,!1,d,S);try{var Me=I(),Ke=Yt.S;if(Ke!==null&&Ke(ue,Me),Me!==null&&typeof Me=="object"&&typeof Me.then=="function"){var dt=St(Me,R);fl(u,d,dt,Di(u))}else fl(u,d,R,Di(u))}catch(At){fl(u,d,{then:function(){},status:"rejected",reason:At},Di())}finally{Dr(k),Yt.T=ne}}function Ws(u){var d=u.memoizedState;if(d!==null)return d;d={memoizedState:wl,baseState:wl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rt,lastRenderedState:wl},next:null};var S={};return d.next={memoizedState:S,baseState:S,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rt,lastRenderedState:S},next:null},u.memoizedState=d,u=u.alternate,u!==null&&(u.memoizedState=d),d}function Pf(){return br(xs)}function fu(){return de().memoizedState}function wo(){return de().memoizedState}function sg(u){for(var d=u.return;d!==null;){switch(d.tag){case 24:case 3:var S=Di();u=_t(S);var R=Mt(d,u,S);R!==null&&(lr(R,d,S),qe(R,d,S)),d={cache:ml()},u.payload=d;return}d=d.return}}function Ph(u,d,S){var R=Di();S={lane:R,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null},Uf(u)?Fr(d,S):(S=Re(u,d,S,R),S!==null&&(lr(S,u,R),dl(S,d,R)))}function og(u,d,S){var R=Di();fl(u,d,S,R)}function fl(u,d,S,R){var I={lane:R,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null};if(Uf(u))Fr(d,I);else{var k=u.alternate;if(u.lanes===0&&(k===null||k.lanes===0)&&(k=d.lastRenderedReducer,k!==null))try{var ne=d.lastRenderedState,ue=k(ne,S);if(I.hasEagerState=!0,I.eagerState=ue,da(ue,ne))return We(u,d,I,0),kn===null&&J(),!1}catch{}finally{}if(S=Re(u,d,I,R),S!==null)return lr(S,u,R),dl(S,d,R),!0}return!1}function du(u,d,S,R){if(R={lane:2,revertLane:ct(),action:R,hasEagerState:!1,eagerState:null,next:null},Uf(u)){if(d)throw Error(r(479))}else d=Re(u,S,R,2),d!==null&&lr(d,u,2)}function Uf(u){var d=u.alternate;return u===cn||d!==null&&d===cn}function Fr(u,d){Rc=ns=!0;var S=u.pending;S===null?d.next=d:(d.next=S.next,S.next=d),u.pending=d}function dl(u,d,S){if((S&4194176)!==0){var R=d.lanes;R&=u.pendingLanes,S|=R,d.lanes=S,G(u,S)}}function hu(u,d,S,R){d=u.memoizedState,S=S(R,d),S=S==null?d:Zh({},d,S),u.memoizedState=S,u.lanes===0&&(u.updateQueue.baseState=S)}function pu(u,d,S,R,I,k,ne){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(R,k,ne):d.prototype&&d.prototype.isPureReactComponent?!Ne(S,R)||!Ne(I,k):!0}function C0(u,d,S,R){u=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(S,R),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(S,R),d.state!==u&&no.enqueueReplaceState(d,d.state,null)}function Co(u,d){var S=d;if("ref"in d){S={};for(var R in d)R!=="ref"&&(S[R]=d[R])}if(u=u.defaultProps){S===d&&(S=Zh({},S));for(var I in u)S[I]===void 0&&(S[I]=u[I])}return S}function mu(u,d){try{var S=u.onUncaughtError;S(d.value,{componentStack:d.stack})}catch(R){setTimeout(function(){throw R})}}function gu(u,d,S){try{var R=u.onCaughtError;R(S.value,{componentStack:S.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function yu(u,d,S){return S=_t(S),S.tag=3,S.payload={element:null},S.callback=function(){mu(u,d)},S}function lg(u){return u=_t(u),u.tag=3,u}function R0(u,d,S,R){var I=S.type.getDerivedStateFromError;if(typeof I=="function"){var k=R.value;u.payload=function(){return I(k)},u.callback=function(){gu(d,S,R)}}var ne=S.stateNode;ne!==null&&typeof ne.componentDidCatch=="function"&&(u.callback=function(){gu(d,S,R),typeof I!="function"&&(Fl===null?Fl=new Set([this]):Fl.add(this));var ue=R.stack;this.componentDidCatch(R.value,{componentStack:ue!==null?ue:""})})}function sM(u,d,S,R,I){if(S.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){if(d=S.alternate,d!==null&&Bf(d,S,I,!0),S=Pa.current,S!==null){switch(S.tag){case 13:return ni===null?Io():S.alternate===null&&ri===0&&(ri=3),S.flags&=-257,S.flags|=65536,S.lanes=I,R===gd?S.flags|=16384:(d=S.updateQueue,d===null?S.updateQueue=new Set([R]):d.add(R),mc(u,R,I)),!1;case 22:return S.flags|=65536,R===gd?S.flags|=16384:(d=S.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([R])},S.updateQueue=d):(S=d.retryQueue,S===null?d.retryQueue=new Set([R]):S.add(R)),mc(u,R,I)),!1}throw Error(r(435,S.tag))}return mc(u,R,I),Io(),!1}if(wn)return d=Pa.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=I,R!==hd&&(u=Error(r(422),{cause:R}),nt(Q(u,S)))):(R!==hd&&(d=Error(r(423),{cause:R}),nt(Q(d,S))),u=u.current.alternate,u.flags|=65536,I&=-I,u.lanes|=I,R=Q(R,S),I=yu(u.stateNode,R,I),oe(u,I),ri!==4&&(ri=2)),!1;var k=Error(r(520),{cause:R});if(k=Q(k,S),Nc===null?Nc=[k]:Nc.push(k),ri!==4&&(ri=2),d===null)return!0;R=Q(R,S),S=d;do{switch(S.tag){case 3:return S.flags|=65536,u=I&-I,S.lanes|=u,u=yu(S.stateNode,R,u),oe(S,u),!1;case 1:if(d=S.type,k=S.stateNode,(S.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Fl===null||!Fl.has(k))))return S.flags|=65536,I&=-I,S.lanes|=I,I=lg(I),R0(I,u,S,R),oe(S,I),!1}S=S.return}while(S!==null);return!1}function vr(u,d,S,R){d.child=u===null?to(d,null,S,R):Il(d,u.child,S,R)}function Uh(u,d,S,R,I){S=S.render;var k=d.ref;if("ref"in R){var ne={};for(var ue in R)ue!=="ref"&&(ne[ue]=R[ue])}else ne=R;return pl(d),R=zi(u,d,S,ne,k,I),ue=je(),u!==null&&!ii?(Et(u,d,I),Ro(u,d,I)):(wn&&ue&&le(d),d.flags|=1,vr(u,d,R,I),d.child)}function O0(u,d,S,R,I){if(u===null){var k=S.type;return typeof k=="function"&&!Kf(k)&&k.defaultProps===void 0&&S.compare===null?(d.tag=15,d.type=k,D0(u,d,k,R,I)):(u=$s(S.type,null,R,d,d.mode,I),u.ref=d.ref,u.return=d,d.child=u)}if(k=u.child,!hg(u,I)){var ne=k.memoizedProps;if(S=S.compare,S=S!==null?S:Ne,S(ne,R)&&u.ref===d.ref)return Ro(u,d,I)}return d.flags|=1,u=$a(k,R),u.ref=d.ref,u.return=d,d.child=u}function D0(u,d,S,R,I){if(u!==null){var k=u.memoizedProps;if(Ne(k,R)&&u.ref===d.ref)if(ii=!1,d.pendingProps=R=k,hg(u,I))(u.flags&131072)!==0&&(ii=!0);else return d.lanes=u.lanes,Ro(u,d,I)}return Lh(u,d,S,R,I)}function N0(u,d,S){var R=d.pendingProps,I=R.children,k=(d.stateNode._pendingVisibility&2)!==0,ne=u!==null?u.memoizedState:null;if(Lf(u,d),R.mode==="hidden"||k){if((d.flags&128)!==0){if(R=ne!==null?ne.baseLanes|S:S,u!==null){for(I=d.child=u.child,k=0;I!==null;)k=k|I.lanes|I.childLanes,I=I.sibling;d.childLanes=k&~R}else d.childLanes=0,d.child=null;return P0(u,d,R,S)}if((S&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},u!==null&&zh(d,ne!==null?ne.cachePool:null),ne!==null?Qn(d,ne):di(),Ao(d);else return d.lanes=d.childLanes=536870912,P0(u,d,ne!==null?ne.baseLanes|S:S,S)}else ne!==null?(zh(d,ne.cachePool),Qn(d,ne),Rr(),d.memoizedState=null):(u!==null&&zh(d,null),di(),Rr());return vr(u,d,I,S),d.child}function P0(u,d,S,R){var I=mg();return I=I===null?null:{parent:kr?li._currentValue:li._currentValue2,pool:I},d.memoizedState={baseLanes:S,cachePool:I},u!==null&&zh(d,null),di(),Ao(d),u!==null&&Bf(u,d,R,!0),null}function Lf(u,d){var S=d.ref;if(S===null)u!==null&&u.ref!==null&&(d.flags|=2097664);else{if(typeof S!="function"&&typeof S!="object")throw Error(r(284));(u===null||u.ref!==S)&&(d.flags|=2097664)}}function Lh(u,d,S,R,I){return pl(d),S=zi(u,d,S,R,void 0,I),R=je(),u!==null&&!ii?(Et(u,d,I),Ro(u,d,I)):(wn&&R&&le(d),d.flags|=1,vr(u,d,S,I),d.child)}function U0(u,d,S,R,I,k){return pl(d),d.updateQueue=null,S=ra(d,R,S,I),ia(u),R=je(),u!==null&&!ii?(Et(u,d,k),Ro(u,d,k)):(wn&&R&&le(d),d.flags|=1,vr(u,d,S,k),d.child)}function L0(u,d,S,R,I){if(pl(d),d.stateNode===null){var k=Dl,ne=S.contextType;typeof ne=="object"&&ne!==null&&(k=br(ne)),k=new S(R,k),d.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=no,d.stateNode=k,k._reactInternals=d,k=d.stateNode,k.props=R,k.state=d.memoizedState,k.refs={},Be(d),ne=S.contextType,k.context=typeof ne=="object"&&ne!==null?br(ne):Dl,k.state=d.memoizedState,ne=S.getDerivedStateFromProps,typeof ne=="function"&&(hu(d,S,ne,R),k.state=d.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(ne=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),ne!==k.state&&no.enqueueReplaceState(k,k.state,null),ft(d,R,k,I),Oe(),k.state=d.memoizedState),typeof k.componentDidMount=="function"&&(d.flags|=4194308),R=!0}else if(u===null){k=d.stateNode;var ue=d.memoizedProps,Me=Co(S,ue);k.props=Me;var Ke=k.context,dt=S.contextType;ne=Dl,typeof dt=="object"&&dt!==null&&(ne=br(dt));var At=S.getDerivedStateFromProps;dt=typeof At=="function"||typeof k.getSnapshotBeforeUpdate=="function",ue=d.pendingProps!==ue,dt||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(ue||Ke!==ne)&&C0(d,k,R,ne),Wo=!1;var Ct=d.memoizedState;k.state=Ct,ft(d,R,k,I),Oe(),Ke=d.memoizedState,ue||Ct!==Ke||Wo?(typeof At=="function"&&(hu(d,S,At,R),Ke=d.memoizedState),(Me=Wo||pu(d,S,Me,R,Ct,Ke,ne))?(dt||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(d.flags|=4194308)):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=R,d.memoizedState=Ke),k.props=R,k.state=Ke,k.context=ne,R=Me):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),R=!1)}else{k=d.stateNode,ut(u,d),ne=d.memoizedProps,dt=Co(S,ne),k.props=dt,At=d.pendingProps,Ct=k.context,Ke=S.contextType,Me=Dl,typeof Ke=="object"&&Ke!==null&&(Me=br(Ke)),ue=S.getDerivedStateFromProps,(Ke=typeof ue=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(ne!==At||Ct!==Me)&&C0(d,k,R,Me),Wo=!1,Ct=d.memoizedState,k.state=Ct,ft(d,R,k,I),Oe();var tn=d.memoizedState;ne!==At||Ct!==tn||Wo||u!==null&&u.dependencies!==null&&Ff(u.dependencies)?(typeof ue=="function"&&(hu(d,S,ue,R),tn=d.memoizedState),(dt=Wo||pu(d,S,dt,R,Ct,tn,Me)||u!==null&&u.dependencies!==null&&Ff(u.dependencies))?(Ke||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(R,tn,Me),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(R,tn,Me)),typeof k.componentDidUpdate=="function"&&(d.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof k.componentDidUpdate!="function"||ne===u.memoizedProps&&Ct===u.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||ne===u.memoizedProps&&Ct===u.memoizedState||(d.flags|=1024),d.memoizedProps=R,d.memoizedState=tn),k.props=R,k.state=tn,k.context=Me,R=dt):(typeof k.componentDidUpdate!="function"||ne===u.memoizedProps&&Ct===u.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||ne===u.memoizedProps&&Ct===u.memoizedState||(d.flags|=1024),R=!1)}return k=R,Lf(u,d),R=(d.flags&128)!==0,k||R?(k=d.stateNode,S=R&&typeof S.getDerivedStateFromError!="function"?null:k.render(),d.flags|=1,u!==null&&R?(d.child=Il(d,u.child,null,I),d.child=Il(d,null,S,I)):vr(u,d,S,I),d.memoizedState=k.state,u=d.child):u=Ro(u,d,I),u}function I0(u,d,S,R){return et(),d.flags|=256,vr(u,d,S,R),d.child}function cg(u){return{baseLanes:u,cachePool:gg()}}function If(u,d,S){return u=u!==null?u.childLanes&~S:0,d&&(u|=Fa),u}function z0(u,d,S){var R=d.pendingProps,I=!1,k=(d.flags&128)!==0,ne;if((ne=k)||(ne=u!==null&&u.memoizedState===null?!1:(Yi.current&2)!==0),ne&&(I=!0,d.flags&=-129),ne=(d.flags&32)!==0,d.flags&=-33,u===null){if(wn){if(I?nr(d):Rr(),wn){var ue=Tr,Me;(Me=ue)&&(ue=xb(ue,ur),ue!==null?(d.memoizedState={dehydrated:ue,treeContext:Nl!==null?{id:_s,overflow:Ms}:null,retryLane:536870912},Me=t(18,null,null,0),Me.stateNode=ue,Me.return=d,d.child=Me,Er=d,Tr=null,Me=!0):Me=!1),Me||ke(d)}if(ue=d.memoizedState,ue!==null&&(ue=ue.dehydrated,ue!==null))return lp(ue)?d.lanes=16:d.lanes=536870912,null;ir(d)}return ue=R.children,R=R.fallback,I?(Rr(),I=d.mode,ue=fg({mode:"hidden",children:ue},I),R=Ti(R,I,S,null),ue.return=d,R.return=d,ue.sibling=R,d.child=ue,I=d.child,I.memoizedState=cg(S),I.childLanes=If(u,ne,S),d.memoizedState=_p,R):(nr(d),ug(d,ue))}if(Me=u.memoizedState,Me!==null&&(ue=Me.dehydrated,ue!==null)){if(k)d.flags&256?(nr(d),d.flags&=-257,d=Ih(u,d,S)):d.memoizedState!==null?(Rr(),d.child=u.child,d.flags|=128,d=null):(Rr(),I=R.fallback,ue=d.mode,R=fg({mode:"visible",children:R.children},ue),I=Ti(I,ue,S,null),I.flags|=2,R.return=d,I.return=d,R.sibling=I,d.child=R,Il(d,u.child,null,S),R=d.child,R.memoizedState=cg(S),R.childLanes=If(u,ne,S),d.memoizedState=_p,d=I);else if(nr(d),lp(ue))ne=mb(ue).digest,R=Error(r(419)),R.stack="",R.digest=ne,nt({value:R,source:null,stack:null}),d=Ih(u,d,S);else if(ii||Bf(u,d,S,!1),ne=(S&u.childLanes)!==0,ii||ne){if(ne=kn,ne!==null){if(R=S&-S,(R&42)!==0)R=1;else switch(R){case 2:R=1;break;case 8:R=4;break;case 32:R=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:R=64;break;case 268435456:R=134217728;break;default:R=0}if(R=(R&(ne.suspendedLanes|S))!==0?0:R,R!==0&&R!==Me.retryLane)throw Me.retryLane=R,ze(u,R),lr(ne,u,R),Sp}op(ue)||Io(),d=Ih(u,d,S)}else op(ue)?(d.flags|=128,d.child=u.child,d=zo.bind(null,u),gb(ue,d),d=null):(u=Me.treeContext,Mr&&(Tr=bb(ue),Er=d,wn=!0,es=null,ur=!1,u!==null&&(Oa[Da++]=_s,Oa[Da++]=Ms,Oa[Da++]=Nl,_s=u.id,Ms=u.overflow,Nl=d)),d=ug(d,R.children),d.flags|=4096);return d}return I?(Rr(),I=R.fallback,ue=d.mode,Me=u.child,k=Me.sibling,R=$a(Me,{mode:"hidden",children:R.children}),R.subtreeFlags=Me.subtreeFlags&31457280,k!==null?I=$a(k,I):(I=Ti(I,ue,S,null),I.flags|=2),I.return=d,R.return=d,R.sibling=I,d.child=R,R=I,I=d.child,ue=u.child.memoizedState,ue===null?ue=cg(S):(Me=ue.cachePool,Me!==null?(k=kr?li._currentValue:li._currentValue2,Me=Me.parent!==k?{parent:k,pool:k}:Me):Me=gg(),ue={baseLanes:ue.baseLanes|S,cachePool:Me}),I.memoizedState=ue,I.childLanes=If(u,ne,S),d.memoizedState=_p,R):(nr(d),S=u.child,u=S.sibling,S=$a(S,{mode:"visible",children:R.children}),S.return=d,S.sibling=null,u!==null&&(ne=d.deletions,ne===null?(d.deletions=[u],d.flags|=16):ne.push(u)),d.child=S,d.memoizedState=null,S)}function ug(u,d){return d=fg({mode:"visible",children:d},u.mode),d.return=u,u.child=d}function fg(u,d){return Jf(u,d,0,null)}function Ih(u,d,S){return Il(d,u.child,null,S),u=ug(d,d.pendingProps.children),u.flags|=2,d.memoizedState=null,u}function B0(u,d,S){u.lanes|=d;var R=u.alternate;R!==null&&(R.lanes|=d),zf(u.return,d,S)}function dg(u,d,S,R,I){var k=u.memoizedState;k===null?u.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:R,tail:S,tailMode:I}:(k.isBackwards=d,k.rendering=null,k.renderingStartTime=0,k.last=R,k.tail=S,k.tailMode=I)}function F0(u,d,S){var R=d.pendingProps,I=R.revealOrder,k=R.tail;if(vr(u,d,R.children,S),R=Yi.current,(R&2)!==0)R=R&1|2,d.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=d.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&B0(u,S,d);else if(u.tag===19)B0(u,S,d);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===d)break e;for(;u.sibling===null;){if(u.return===null||u.return===d)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}R&=1}switch(D(Yi,R),I){case"forwards":for(S=d.child,I=null;S!==null;)u=S.alternate,u!==null&&rr(u)===null&&(I=S),S=S.sibling;S=I,S===null?(I=d.child,d.child=null):(I=S.sibling,S.sibling=null),dg(d,!1,I,S,k);break;case"backwards":for(S=null,I=d.child,d.child=null;I!==null;){if(u=I.alternate,u!==null&&rr(u)===null){d.child=I;break}u=I.sibling,I.sibling=S,S=I,I=u}dg(d,!0,S,null,k);break;case"together":dg(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Ro(u,d,S){if(u!==null&&(d.dependencies=u.dependencies),Ba|=d.lanes,(S&d.childLanes)===0)if(u!==null){if(Bf(u,d,S,!1),(S&d.childLanes)===0)return null}else return null;if(u!==null&&d.child!==u.child)throw Error(r(153));if(d.child!==null){for(u=d.child,S=$a(u,u.pendingProps),d.child=S,S.return=d;u.sibling!==null;)u=u.sibling,S=S.sibling=$a(u,u.pendingProps),S.return=d;S.sibling=null}return d.child}function hg(u,d){return(u.lanes&d)!==0?!0:(u=u.dependencies,!!(u!==null&&Ff(u)))}function oM(u,d,S){switch(d.tag){case 3:ae(d,d.stateNode.containerInfo),hl(d,li,u.memoizedState.cache),et();break;case 27:case 5:me(d);break;case 4:ae(d,d.stateNode.containerInfo);break;case 10:hl(d,d.type,d.memoizedProps.value);break;case 13:var R=d.memoizedState;if(R!==null)return R.dehydrated!==null?(nr(d),d.flags|=128,null):(S&d.child.childLanes)!==0?z0(u,d,S):(nr(d),u=Ro(u,d,S),u!==null?u.sibling:null);nr(d);break;case 19:var I=(u.flags&128)!==0;if(R=(S&d.childLanes)!==0,R||(Bf(u,d,S,!1),R=(S&d.childLanes)!==0),I){if(R)return F0(u,d,S);d.flags|=128}if(I=d.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),D(Yi,Yi.current),R)break;return null;case 22:case 23:return d.lanes=0,N0(u,d,S);case 24:hl(d,li,u.memoizedState.cache)}return Ro(u,d,S)}function H0(u,d,S){if(u!==null)if(u.memoizedProps!==d.pendingProps)ii=!0;else{if(!hg(u,S)&&(d.flags&128)===0)return ii=!1,oM(u,d,S);ii=(u.flags&131072)!==0}else ii=!1,wn&&(d.flags&1048576)!==0&&ie(d,Bu,d.index);switch(d.lanes=0,d.tag){case 16:e:{u=d.pendingProps;var R=d.elementType,I=R._init;if(R=I(R._payload),d.type=R,typeof R=="function")Kf(R)?(u=Co(R,u),d.tag=1,d=L0(null,d,R,u,S)):(d.tag=0,d=Lh(null,d,R,u,S));else{if(R!=null){if(I=R.$$typeof,I===rd){d.tag=11,d=Uh(null,d,R,u,S);break e}else if(I===tp){d.tag=14,d=O0(null,d,R,u,S);break e}}throw d=o(R)||R,Error(r(306,d,""))}}return d;case 0:return Lh(u,d,d.type,d.pendingProps,S);case 1:return R=d.type,I=Co(R,d.pendingProps),L0(u,d,R,I,S);case 3:e:{if(ae(d,d.stateNode.containerInfo),u===null)throw Error(r(387));var k=d.pendingProps;I=d.memoizedState,R=I.element,ut(u,d),ft(d,k,null,S);var ne=d.memoizedState;if(k=ne.cache,hl(d,li,k),k!==I.cache&&hc(d,[li],S,!0),Oe(),k=ne.element,Mr&&I.isDehydrated)if(I={element:k,isDehydrated:!1,cache:ne.cache},d.updateQueue.baseState=I,d.memoizedState=I,d.flags&256){d=I0(u,d,k,S);break e}else if(k!==R){R=Q(Error(r(424)),d),nt(R),d=I0(u,d,k,S);break e}else for(Mr&&(Tr=vb(d.stateNode.containerInfo),Er=d,wn=!0,es=null,ur=!0),S=to(d,null,k,S),d.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(et(),k===R){d=Ro(u,d,S);break e}vr(u,d,k,S)}d=d.child}return d;case 26:if(Ra)return Lf(u,d),u===null?(S=Jg(d.type,null,d.pendingProps,null))?d.memoizedState=S:wn||(d.stateNode=hp(d.type,d.pendingProps,Js.current,d)):d.memoizedState=Jg(d.type,u.memoizedProps,d.pendingProps,u.memoizedState),null;case 27:if(ti)return me(d),u===null&&ti&&wn&&(R=d.stateNode=Ss(d.type,d.pendingProps,Js.current,Xi.current,!1),Er=d,ur=!0,Tr=cp(R)),R=d.pendingProps.children,u!==null||wn?vr(u,d,R,S):d.child=Il(d,null,R,S),Lf(u,d),d.child;case 5:return u===null&&wn&&(fp(d.type,d.pendingProps,Xi.current),(I=R=Tr)&&(R=pM(R,d.type,d.pendingProps,ur),R!==null?(d.stateNode=R,Er=d,Tr=cp(R),ur=!1,I=!0):I=!1),I||ke(d)),me(d),I=d.type,k=d.pendingProps,ne=u!==null?u.memoizedProps:null,R=k.children,rn(I,k)?R=null:ne!==null&&rn(I,ne)&&(d.flags|=32),d.memoizedState!==null&&(I=zi(u,d,Ve,null,null,S),kr?xs._currentValue=I:xs._currentValue2=I),Lf(u,d),vr(u,d,R,S),d.child;case 6:return u===null&&wn&&(Tb(d.pendingProps,Xi.current),(u=S=Tr)&&(S=Kg(S,d.pendingProps,ur),S!==null?(d.stateNode=S,Er=d,Tr=null,u=!0):u=!1),u||ke(d)),null;case 13:return z0(u,d,S);case 4:return ae(d,d.stateNode.containerInfo),R=d.pendingProps,u===null?d.child=Il(d,null,R,S):vr(u,d,R,S),d.child;case 11:return Uh(u,d,d.type,d.pendingProps,S);case 7:return vr(u,d,d.pendingProps,S),d.child;case 8:return vr(u,d,d.pendingProps.children,S),d.child;case 12:return vr(u,d,d.pendingProps.children,S),d.child;case 10:return R=d.pendingProps,hl(d,d.type,R.value),vr(u,d,R.children,S),d.child;case 9:return I=d.type._context,R=d.pendingProps.children,pl(d),I=br(I),R=R(I),d.flags|=1,vr(u,d,R,S),d.child;case 14:return O0(u,d,d.type,d.pendingProps,S);case 15:return D0(u,d,d.type,d.pendingProps,S);case 19:return F0(u,d,S);case 22:return N0(u,d,S);case 24:return pl(d),R=br(li),u===null?(I=mg(),I===null&&(I=kn,k=ml(),I.pooledCache=k,k.refCount++,k!==null&&(I.pooledCacheLanes|=S),I=k),d.memoizedState={parent:R,cache:I},Be(d),hl(d,li,I)):((u.lanes&S)!==0&&(ut(u,d),ft(d,null,null,S),Oe()),I=u.memoizedState,k=d.memoizedState,I.parent!==R?(I={parent:R,cache:R},d.memoizedState=I,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=I),hl(d,li,R)):(R=k.cache,hl(d,li,R),R!==I.cache&&hc(d,[li],S,!0))),vr(u,d,d.pendingProps.children,S),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function hl(u,d,S){kr?(D(Yo,d._currentValue),d._currentValue=S):(D(Yo,d._currentValue2),d._currentValue2=S)}function Oo(u){var d=Yo.current;kr?u._currentValue=d:u._currentValue2=d,x(Yo)}function zf(u,d,S){for(;u!==null;){var R=u.alternate;if((u.childLanes&d)!==d?(u.childLanes|=d,R!==null&&(R.childLanes|=d)):R!==null&&(R.childLanes&d)!==d&&(R.childLanes|=d),u===S)break;u=u.return}}function hc(u,d,S,R){var I=u.child;for(I!==null&&(I.return=u);I!==null;){var k=I.dependencies;if(k!==null){var ne=I.child;k=k.firstContext;e:for(;k!==null;){var ue=k;k=I;for(var Me=0;Me<d.length;Me++)if(ue.context===d[Me]){k.lanes|=S,ue=k.alternate,ue!==null&&(ue.lanes|=S),zf(k.return,S,u),R||(ne=null);break e}k=ue.next}}else if(I.tag===18){if(ne=I.return,ne===null)throw Error(r(341));ne.lanes|=S,k=ne.alternate,k!==null&&(k.lanes|=S),zf(ne,S,u),ne=null}else ne=I.child;if(ne!==null)ne.return=I;else for(ne=I;ne!==null;){if(ne===u){ne=null;break}if(I=ne.sibling,I!==null){I.return=ne.return,ne=I;break}ne=ne.return}I=ne}}function Bf(u,d,S,R){u=null;for(var I=d,k=!1;I!==null;){if(!k){if((I.flags&524288)!==0)k=!0;else if((I.flags&262144)!==0)break}if(I.tag===10){var ne=I.alternate;if(ne===null)throw Error(r(387));if(ne=ne.memoizedProps,ne!==null){var ue=I.type;da(I.pendingProps.value,ne.value)||(u!==null?u.push(ue):u=[ue])}}else if(I===Mc.current){if(ne=I.alternate,ne===null)throw Error(r(387));ne.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(u!==null?u.push(xs):u=[xs])}I=I.return}u!==null&&hc(d,u,S,R),d.flags|=262144}function Ff(u){for(u=u.firstContext;u!==null;){var d=u.context;if(!da(kr?d._currentValue:d._currentValue2,u.memoizedValue))return!0;u=u.next}return!1}function pl(u){As=u,La=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function br(u){return pg(As,u)}function Hf(u,d){return As===null&&pl(u),pg(u,d)}function pg(u,d){var S=kr?d._currentValue:d._currentValue2;if(d={context:d,memoizedValue:S,next:null},La===null){if(u===null)throw Error(r(308));La=d,u.dependencies={lanes:0,firstContext:d},u.flags|=524288}else La=La.next=d;return S}function ml(){return{controller:new qu,data:new Map,refCount:0}}function Vf(u){u.refCount--,u.refCount===0&&Ib(zb,function(){u.controller.abort()})}function mg(){var u=io.current;return u!==null?u:kn.pooledCache}function zh(u,d){d===null?D(io,io.current):D(io,d.pool)}function gg(){var u=mg();return u===null?null:{parent:kr?li._currentValue:li._currentValue2,pool:u}}function aa(u){u.flags|=4}function vu(u,d){if(u!==null&&u.child===d.child)return!1;if((d.flags&16)!==0)return!0;for(u=d.child;u!==null;){if((u.flags&13878)!==0||(u.subtreeFlags&13878)!==0)return!0;u=u.sibling}return!1}function pc(u,d,S,R){if(Wi)for(S=d.child;S!==null;){if(S.tag===5||S.tag===6)sd(u,S.stateNode);else if(!(S.tag===4||ti&&S.tag===27)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===d)break;for(;S.sibling===null;){if(S.return===null||S.return===d)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else if(Za)for(var I=d.child;I!==null;){if(I.tag===5){var k=I.stateNode;S&&R&&(k=Xg(k,I.type,I.memoizedProps)),sd(u,k)}else if(I.tag===6)k=I.stateNode,S&&R&&(k=Yg(k,I.memoizedProps)),sd(u,k);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)k=I.child,k!==null&&(k.return=I),pc(u,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===d)break;for(;I.sibling===null;){if(I.return===null||I.return===d)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function V0(u,d,S,R){if(Za)for(var I=d.child;I!==null;){if(I.tag===5){var k=I.stateNode;S&&R&&(k=Xg(k,I.type,I.memoizedProps)),Wg(u,k)}else if(I.tag===6)k=I.stateNode,S&&R&&(k=Yg(k,I.memoizedProps)),Wg(u,k);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)k=I.child,k!==null&&(k.return=I),V0(u,I,!(I.memoizedProps!==null&&I.memoizedProps.mode==="manual"),!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===d)break;for(;I.sibling===null;){if(I.return===null||I.return===d)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function kf(u,d){if(Za&&vu(u,d)){u=d.stateNode;var S=u.containerInfo,R=od();V0(R,d,!1,!1),u.pendingChildren=R,aa(d),sp(S,R)}}function Bh(u,d,S,R){if(Wi)u.memoizedProps!==R&&aa(d);else if(Za){var I=u.stateNode,k=u.memoizedProps;if((u=vu(u,d))||k!==R){var ne=Xi.current;k=Lu(I,S,k,R,!u,null),k===I?d.stateNode=I:(Vo(k,S,R,ne)&&aa(d),d.stateNode=k,u?pc(k,d,!1,!1):aa(d))}else d.stateNode=I}}function Fh(u,d,S){if(Bg(d,S)){if(u.flags|=16777216,!rp(d,S))if(Sl())u.flags|=8192;else throw Pl=gd,md}else u.flags&=-16777217}function Hh(u,d){if(Cb(d)){if(u.flags|=16777216,!vc(d))if(Sl())u.flags|=8192;else throw Pl=gd,md}else u.flags&=-16777217}function bu(u,d){d!==null&&(u.flags|=4),u.flags&16384&&(d=u.tag!==22?P():536870912,u.lanes|=d,so|=d)}function xu(u,d){if(!wn)switch(u.tailMode){case"hidden":d=u.tail;for(var S=null;d!==null;)d.alternate!==null&&(S=d),d=d.sibling;S===null?u.tail=null:S.sibling=null;break;case"collapsed":S=u.tail;for(var R=null;S!==null;)S.alternate!==null&&(R=S),S=S.sibling;R===null?d||u.tail===null?u.tail=null:u.tail.sibling=null:R.sibling=null}}function xi(u){var d=u.alternate!==null&&u.alternate.child===u.child,S=0,R=0;if(d)for(var I=u.child;I!==null;)S|=I.lanes|I.childLanes,R|=I.subtreeFlags&31457280,R|=I.flags&31457280,I.return=u,I=I.sibling;else for(I=u.child;I!==null;)S|=I.lanes|I.childLanes,R|=I.subtreeFlags,R|=I.flags,I.return=u,I=I.sibling;return u.subtreeFlags|=R,u.childLanes=S,d}function k0(u,d,S){var R=d.pendingProps;switch(he(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xi(d),null;case 1:return xi(d),null;case 3:return S=d.stateNode,R=null,u!==null&&(R=u.memoizedState.cache),d.memoizedState.cache!==R&&(d.flags|=2048),Oo(li),se(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(u===null||u.child===null)&&(Ge(d)?aa(d):u===null||u.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,es!==null&&($f(es),es=null))),kf(u,d),xi(d),null;case 26:if(Ra){S=d.type;var I=d.memoizedState;return u===null?(aa(d),I!==null?(xi(d),Hh(d,I)):(xi(d),Fh(d,S,R))):I?I!==u.memoizedState?(aa(d),xi(d),Hh(d,I)):(xi(d),d.flags&=-16777217):(Wi?u.memoizedProps!==R&&aa(d):Bh(u,d,S,R),xi(d),Fh(d,S,R)),null}case 27:if(ti){if(xe(d),S=Js.current,I=d.type,u!==null&&d.stateNode!=null)Wi?u.memoizedProps!==R&&aa(d):Bh(u,d,I,R);else{if(!R){if(d.stateNode===null)throw Error(r(166));return xi(d),null}u=Xi.current,Ge(d)?Qe(d,u):(u=Ss(I,R,S,u,!0),d.stateNode=u,aa(d))}return xi(d),null}case 5:if(xe(d),S=d.type,u!==null&&d.stateNode!=null)Bh(u,d,S,R);else{if(!R){if(d.stateNode===null)throw Error(r(166));return xi(d),null}u=Xi.current,Ge(d)?Qe(d,u):(I=zg(S,R,Js.current,u,d),pc(I,d,!1,!1),d.stateNode=I,Vo(I,S,R,u)&&aa(d))}return xi(d),Fh(d,d.type,d.pendingProps),null;case 6:if(u&&d.stateNode!=null)S=u.memoizedProps,Wi?S!==R&&aa(d):Za&&(S!==R?(d.stateNode=qn(R,Js.current,Xi.current,d),aa(d)):d.stateNode=u.stateNode);else{if(typeof R!="string"&&d.stateNode===null)throw Error(r(166));if(u=Js.current,S=Xi.current,Ge(d)){if(!Mr)throw Error(r(176));if(u=d.stateNode,S=d.memoizedProps,R=null,I=Er,I!==null)switch(I.tag){case 27:case 5:R=I.memoizedProps}Zg(u,S,d,R)||ke(d)}else d.stateNode=qn(R,u,S,d)}return xi(d),null;case 13:if(R=d.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(I=Ge(d),R!==null&&R.dehydrated!==null){if(u===null){if(!I)throw Error(r(318));if(!Mr)throw Error(r(344));if(I=d.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(r(317));_b(I,d)}else et(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;xi(d),I=!1}else es!==null&&($f(es),es=null),I=!0;if(!I)return d.flags&256?(ir(d),d):(ir(d),null)}if(ir(d),(d.flags&128)!==0)return d.lanes=S,d;if(S=R!==null,u=u!==null&&u.memoizedState!==null,S){R=d.child,I=null,R.alternate!==null&&R.alternate.memoizedState!==null&&R.alternate.memoizedState.cachePool!==null&&(I=R.alternate.memoizedState.cachePool.pool);var k=null;R.memoizedState!==null&&R.memoizedState.cachePool!==null&&(k=R.memoizedState.cachePool.pool),k!==I&&(R.flags|=2048)}return S!==u&&S&&(d.child.flags|=8192),bu(d,d.updateQueue),xi(d),null;case 4:return se(),kf(u,d),u===null&&Ni(d.stateNode.containerInfo),xi(d),null;case 10:return Oo(d.type),xi(d),null;case 19:if(x(Yi),I=d.memoizedState,I===null)return xi(d),null;if(R=(d.flags&128)!==0,k=I.rendering,k===null)if(R)xu(I,!1);else{if(ri!==0||u!==null&&(u.flags&128)!==0)for(u=d.child;u!==null;){if(k=rr(u),k!==null){for(d.flags|=128,xu(I,!1),u=k.updateQueue,d.updateQueue=u,bu(d,u),d.subtreeFlags=0,u=S,S=d.child;S!==null;)Zf(S,u),S=S.sibling;return D(Yi,Yi.current&1|2),d.child}u=u.sibling}I.tail!==null&&Ja()>Xu&&(d.flags|=128,R=!0,xu(I,!1),d.lanes=4194304)}else{if(!R)if(u=rr(k),u!==null){if(d.flags|=128,R=!0,u=u.updateQueue,d.updateQueue=u,bu(d,u),xu(I,!0),I.tail===null&&I.tailMode==="hidden"&&!k.alternate&&!wn)return xi(d),null}else 2*Ja()-I.renderingStartTime>Xu&&S!==536870912&&(d.flags|=128,R=!0,xu(I,!1),d.lanes=4194304);I.isBackwards?(k.sibling=d.child,d.child=k):(u=I.last,u!==null?u.sibling=k:d.child=k,I.last=k)}return I.tail!==null?(d=I.tail,I.rendering=d,I.tail=d.sibling,I.renderingStartTime=Ja(),d.sibling=null,u=Yi.current,D(Yi,R?u&1|2:u&1),d):(xi(d),null);case 22:case 23:return ir(d),Ei(),R=d.memoizedState!==null,u!==null?u.memoizedState!==null!==R&&(d.flags|=8192):R&&(d.flags|=8192),R?(S&536870912)!==0&&(d.flags&128)===0&&(xi(d),d.subtreeFlags&6&&(d.flags|=8192)):xi(d),S=d.updateQueue,S!==null&&bu(d,S.retryQueue),S=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(S=u.memoizedState.cachePool.pool),R=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(R=d.memoizedState.cachePool.pool),R!==S&&(d.flags|=2048),u!==null&&x(io),null;case 24:return S=null,u!==null&&(S=u.memoizedState.cache),d.memoizedState.cache!==S&&(d.flags|=2048),Oo(li),xi(d),null;case 25:return null}throw Error(r(156,d.tag))}function lM(u,d){switch(he(d),d.tag){case 1:return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 3:return Oo(li),se(),u=d.flags,(u&65536)!==0&&(u&128)===0?(d.flags=u&-65537|128,d):null;case 26:case 27:case 5:return xe(d),null;case 13:if(ir(d),u=d.memoizedState,u!==null&&u.dehydrated!==null){if(d.alternate===null)throw Error(r(340));et()}return u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 19:return x(Yi),null;case 4:return se(),null;case 10:return Oo(d.type),null;case 22:case 23:return ir(d),Ei(),u!==null&&x(io),u=d.flags,u&65536?(d.flags=u&-65537|128,d):null;case 24:return Oo(li),null;case 25:return null;default:return null}}function G0(u,d){switch(he(d),d.tag){case 3:Oo(li),se();break;case 26:case 27:case 5:xe(d);break;case 4:se();break;case 13:ir(d);break;case 19:x(Yi);break;case 10:Oo(d.type);break;case 22:case 23:ir(d),Ei(),u!==null&&x(io);break;case 24:Oo(li)}}function Gf(u,d){try{var S=d.updateQueue,R=S!==null?S.lastEffect:null;if(R!==null){var I=R.next;S=I;do{if((S.tag&u)===u){R=void 0;var k=S.create,ne=S.inst;R=k(),ne.destroy=R}S=S.next}while(S!==I)}}catch(ue){Hn(d,d.return,ue)}}function gl(u,d,S){try{var R=d.updateQueue,I=R!==null?R.lastEffect:null;if(I!==null){var k=I.next;R=k;do{if((R.tag&u)===u){var ne=R.inst,ue=ne.destroy;if(ue!==void 0){ne.destroy=void 0,I=d;var Me=S;try{ue()}catch(Ke){Hn(I,Me,Ke)}}}R=R.next}while(R!==k)}}catch(Ke){Hn(d,d.return,Ke)}}function q0(u){var d=u.updateQueue;if(d!==null){var S=u.stateNode;try{st(d,S)}catch(R){Hn(u,u.return,R)}}}function sa(u,d,S){S.props=Co(u.type,u.memoizedProps),S.state=u.memoizedState;try{S.componentWillUnmount()}catch(R){Hn(u,d,R)}}function ys(u,d){try{var S=u.ref;if(S!==null){var R=u.stateNode;switch(u.tag){case 26:case 27:case 5:var I=Nu(R);break;default:I=R}typeof S=="function"?u.refCleanup=S(I):S.current=I}}catch(k){Hn(u,d,k)}}function oa(u,d){var S=u.ref,R=u.refCleanup;if(S!==null)if(typeof R=="function")try{R()}catch(I){Hn(u,d,I)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof S=="function")try{S(null)}catch(I){Hn(u,d,I)}else S.current=null}function yg(u){var d=u.type,S=u.memoizedProps,R=u.stateNode;try{dM(R,d,S,u)}catch(I){Hn(u,u.return,I)}}function vg(u,d,S){try{ob(u.stateNode,u.type,S,d,u)}catch(R){Hn(u,u.return,R)}}function bg(u){return u.tag===5||u.tag===3||(Ra?u.tag===26:!1)||(ti?u.tag===27:!1)||u.tag===4}function qf(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||bg(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&(!ti||u.tag!==27)&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function xg(u,d,S){var R=u.tag;if(R===5||R===6)u=u.stateNode,d?cb(S,u,d):Gg(S,u);else if(!(R===4||ti&&R===27)&&(u=u.child,u!==null))for(xg(u,d,S),u=u.sibling;u!==null;)xg(u,d,S),u=u.sibling}function Do(u,d,S){var R=u.tag;if(R===5||R===6)u=u.stateNode,d?lb(S,u,d):ab(S,u);else if(!(R===4||ti&&R===27)&&(u=u.child,u!==null))for(Do(u,d,S),u=u.sibling;u!==null;)Do(u,d,S),u=u.sibling}function Vh(u,d,S){u=u.containerInfo;try{Iu(u,S)}catch(R){Hn(d,d.return,R)}}function jf(u,d){for(np(u.containerInfo),en=d;en!==null;)if(u=en,d=u.child,(u.subtreeFlags&1028)!==0&&d!==null)d.return=u,en=d;else for(;en!==null;){u=en;var S=u.alternate;switch(d=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&S!==null){d=void 0;var R=u,I=S.memoizedProps;S=S.memoizedState;var k=R.stateNode;try{var ne=Co(R.type,I,R.elementType===R.type);d=k.getSnapshotBeforeUpdate(ne,S),k.__reactInternalSnapshotBeforeUpdate=d}catch(ue){Hn(R,R.return,ue)}}break;case 3:(d&1024)!==0&&Wi&&pb(u.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=u.sibling,d!==null){d.return=u.return,en=d;break}en=u.return}return ne=pn,pn=!1,ne}function kh(u,d,S){var R=S.flags;switch(S.tag){case 0:case 11:case 15:Po(u,S),R&4&&Gf(5,S);break;case 1:if(Po(u,S),R&4)if(u=S.stateNode,d===null)try{u.componentDidMount()}catch(ue){Hn(S,S.return,ue)}else{var I=Co(S.type,d.memoizedProps);d=d.memoizedState;try{u.componentDidUpdate(I,d,u.__reactInternalSnapshotBeforeUpdate)}catch(ue){Hn(S,S.return,ue)}}R&64&&q0(S),R&512&&ys(S,S.return);break;case 3:if(Po(u,S),R&64&&(R=S.updateQueue,R!==null)){if(u=null,S.child!==null)switch(S.child.tag){case 27:case 5:u=Nu(S.child.stateNode);break;case 1:u=S.child.stateNode}try{st(R,u)}catch(ue){Hn(S,S.return,ue)}}break;case 26:if(Ra){Po(u,S),R&512&&ys(S,S.return);break}case 27:case 5:Po(u,S),d===null&&R&4&&yg(S),R&512&&ys(S,S.return);break;case 12:Po(u,S);break;case 13:Po(u,S),R&4&&Gh(u,S);break;case 22:if(I=S.memoizedState!==null||ro,!I){d=d!==null&&d.memoizedState!==null||wi;var k=ro,ne=wi;ro=I,(wi=d)&&!ne?Uo(u,S,(S.subtreeFlags&8772)!==0):Po(u,S),ro=k,wi=ne}R&512&&(S.memoizedProps.mode==="manual"?ys(S,S.return):oa(S,S.return));break;default:Po(u,S)}}function Sg(u){var d=u.alternate;d!==null&&(u.alternate=null,Sg(d)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(d=u.stateNode,d!==null&&fM(d)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function xr(u,d,S){for(S=S.child;S!==null;)yl(u,d,S),S=S.sibling}function yl(u,d,S){if(fa&&typeof fa.onCommitFiberUnmount=="function")try{fa.onCommitFiberUnmount(Ui,S)}catch{}switch(S.tag){case 26:if(Ra){wi||oa(S,d),xr(u,d,S),S.memoizedState?yc(S.memoizedState):S.stateNode&&zu(S.stateNode);break}case 27:if(ti){wi||oa(S,d);var R=Ft,I=on;Ft=S.stateNode,xr(u,d,S),Ol(S.stateNode),Ft=R,on=I;break}case 5:wi||oa(S,d);case 6:if(Wi){if(R=Ft,I=on,Ft=null,xr(u,d,S),Ft=R,on=I,Ft!==null)if(on)try{ub(Ft,S.stateNode)}catch(k){Hn(S,d,k)}else try{qg(Ft,S.stateNode)}catch(k){Hn(S,d,k)}}else xr(u,d,S);break;case 18:Wi&&Ft!==null&&(on?ld(Ft,S.stateNode):Eb(Ft,S.stateNode));break;case 4:Wi?(R=Ft,I=on,Ft=S.stateNode.containerInfo,on=!0,xr(u,d,S),Ft=R,on=I):(Za&&Vh(S.stateNode,S,od()),xr(u,d,S));break;case 0:case 11:case 14:case 15:wi||gl(2,S,d),wi||gl(4,S,d),xr(u,d,S);break;case 1:wi||(oa(S,d),R=S.stateNode,typeof R.componentWillUnmount=="function"&&sa(S,d,R)),xr(u,d,S);break;case 21:xr(u,d,S);break;case 22:wi||oa(S,d),wi=(R=wi)||S.memoizedState!==null,xr(u,d,S),wi=R;break;default:xr(u,d,S)}}function Gh(u,d){if(Mr&&d.memoizedState===null&&(u=d.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{gM(u)}catch(S){Hn(d,d.return,S)}}function j0(u){switch(u.tag){case 13:case 19:var d=u.stateNode;return d===null&&(d=u.stateNode=new Vn),d;case 22:return u=u.stateNode,d=u._retryCache,d===null&&(d=u._retryCache=new Vn),d;default:throw Error(r(435,u.tag))}}function No(u,d){var S=j0(u);d.forEach(function(R){var I=El.bind(null,u,R);S.has(R)||(S.add(R),R.then(I,I))})}function Hr(u,d){var S=d.deletions;if(S!==null)for(var R=0;R<S.length;R++){var I=S[R],k=u,ne=d;if(Wi){var ue=ne;e:for(;ue!==null;){switch(ue.tag){case 27:case 5:Ft=ue.stateNode,on=!1;break e;case 3:Ft=ue.stateNode.containerInfo,on=!0;break e;case 4:Ft=ue.stateNode.containerInfo,on=!0;break e}ue=ue.return}if(Ft===null)throw Error(r(160));yl(k,ne,I),Ft=null,on=!1}else yl(k,ne,I);k=I.alternate,k!==null&&(k.return=null),I.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)_g(d,u),d=d.sibling}function _g(u,d){var S=u.alternate,R=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Hr(d,u),la(u),R&4&&(gl(3,u,u.return),Gf(3,u),gl(5,u,u.return));break;case 1:Hr(d,u),la(u),R&512&&(wi||S===null||oa(S,S.return)),R&64&&ro&&(u=u.updateQueue,u!==null&&(R=u.callbacks,R!==null&&(S=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=S===null?R:S.concat(R))));break;case 26:if(Ra){var I=Mi;Hr(d,u),la(u),R&512&&(wi||S===null||oa(S,S.return)),R&4&&(R=S!==null?S.memoizedState:null,d=u.memoizedState,S===null?d===null?u.stateNode===null?u.stateNode=ud(I,u.type,u.memoizedProps,u):fd(I,u.type,u.stateNode):u.stateNode=Ab(I,d,u.memoizedProps):R!==d?(R===null?S.stateNode!==null&&zu(S.stateNode):yc(R),d===null?fd(I,u.type,u.stateNode):Ab(I,d,u.memoizedProps)):d===null&&u.stateNode!==null&&vg(u,u.memoizedProps,S.memoizedProps));break}case 27:if(ti&&R&4&&u.alternate===null){I=u.stateNode;var k=u.memoizedProps;try{Rl(I),Ob(u.type,k,I,u)}catch(dt){Hn(u,u.return,dt)}}case 5:if(Hr(d,u),la(u),R&512&&(wi||S===null||oa(S,S.return)),Wi){if(u.flags&32){d=u.stateNode;try{jg(d)}catch(dt){Hn(u,u.return,dt)}}R&4&&u.stateNode!=null&&(d=u.memoizedProps,vg(u,d,S!==null?S.memoizedProps:d)),R&1024&&(iy=!0)}break;case 6:if(Hr(d,u),la(u),R&4&&Wi){if(u.stateNode===null)throw Error(r(162));R=u.memoizedProps,S=S!==null?S.memoizedProps:R,d=u.stateNode;try{sb(d,S,R)}catch(dt){Hn(u,u.return,dt)}}break;case 3:if(Ra?(wb(),I=Mi,Mi=dp(d.containerInfo),Hr(d,u),Mi=I):Hr(d,u),la(u),R&4){if(Wi&&Mr&&S!==null&&S.memoizedState.isDehydrated)try{mM(d.containerInfo)}catch(dt){Hn(u,u.return,dt)}if(Za){R=d.containerInfo,S=d.pendingChildren;try{Iu(R,S)}catch(dt){Hn(u,u.return,dt)}}}iy&&(iy=!1,W0(u));break;case 4:Ra?(S=Mi,Mi=dp(u.stateNode.containerInfo),Hr(d,u),la(u),Mi=S):(Hr(d,u),la(u)),R&4&&Za&&Vh(u.stateNode,u,u.stateNode.pendingChildren);break;case 12:Hr(d,u),la(u);break;case 13:Hr(d,u),la(u),u.child.flags&8192&&u.memoizedState!==null!=(S!==null&&S.memoizedState!==null)&&(Wr=Ja()),R&4&&(R=u.updateQueue,R!==null&&(u.updateQueue=null,No(u,R)));break;case 22:R&512&&(wi||S===null||oa(S,S.return)),I=u.memoizedState!==null;var ne=S!==null&&S.memoizedState!==null,ue=ro,Me=wi;if(ro=ue||I,wi=Me||ne,Hr(d,u),wi=Me,ro=ue,la(u),d=u.stateNode,d._current=u,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,R&8192&&(d._visibility=I?d._visibility&-2:d._visibility|1,I&&(d=ro||wi,S===null||ne||d||Su(u)),Wi&&(u.memoizedProps===null||u.memoizedProps.mode!=="manual"))){e:if(S=null,Wi)for(d=u;;){if(d.tag===5||Ra&&d.tag===26||ti&&d.tag===27){if(S===null){ne=S=d;try{k=ne.stateNode,I?fb(k):hb(ne.stateNode,ne.memoizedProps)}catch(dt){Hn(ne,ne.return,dt)}}}else if(d.tag===6){if(S===null){ne=d;try{var Ke=ne.stateNode;I?db(Ke):hM(Ke,ne.memoizedProps)}catch(dt){Hn(ne,ne.return,dt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===u)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break e;for(;d.sibling===null;){if(d.return===null||d.return===u)break e;S===d&&(S=null),d=d.return}S===d&&(S=null),d.sibling.return=d.return,d=d.sibling}}R&4&&(R=u.updateQueue,R!==null&&(S=R.retryQueue,S!==null&&(R.retryQueue=null,No(u,S))));break;case 19:Hr(d,u),la(u),R&4&&(R=u.updateQueue,R!==null&&(u.updateQueue=null,No(u,R)));break;case 21:break;default:Hr(d,u),la(u)}}function la(u){var d=u.flags;if(d&2){try{if(Wi&&(!ti||u.tag!==27)){e:{for(var S=u.return;S!==null;){if(bg(S)){var R=S;break e}S=S.return}throw Error(r(160))}switch(R.tag){case 27:if(ti){var I=R.stateNode,k=qf(u);Do(u,k,I);break}case 5:var ne=R.stateNode;R.flags&32&&(jg(ne),R.flags&=-33);var ue=qf(u);Do(u,ue,ne);break;case 3:case 4:var Me=R.stateNode.containerInfo,Ke=qf(u);xg(u,Ke,Me);break;default:throw Error(r(161))}}}catch(dt){Hn(u,u.return,dt)}u.flags&=-3}d&4096&&(u.flags&=-4097)}function W0(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var d=u;W0(d),d.tag===5&&d.flags&1024&&ap(d.stateNode),u=u.sibling}}function Po(u,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)kh(u,d.alternate,d),d=d.sibling}function Su(u){for(u=u.child;u!==null;){var d=u;switch(d.tag){case 0:case 11:case 14:case 15:gl(4,d,d.return),Su(d);break;case 1:oa(d,d.return);var S=d.stateNode;typeof S.componentWillUnmount=="function"&&sa(d,d.return,S),Su(d);break;case 26:case 27:case 5:oa(d,d.return),Su(d);break;case 22:oa(d,d.return),d.memoizedState===null&&Su(d);break;default:Su(d)}u=u.sibling}}function Uo(u,d,S){for(S=S&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var R=d.alternate,I=u,k=d,ne=k.flags;switch(k.tag){case 0:case 11:case 15:Uo(I,k,S),Gf(4,k);break;case 1:if(Uo(I,k,S),R=k,I=R.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(Ke){Hn(R,R.return,Ke)}if(R=k,I=R.updateQueue,I!==null){var ue=R.stateNode;try{var Me=I.shared.hiddenCallbacks;if(Me!==null)for(I.shared.hiddenCallbacks=null,I=0;I<Me.length;I++)fe(Me[I],ue)}catch(Ke){Hn(R,R.return,Ke)}}S&&ne&64&&q0(k),ys(k,k.return);break;case 26:case 27:case 5:Uo(I,k,S),S&&R===null&&ne&4&&yg(k),ys(k,k.return);break;case 12:Uo(I,k,S);break;case 13:Uo(I,k,S),S&&ne&4&&Gh(I,k);break;case 22:k.memoizedState===null&&Uo(I,k,S),ys(k,k.return);break;default:Uo(I,k,S)}d=d.sibling}}function qh(u,d){var S=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(S=u.memoizedState.cachePool.pool),u=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(u=d.memoizedState.cachePool.pool),u!==S&&(u!=null&&u.refCount++,S!=null&&Vf(S))}function Wf(u,d){u=null,d.alternate!==null&&(u=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==u&&(d.refCount++,u!=null&&Vf(u))}function or(u,d,S,R){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Mg(u,d,S,R),d=d.sibling}function Mg(u,d,S,R){var I=d.flags;switch(d.tag){case 0:case 11:case 15:or(u,d,S,R),I&2048&&Gf(9,d);break;case 3:or(u,d,S,R),I&2048&&(u=null,d.alternate!==null&&(u=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==u&&(d.refCount++,u!=null&&Vf(u)));break;case 12:if(I&2048){or(u,d,S,R),u=d.stateNode;try{var k=d.memoizedProps,ne=k.id,ue=k.onPostCommit;typeof ue=="function"&&ue(ne,d.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Me){Hn(d,d.return,Me)}}else or(u,d,S,R);break;case 23:break;case 22:k=d.stateNode,d.memoizedState!==null?k._visibility&4?or(u,d,S,R):Or(u,d):k._visibility&4?or(u,d,S,R):(k._visibility|=4,Sr(u,d,S,R,(d.subtreeFlags&10256)!==0)),I&2048&&qh(d.alternate,d);break;case 24:or(u,d,S,R),I&2048&&Wf(d.alternate,d);break;default:or(u,d,S,R)}}function Sr(u,d,S,R,I){for(I=I&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var k=u,ne=d,ue=S,Me=R,Ke=ne.flags;switch(ne.tag){case 0:case 11:case 15:Sr(k,ne,ue,Me,I),Gf(8,ne);break;case 23:break;case 22:var dt=ne.stateNode;ne.memoizedState!==null?dt._visibility&4?Sr(k,ne,ue,Me,I):Or(k,ne):(dt._visibility|=4,Sr(k,ne,ue,Me,I)),I&&Ke&2048&&qh(ne.alternate,ne);break;case 24:Sr(k,ne,ue,Me,I),I&&Ke&2048&&Wf(ne.alternate,ne);break;default:Sr(k,ne,ue,Me,I)}d=d.sibling}}function Or(u,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var S=u,R=d,I=R.flags;switch(R.tag){case 22:Or(S,R),I&2048&&qh(R.alternate,R);break;case 24:Or(S,R),I&2048&&Wf(R.alternate,R);break;default:Or(S,R)}d=d.sibling}}function Xa(u){if(u.subtreeFlags&Ia)for(u=u.child;u!==null;)jh(u),u=u.sibling}function jh(u){switch(u.tag){case 26:Xa(u),u.flags&Ia&&(u.memoizedState!==null?Rb(Mi,u.memoizedState,u.memoizedProps):Gr(u.type,u.memoizedProps));break;case 5:Xa(u),u.flags&Ia&&Gr(u.type,u.memoizedProps);break;case 3:case 4:if(Ra){var d=Mi;Mi=dp(u.stateNode.containerInfo),Xa(u),Mi=d}else Xa(u);break;case 22:u.memoizedState===null&&(d=u.alternate,d!==null&&d.memoizedState!==null?(d=Ia,Ia=16777216,Xa(u),Ia=d):Xa(u));break;default:Xa(u)}}function Xf(u){var d=u.alternate;if(d!==null&&(u=d.child,u!==null)){d.child=null;do d=u.sibling,u.sibling=null,u=d;while(u!==null)}}function vl(u){var d=u.deletions;if((u.flags&16)!==0){if(d!==null)for(var S=0;S<d.length;S++){var R=d[S];en=R,Eg(R,u)}Xf(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Wh(u),u=u.sibling}function Wh(u){switch(u.tag){case 0:case 11:case 15:vl(u),u.flags&2048&&gl(9,u,u.return);break;case 3:vl(u);break;case 12:vl(u);break;case 22:var d=u.stateNode;u.memoizedState!==null&&d._visibility&4&&(u.return===null||u.return.tag!==13)?(d._visibility&=-5,Lo(u)):vl(u);break;default:vl(u)}}function Lo(u){var d=u.deletions;if((u.flags&16)!==0){if(d!==null)for(var S=0;S<d.length;S++){var R=d[S];en=R,Eg(R,u)}Xf(u)}for(u=u.child;u!==null;){switch(d=u,d.tag){case 0:case 11:case 15:gl(8,d,d.return),Lo(d);break;case 22:S=d.stateNode,S._visibility&4&&(S._visibility&=-5,Lo(d));break;default:Lo(d)}u=u.sibling}}function Eg(u,d){for(;en!==null;){var S=en;switch(S.tag){case 0:case 11:case 15:gl(8,S,d);break;case 23:case 22:if(S.memoizedState!==null&&S.memoizedState.cachePool!==null){var R=S.memoizedState.cachePool.pool;R!=null&&R.refCount++}break;case 24:Vf(S.memoizedState.cache)}if(R=S.child,R!==null)R.return=S,en=R;else e:for(S=u;en!==null;){R=en;var I=R.sibling,k=R.return;if(Sg(R),R===S){en=null;break e}if(I!==null){I.return=k,en=I;break e}en=k}}}function _u(u){var d=Z0(u);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(r(364));return d}if(u=Vg(u),u===null)throw Error(r(362));return u.stateNode.current}function bl(u,d){var S=u.tag;switch(d.$$typeof){case Wu:if(u.type===d.value)return!0;break;case is:e:{for(d=d.value,u=[u,0],S=0;S<u.length;){var R=u[S++],I=R.tag,k=u[S++],ne=d[k];if(I!==5&&I!==26&&I!==27||!Uu(R)){for(;ne!=null&&bl(R,ne);)k++,ne=d[k];if(k===d.length){d=!0;break e}else for(R=R.child;R!==null;)u.push(R,k),R=R.sibling}}d=!1}return d;case hi:if((S===5||S===26||S===27)&&nb(u.stateNode,d.value))return!0;break;case ao:if((S===5||S===6||S===26||S===27)&&(u=tb(u),u!==null&&0<=u.indexOf(d.value)))return!0;break;case ws:if((S===5||S===26||S===27)&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Tg(u){switch(u.$$typeof){case Wu:return"<"+(o(u.value)||"Unknown")+">";case is:return":has("+(Tg(u)||"")+")";case hi:return'[role="'+u.value+'"]';case ao:return'"'+u.value+'"';case ws:return'[data-testname="'+u.value+'"]';default:throw Error(r(365))}}function ca(u,d){var S=[];u=[u,0];for(var R=0;R<u.length;){var I=u[R++],k=I.tag,ne=u[R++],ue=d[ne];if(k!==5&&k!==26&&k!==27||!Uu(I)){for(;ue!=null&&bl(I,ue);)ne++,ue=d[ne];if(ne===d.length)S.push(I);else for(I=I.child;I!==null;)u.push(I,ne),I=I.sibling}}return S}function Yf(u,d){if(!Cl)throw Error(r(363));u=_u(u),u=ca(u,d),d=[],u=Array.from(u);for(var S=0;S<u.length;){var R=u[S++],I=R.tag;if(I===5||I===26||I===27)Uu(R)||d.push(R.stateNode);else for(R=R.child;R!==null;)u.push(R),R=R.sibling}return d}function Di(){if((Nn&2)!==0&&bn!==0)return bn&-bn;if(Yt.T!==null){var u=Na;return u!==0?u:ct()}return J0()}function Ag(){Fa===0&&(Fa=(bn&536870912)===0||wn?F():536870912);var u=Pa.current;return u!==null&&(u.flags|=32),Fa}function lr(u,d,S){(u===kn&&Zn===2||u.cancelPendingCommit!==null)&&(_r(u,0),ua(u,bn,Fa,!1)),L(u,S),((Nn&2)===0||u!==kn)&&(u===kn&&((Nn&2)===0&&($o|=S),ri===4&&ua(u,bn,Fa,!1)),Ae(u))}function xl(u,d,S){if((Nn&6)!==0)throw Error(r(327));var R=!S&&(d&60)===0&&(d&u.expiredLanes)===0||N(u,d),I=R?Cg(u,d):Yh(u,d,!0),k=R;do{if(I===0){za&&!R&&ua(u,d,0,!1);break}else if(I===6)ua(u,d,0,!as);else{if(S=u.current.alternate,k&&!Mu(S)){I=Yh(u,d,!1),k=!1;continue}if(I===2){if(k=d,u.errorRecoveryDisabledLanes&k)var ne=0;else ne=u.pendingLanes&-536870913,ne=ne!==0?ne:ne&536870912?536870912:0;if(ne!==0){d=ne;e:{var ue=u;I=Nc;var Me=Mr&&ue.current.memoizedState.isDehydrated;if(Me&&(_r(ue,ne).flags|=256),ne=Yh(ue,ne,!1),ne!==2){if($i&&!Me){ue.errorRecoveryDisabledLanes|=k,$o|=k,I=4;break e}k=Ci,Ci=I,k!==null&&$f(k)}I=ne}if(k=!1,I!==2)continue}}if(I===1){_r(u,0),ua(u,d,0,!0);break}e:{switch(R=u,I){case 0:case 1:throw Error(r(345));case 4:if((d&4194176)===d){ua(R,d,Fa,!as);break e}break;case 2:Ci=null;break;case 3:case 5:break;default:throw Error(r(329))}if(R.finishedWork=S,R.finishedLanes=d,(d&62914560)===d&&(k=Wr+300-Ja(),10<k)){if(ua(R,d,Fa,!as),O(R,0)!==0)break e;R.timeoutHandle=Hi(Xh.bind(null,R,S,Ci,vd,Mp,d,Fa,$o,so,as,2,-0,0),k);break e}Xh(R,S,Ci,vd,Mp,d,Fa,$o,so,as,0,-0,0)}}break}while(!0);Ae(u)}function $f(u){Ci===null?Ci=u:Ci.push.apply(Ci,u)}function Xh(u,d,S,R,I,k,ne,ue,Me,Ke,dt,At,Ct){var tn=d.subtreeFlags;if((tn&8192||(tn&16785408)===16785408)&&(Fg(),jh(d),d=Vi(),d!==null)){u.cancelPendingCommit=d(_l.bind(null,u,S,R,I,ne,ue,Me,1,At,Ct)),ua(u,k,ne,!Ke);return}_l(u,S,R,I,ne,ue,Me,dt,At,Ct)}function Mu(u){for(var d=u;;){var S=d.tag;if((S===0||S===11||S===15)&&d.flags&16384&&(S=d.updateQueue,S!==null&&(S=S.stores,S!==null)))for(var R=0;R<S.length;R++){var I=S[R],k=I.getSnapshot;I=I.value;try{if(!da(k(),I))return!1}catch{return!1}}if(S=d.child,d.subtreeFlags&16384&&S!==null)S.return=d,d=S;else{if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function ua(u,d,S,R){d&=~yd,d&=~$o,u.suspendedLanes|=d,u.pingedLanes&=~d,R&&(u.warmLanes|=d),R=u.expirationTimes;for(var I=d;0<I;){var k=31-qr(I),ne=1<<k;R[k]=-1,I&=~ne}S!==0&&V(u,S,d)}function Qf(){return(Nn&6)===0?(te(0),!1):!0}function Eu(){if(kt!==null){if(Zn===0)var u=kt.return;else u=kt,La=As=null,Vt(u),Ul=null,Ll=0,u=kt;for(;u!==null;)G0(u.alternate,u),u=u.return;kt=null}}function _r(u,d){u.finishedWork=null,u.finishedLanes=0;var S=u.timeoutHandle;S!==Al&&(u.timeoutHandle=Al,ip(S)),S=u.cancelPendingCommit,S!==null&&(u.cancelPendingCommit=null,S()),Eu(),kn=u,kt=S=$a(u.current,null),bn=d,Zn=0,Nr=null,as=!1,za=N(u,d),$i=!1,so=Fa=yd=$o=Ba=ri=0,Ci=Nc=null,Mp=!1,(d&8)!==0&&(d|=d&32);var R=u.entangledLanes;if(R!==0)for(u=u.entanglements,R&=d;0<R;){var I=31-qr(R),k=1<<I;d|=u[I],R&=~k}return Pr=d,J(),S}function Aa(u,d){cn=null,Yt.H=Ai,d===ku?(d=Ot(),Zn=3):d===md?(d=Ot(),Zn=4):Zn=d===Sp?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Nr=d,kt===null&&(ri=1,mu(u,Q(d,u.current)))}function Sl(){var u=Pa.current;return u===null?!0:(bn&4194176)===bn?ni===null:(bn&62914560)===bn||(bn&536870912)!==0?u===ni:!1}function Xs(){var u=Yt.H;return Yt.H=Ai,u===null?Ai:u}function Ys(){var u=Yt.A;return Yt.A=ju,u}function Io(){ri=4,as||(bn&4194176)!==bn&&Pa.current!==null||(za=!0),(Ba&134217727)===0&&($o&134217727)===0||kn===null||ua(kn,bn,Fa,!1)}function Yh(u,d,S){var R=Nn;Nn|=2;var I=Xs(),k=Ys();(kn!==u||bn!==d)&&(vd=null,_r(u,d)),d=!1;var ne=ri;e:do try{if(Zn!==0&&kt!==null){var ue=kt,Me=Nr;switch(Zn){case 8:Eu(),ne=6;break e;case 3:case 2:case 6:Pa.current===null&&(d=!0);var Ke=Zn;if(Zn=0,Nr=null,Ya(u,ue,Me,Ke),S&&za){ne=0;break e}break;default:Ke=Zn,Zn=0,Nr=null,Ya(u,ue,Me,Ke)}}wg(),ne=ri;break}catch(dt){Aa(u,dt)}while(!0);return d&&u.shellSuspendCounter++,La=As=null,Nn=R,Yt.H=I,Yt.A=k,kt===null&&(kn=null,bn=0,J()),ne}function wg(){for(;kt!==null;)_i(kt)}function Cg(u,d){var S=Nn;Nn|=2;var R=Xs(),I=Ys();kn!==u||bn!==d?(vd=null,Xu=Ja()+500,_r(u,d)):za=N(u,d);e:do try{if(Zn!==0&&kt!==null){d=kt;var k=Nr;t:switch(Zn){case 1:Zn=0,Nr=null,Ya(u,d,k,1);break;case 2:if(Ye(k)){Zn=0,Nr=null,Un(d);break}d=function(){Zn===2&&kn===u&&(Zn=7),Ae(u)},k.then(d,d);break e;case 3:Zn=7;break e;case 4:Zn=5;break e;case 7:Ye(k)?(Zn=0,Nr=null,Un(d)):(Zn=0,Nr=null,Ya(u,d,k,7));break;case 5:var ne=null;switch(kt.tag){case 26:ne=kt.memoizedState;case 5:case 27:var ue=kt,Me=ue.type,Ke=ue.pendingProps;if(ne?vc(ne):rp(Me,Ke)){Zn=0,Nr=null;var dt=ue.sibling;if(dt!==null)kt=dt;else{var At=ue.return;At!==null?(kt=At,wa(At)):kt=null}break t}}Zn=0,Nr=null,Ya(u,d,k,5);break;case 6:Zn=0,Nr=null,Ya(u,d,k,6);break;case 8:Eu(),ri=6;break e;default:throw Error(r(462))}}Vr();break}catch(Ct){Aa(u,Ct)}while(!0);return La=As=null,Yt.H=R,Yt.A=I,Nn=S,kt!==null?0:(kn=null,bn=0,J(),ri)}function Vr(){for(;kt!==null&&!Pb();)_i(kt)}function _i(u){var d=H0(u.alternate,u,Pr);u.memoizedProps=u.pendingProps,d===null?wa(u):kt=d}function Un(u){var d=u,S=d.alternate;switch(d.tag){case 15:case 0:d=U0(S,d,d.pendingProps,d.type,void 0,bn);break;case 11:d=U0(S,d,d.pendingProps,d.type.render,d.ref,bn);break;case 5:Vt(d);default:G0(S,d),d=kt=Zf(d,Pr),d=H0(S,d,Pr)}u.memoizedProps=u.pendingProps,d===null?wa(u):kt=d}function Ya(u,d,S,R){La=As=null,Vt(d),Ul=null,Ll=0;var I=d.return;try{if(sM(u,I,d,S,bn)){ri=1,mu(u,Q(S,u.current)),kt=null;return}}catch(k){if(I!==null)throw kt=I,k;ri=1,mu(u,Q(S,u.current)),kt=null;return}d.flags&32768?(wn||R===1?u=!0:za||(bn&536870912)!==0?u=!1:(as=u=!0,(R===2||R===3||R===6)&&(R=Pa.current,R!==null&&R.tag===13&&(R.flags|=16384))),$h(d,u)):wa(d)}function wa(u){var d=u;do{if((d.flags&32768)!==0){$h(d,as);return}u=d.return;var S=k0(d.alternate,d,Pr);if(S!==null){kt=S;return}if(d=d.sibling,d!==null){kt=d;return}kt=d=u}while(d!==null);ri===0&&(ri=5)}function $h(u,d){do{var S=lM(u.alternate,u);if(S!==null){S.flags&=32767,kt=S;return}if(S=u.return,S!==null&&(S.flags|=32768,S.subtreeFlags=0,S.deletions=null),!d&&(u=u.sibling,u!==null)){kt=u;return}kt=u=S}while(u!==null);ri=6,kt=null}function _l(u,d,S,R,I,k,ne,ue,Me,Ke){var dt=Yt.T,At=ko();try{Dr(2),Yt.T=null,X0(u,d,S,R,At,I,k,ne,ue,Me,Ke)}finally{Yt.T=dt,Dr(At)}}function X0(u,d,S,R,I,k,ne,ue){do vs();while(oo!==null);if((Nn&6)!==0)throw Error(r(327));var Me=u.finishedWork;if(R=u.finishedLanes,Me===null)return null;if(u.finishedWork=null,u.finishedLanes=0,Me===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var Ke=Me.lanes|Me.childLanes;if(Ke|=Es,H(u,R,Ke,k,ne,ue),u===kn&&(kt=kn=null,bn=0),(Me.subtreeFlags&10256)===0&&(Me.flags&10256)===0||Cs||(Cs=!0,Hl=Ke,Ep=S,Bo(yp,function(){return vs(),null})),S=(Me.flags&15990)!==0,(Me.subtreeFlags&15990)!==0||S?(S=Yt.T,Yt.T=null,k=ko(),Dr(2),ne=Nn,Nn|=4,jf(u,Me),_g(Me,u),K0(u.containerInfo),u.current=Me,kh(u,Me.alternate,Me),mp(),Nn=ne,Dr(k),Yt.T=S):u.current=Me,Cs?(Cs=!1,oo=u,Pc=R):Rg(u,Ke),Ke=u.pendingLanes,Ke===0&&(Fl=null),B(Me.stateNode),Ae(u),d!==null)for(I=u.onRecoverableError,Me=0;Me<d.length;Me++)Ke=d[Me],I(Ke.value,{componentStack:Ke.stack});return(Pc&3)!==0&&vs(),Ke=u.pendingLanes,(R&4194218)!==0&&(Ke&42)!==0?u===Tp?Yu++:(Yu=0,Tp=u):Yu=0,te(0),null}function Rg(u,d){(u.pooledCacheLanes&=d)===0&&(d=u.pooledCache,d!=null&&(u.pooledCache=null,Vf(d)))}function vs(){if(oo!==null){var u=oo,d=Hl;Hl=0;var S=$(Pc),R=32>S?32:S;S=Yt.T;var I=ko();try{if(Dr(R),Yt.T=null,oo===null)var k=!1;else{R=Ep,Ep=null;var ne=oo,ue=Pc;if(oo=null,Pc=0,(Nn&6)!==0)throw Error(r(331));var Me=Nn;if(Nn|=4,Wh(ne.current),Mg(ne,ne.current,ue,R),Nn=Me,te(0,!1),fa&&typeof fa.onPostCommitFiberRoot=="function")try{fa.onPostCommitFiberRoot(Ui,ne)}catch{}k=!0}return k}finally{Dr(I),Yt.T=S,Rg(u,d)}}return!1}function Tu(u,d,S){d=Q(S,d),d=yu(u.stateNode,d,2),u=Mt(u,d,2),u!==null&&(L(u,2),Ae(u))}function Hn(u,d,S){if(u.tag===3)Tu(u,u,S);else for(;d!==null;){if(d.tag===3){Tu(d,u,S);break}else if(d.tag===1){var R=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Fl===null||!Fl.has(R))){u=Q(S,u),S=lg(2),R=Mt(d,S,2),R!==null&&(R0(S,R,d,u),L(R,2),Ae(R));break}}d=d.return}}function mc(u,d,S){var R=u.pingCache;if(R===null){R=u.pingCache=new rs;var I=new Set;R.set(d,I)}else I=R.get(d),I===void 0&&(I=new Set,R.set(d,I));I.has(S)||($i=!0,I.add(S),u=Og.bind(null,u,d,S),d.then(u,u))}function Og(u,d,S){var R=u.pingCache;R!==null&&R.delete(d),u.pingedLanes|=u.suspendedLanes&S,u.warmLanes&=~S,kn===u&&(bn&S)===S&&(ri===4||ri===3&&(bn&62914560)===bn&&300>Ja()-Wr?(Nn&2)===0&&_r(u,0):yd|=S,so===bn&&(so=0)),Ae(u)}function Ml(u,d){d===0&&(d=P()),u=ze(u,d),u!==null&&(L(u,d),Ae(u))}function zo(u){var d=u.memoizedState,S=0;d!==null&&(S=d.retryLane),Ml(u,S)}function El(u,d){var S=0;switch(u.tag){case 13:var R=u.stateNode,I=u.memoizedState;I!==null&&(S=I.retryLane);break;case 19:R=u.stateNode;break;case 22:R=u.stateNode._retryCache;break;default:throw Error(r(314))}R!==null&&R.delete(d),Ml(u,S)}function Bo(u,d){return dd(u,d)}function Dg(u,d,S,R){this.tag=u,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kf(u){return u=u.prototype,!(!u||!u.isReactComponent)}function $a(u,d){var S=u.alternate;return S===null?(S=t(u.tag,d,u.key,u.mode),S.elementType=u.elementType,S.type=u.type,S.stateNode=u.stateNode,S.alternate=u,u.alternate=S):(S.pendingProps=d,S.type=u.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=u.flags&31457280,S.childLanes=u.childLanes,S.lanes=u.lanes,S.child=u.child,S.memoizedProps=u.memoizedProps,S.memoizedState=u.memoizedState,S.updateQueue=u.updateQueue,d=u.dependencies,S.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},S.sibling=u.sibling,S.index=u.index,S.ref=u.ref,S.refCleanup=u.refCleanup,S}function Zf(u,d){u.flags&=31457282;var S=u.alternate;return S===null?(u.childLanes=0,u.lanes=d,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=S.childLanes,u.lanes=S.lanes,u.child=S.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=S.memoizedProps,u.memoizedState=S.memoizedState,u.updateQueue=S.updateQueue,u.type=S.type,d=S.dependencies,u.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),u}function $s(u,d,S,R,I,k){var ne=0;if(R=u,typeof u=="function")Kf(u)&&(ne=1);else if(typeof u=="string")ne=Ra&&ti?cd(u,S,Xi.current)?26:Ks(u)?27:5:Ra?cd(u,S,Xi.current)?26:5:ti&&Ks(u)?27:5;else e:switch(u){case Tl:return Ti(S.children,I,k,d);case nd:ne=8,I|=24;break;case Jh:return u=t(12,S,d,I|2),u.elementType=Jh,u.lanes=k,u;case ep:return u=t(13,S,d,I),u.elementType=ep,u.lanes=k,u;case Ru:return u=t(19,S,d,I),u.elementType=Ru,u.lanes=k,u;case Ug:return Jf(S,I,k,d);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case id:case bs:ne=10;break e;case Pg:ne=9;break e;case rd:ne=11;break e;case tp:ne=14;break e;case Ka:ne=16,R=null;break e}ne=29,S=Error(r(130,u===null?"null":typeof u,"")),R=null}return d=t(ne,S,d,I),d.elementType=u,d.type=R,d.lanes=k,d}function Ti(u,d,S,R){return u=t(7,u,R,d),u.lanes=S,u}function Jf(u,d,S,R){u=t(22,u,R,d),u.elementType=Ug,u.lanes=S;var I={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var k=I._current;if(k===null)throw Error(r(456));if((I._pendingVisibility&2)===0){var ne=ze(k,2);ne!==null&&(I._pendingVisibility|=2,lr(ne,k,2))}},attach:function(){var k=I._current;if(k===null)throw Error(r(456));if((I._pendingVisibility&2)!==0){var ne=ze(k,2);ne!==null&&(I._pendingVisibility&=-3,lr(ne,k,2))}}};return u.stateNode=I,u}function Qh(u,d,S){return u=t(6,u,null,d),u.lanes=S,u}function Ng(u,d,S){return d=t(4,u.children!==null?u.children:[],u.key,d),d.lanes=S,d.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},d}function cM(u,d,S,R,I,k,ne,ue){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Al,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=w(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w(0),this.hiddenUpdates=w(null),this.identifierPrefix=R,this.onUncaughtError=I,this.onCaughtError=k,this.onRecoverableError=ne,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function Y0(u,d,S,R,I,k,ne,ue,Me,Ke,dt,At){return u=new cM(u,d,S,ne,ue,Me,Ke,At),d=1,k===!0&&(d|=24),k=t(3,null,null,d),u.current=k,k.stateNode=u,d=ml(),d.refCount++,u.pooledCache=d,d.refCount++,k.memoizedState={element:R,isDehydrated:S,cache:d},Be(k),u}function Fi(u){return u?(u=Dl,u):Dl}function Kh(u){var d=u._reactInternals;if(d===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=b(d),u=u!==null?_(u):null,u===null?null:Nu(u.stateNode)}function Au(u,d,S,R,I,k){I=Fi(I),R.context===null?R.context=I:R.pendingContext=I,R=_t(d),R.payload={element:S},k=k===void 0?null:k,k!==null&&(R.callback=k),S=Mt(u,R,d),S!==null&&(lr(S,u,d),qe(S,u,d))}function wu(u,d){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var S=u.retryLane;u.retryLane=S!==0&&S<d?S:d}}function ed(u,d){wu(u,d),(u=u.alternate)&&wu(u,d)}var nn={},Cu=_h(),Ca=bG(),Zh=Object.assign,uM=Symbol.for("react.element"),td=Symbol.for("react.transitional.element"),Qa=Symbol.for("react.portal"),Tl=Symbol.for("react.fragment"),nd=Symbol.for("react.strict_mode"),Jh=Symbol.for("react.profiler"),id=Symbol.for("react.provider"),Pg=Symbol.for("react.consumer"),bs=Symbol.for("react.context"),rd=Symbol.for("react.forward_ref"),ep=Symbol.for("react.suspense"),Ru=Symbol.for("react.suspense_list"),tp=Symbol.for("react.memo"),Ka=Symbol.for("react.lazy"),Ug=Symbol.for("react.offscreen"),$0=Symbol.for("react.memo_cache_sentinel"),Fo=Symbol.iterator,Lg=Symbol.for("react.client.reference"),Yt=Cu.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Qs,Ho,gc=!1,Ou=Array.isArray,Ig=e.rendererVersion,ad=e.rendererPackageName,Du=e.extraDevToolsConfig,Nu=e.getPublicInstance,Q0=e.getRootHostContext,Pu=e.getChildHostContext,np=e.prepareForCommit,K0=e.resetAfterCommit,zg=e.createInstance,sd=e.appendInitialChild,Vo=e.finalizeInitialChildren,rn=e.shouldSetTextContent,qn=e.createTextInstance,Hi=e.scheduleTimeout,ip=e.cancelTimeout,Al=e.noTimeout,kr=e.isPrimaryRenderer;e.warnsIfNotActing;var Wi=e.supportsMutation,Za=e.supportsPersistence,Mr=e.supportsHydration,Z0=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Ni=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Dr=e.setCurrentUpdatePriority,ko=e.getCurrentUpdatePriority,J0=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var eb=e.shouldAttemptEagerTransition,fM=e.detachDeletedInstance;e.requestPostPaintCallback;var Bg=e.maySuspendCommit,rp=e.preloadInstance,Fg=e.startSuspendingCommit,Gr=e.suspendInstance,Vi=e.waitForCommitToBeReady,wl=e.NotPendingTransition,xs=e.HostTransitionContext,ap=e.resetFormInstance;e.bindToConsole;var Hg=e.supportsMicrotasks,Go=e.scheduleMicrotask,Cl=e.supportsTestSelectors,Vg=e.findFiberRoot,kg=e.getBoundingRect,tb=e.getTextContent,Uu=e.isHiddenSubtree,nb=e.matchAccessibilityRole,ib=e.setFocusIfFocusable,rb=e.setupIntersectionObserver,ab=e.appendChild,Gg=e.appendChildToContainer,sb=e.commitTextUpdate,dM=e.commitMount,ob=e.commitUpdate,lb=e.insertBefore,cb=e.insertInContainerBefore,qg=e.removeChild,ub=e.removeChildFromContainer,jg=e.resetTextContent,fb=e.hideInstance,db=e.hideTextInstance,hb=e.unhideInstance,hM=e.unhideTextInstance,pb=e.clearContainer,Lu=e.cloneInstance,od=e.createContainerChildSet,Wg=e.appendChildToContainerChildSet,sp=e.finalizeContainerChildren,Iu=e.replaceContainerChildren,Xg=e.cloneHiddenInstance,Yg=e.cloneHiddenTextInstance,op=e.isSuspenseInstancePending,lp=e.isSuspenseInstanceFallback,mb=e.getSuspenseInstanceFallbackErrorDetails,gb=e.registerSuspenseInstanceRetry,$g=e.canHydrateFormStateMarker,yb=e.isFormStateMarkerMatching,Qg=e.getNextHydratableSibling,cp=e.getFirstHydratableChild,vb=e.getFirstHydratableChildWithinContainer,bb=e.getFirstHydratableChildWithinSuspenseInstance,pM=e.canHydrateInstance,Kg=e.canHydrateTextInstance,xb=e.canHydrateSuspenseInstance,Sb=e.hydrateInstance,Zg=e.hydrateTextInstance,_b=e.hydrateSuspenseInstance,Mb=e.getNextHydratableInstanceAfterSuspenseInstance,mM=e.commitHydratedContainer,gM=e.commitHydratedSuspenseInstance,Eb=e.clearSuspenseBoundary,ld=e.clearSuspenseBoundaryFromContainer,up=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var fp=e.validateHydratableInstance,Tb=e.validateHydratableTextInstance,Ra=e.supportsResources,cd=e.isHostHoistableType,dp=e.getHoistableRoot,Jg=e.getResource,Ab=e.acquireResource,yc=e.releaseResource,ud=e.hydrateHoistable,fd=e.mountHoistable,zu=e.unmountHoistable,hp=e.createHoistableInstance,wb=e.prepareToCommitHoistables,Cb=e.mayResourceSuspendCommit,vc=e.preloadResource,Rb=e.suspendResource,ti=e.supportsSingletons,Ss=e.resolveSingletonInstance,Rl=e.clearSingleton,Ob=e.acquireSingletonInstance,Ol=e.releaseSingletonInstance,Ks=e.isHostSingletonType,Pi=[],qo=-1,Dl={},qr=Math.clz32?Math.clz32:A,Db=Math.log,Nb=Math.LN2,Zs=128,bc=4194304,dd=Ca.unstable_scheduleCallback,pp=Ca.unstable_cancelCallback,Pb=Ca.unstable_shouldYield,mp=Ca.unstable_requestPaint,Ja=Ca.unstable_now,gp=Ca.unstable_ImmediatePriority,Ub=Ca.unstable_UserBlockingPriority,yp=Ca.unstable_NormalPriority,yM=Ca.unstable_IdlePriority,Lb=Ca.log,cr=Ca.unstable_setDisableYieldValue,Ui=null,fa=null,da=typeof Object.is=="function"?Object.is:q,ey=new WeakMap,xc=[],Sc=0,_c=null,Bu=0,Oa=[],Da=0,Nl=null,_s=1,Ms="",Xi=M(null),Fu=M(null),Js=M(null),Mc=M(null),Er=null,Tr=null,wn=!1,es=null,ur=!1,hd=Error(r(519)),ts=[],Ec=0,Es=0,pd=null,jo=null,Tc=!1,si=!1,ty=!1,Hu=0,Vu=null,Ac=0,Na=0,wc=null,Wo=!1,Cc=!1,eo=Object.prototype.hasOwnProperty,ku=Error(r(460)),md=Error(r(474)),gd={then:function(){}},Pl=null,Ul=null,Ll=0,Il=$n(!0),to=$n(!1),oi=M(null),Gu=M(0),Pa=M(null),ni=null,Yi=M(0),Xo=0,cn=null,Ht=null,Dn=null,ns=!1,Rc=!1,zl=!1,vp=0,Oc=0,fr=null,Ts=0,bp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Ai={readContext:br,use:De,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt};Ai.useCacheRefresh=Qt,Ai.useMemoCache=Qt,Ai.useHostTransitionStatus=Qt,Ai.useFormState=Qt,Ai.useActionState=Qt,Ai.useOptimistic=Qt;var Bl={readContext:br,use:De,useCallback:function(u,d){return Z().memoizedState=[u,d===void 0?null:d],u},useContext:br,useEffect:Oh,useImperativeHandle:function(u,d,S){S=S!=null?S.concat([u]):null,Rf(4194308,4,Dh.bind(null,d,u),S)},useLayoutEffect:function(u,d){return Rf(4194308,4,u,d)},useInsertionEffect:function(u,d){Rf(4,2,u,d)},useMemo:function(u,d){var S=Z();d=d===void 0?null:d;var R=u();if(zl){j(!0);try{u()}finally{j(!1)}}return S.memoizedState=[R,d],R},useReducer:function(u,d,S){var R=Z();if(S!==void 0){var I=S(d);if(zl){j(!0);try{S(d)}finally{j(!1)}}}else I=d;return R.memoizedState=R.baseState=I,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:I},R.queue=u,u=u.dispatch=Ph.bind(null,cn,u),[R.memoizedState,u]},useRef:function(u){var d=Z();return u={current:u},d.memoizedState=u},useState:function(u){u=gn(u);var d=u.queue,S=og.bind(null,cn,d);return d.dispatch=S,[u.memoizedState,S]},useDebugValue:ul,useDeferredValue:function(u,d){var S=Z();return Nf(S,u,d)},useTransition:function(){var u=gn(!1);return u=uu.bind(null,cn,u.queue,!0,!1),Z().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,d,S){var R=cn,I=Z();if(wn){if(S===void 0)throw Error(r(407));S=S()}else{if(S=d(),kn===null)throw Error(r(349));(bn&60)!==0||Pt(R,d,S)}I.memoizedState=S;var k={value:S,getSnapshot:d};return I.queue=k,Oh(Jt.bind(null,R,k,u),[u]),R.flags|=2048,Br(9,Dt.bind(null,R,k,S,d),{destroy:void 0},null),S},useId:function(){var u=Z(),d=kn.identifierPrefix;if(wn){var S=Ms,R=_s;S=(R&~(1<<32-qr(R)-1)).toString(32)+S,d=":"+d+"R"+S,S=vp++,0<S&&(d+="H"+S.toString(32)),d+=":"}else S=Ts++,d=":"+d+"r"+S.toString(32)+":";return u.memoizedState=d},useCacheRefresh:function(){return Z().memoizedState=sg.bind(null,cn)}};Bl.useMemoCache=Se,Bl.useHostTransitionStatus=Pf,Bl.useFormState=Kn,Bl.useActionState=Kn,Bl.useOptimistic=function(u){var d=Z();d.memoizedState=d.baseState=u;var S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=S,d=du.bind(null,cn,!0,S),S.dispatch=d,[u,d]};var jr={readContext:br,use:De,useCallback:dc,useContext:br,useEffect:ig,useImperativeHandle:Nh,useInsertionEffect:w0,useLayoutEffect:Df,useMemo:rg,useReducer:gt,useRef:js,useState:function(){return gt(rt)},useDebugValue:ul,useDeferredValue:function(u,d){var S=de();return ag(S,Ht.memoizedState,u,d)},useTransition:function(){var u=gt(rt)[0],d=de().memoizedState;return[typeof u=="boolean"?u:Te(u),d]},useSyncExternalStore:vt,useId:fu};jr.useCacheRefresh=wo,jr.useMemoCache=Se,jr.useHostTransitionStatus=Pf,jr.useFormState=yr,jr.useActionState=yr,jr.useOptimistic=function(u,d){var S=de();return vn(S,Ht,u,d)};var Ua={readContext:br,use:De,useCallback:dc,useContext:br,useEffect:ig,useImperativeHandle:Nh,useInsertionEffect:w0,useLayoutEffect:Df,useMemo:rg,useReducer:Tt,useRef:js,useState:function(){return Tt(rt)},useDebugValue:ul,useDeferredValue:function(u,d){var S=de();return Ht===null?Nf(S,u,d):ag(S,Ht.memoizedState,u,d)},useTransition:function(){var u=Tt(rt)[0],d=de().memoizedState;return[typeof u=="boolean"?u:Te(u),d]},useSyncExternalStore:vt,useId:fu};Ua.useCacheRefresh=wo,Ua.useMemoCache=Se,Ua.useHostTransitionStatus=Pf,Ua.useFormState=sr,Ua.useActionState=sr,Ua.useOptimistic=function(u,d){var S=de();return Ht!==null?vn(S,Ht,u,d):(S.baseState=u,[u,S.queue.dispatch])};var no={isMounted:function(u){return(u=u._reactInternals)?g(u)===u:!1},enqueueSetState:function(u,d,S){u=u._reactInternals;var R=Di(),I=_t(R);I.payload=d,S!=null&&(I.callback=S),d=Mt(u,I,R),d!==null&&(lr(d,u,R),qe(d,u,R))},enqueueReplaceState:function(u,d,S){u=u._reactInternals;var R=Di(),I=_t(R);I.tag=1,I.payload=d,S!=null&&(I.callback=S),d=Mt(u,I,R),d!==null&&(lr(d,u,R),qe(d,u,R))},enqueueForceUpdate:function(u,d){u=u._reactInternals;var S=Di(),R=_t(S);R.tag=2,d!=null&&(R.callback=d),d=Mt(u,R,S),d!==null&&(lr(d,u,S),qe(d,u,S))}},xp=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},Sp=Error(r(461)),ii=!1,_p={dehydrated:null,treeContext:null,retryLane:0},Yo=M(null),As=null,La=null,qu=typeof AbortController<"u"?AbortController:function(){var u=[],d=this.signal={aborted:!1,addEventListener:function(S,R){u.push(R)}};this.abort=function(){d.aborted=!0,u.forEach(function(S){return S()})}},Ib=Ca.unstable_scheduleCallback,zb=Ca.unstable_NormalPriority,li={$$typeof:bs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},ny=Yt.S;Yt.S=function(u,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&at(u,d),ny!==null&&ny(u,d)};var io=M(null),ro=!1,wi=!1,iy=!1,Vn=typeof WeakSet=="function"?WeakSet:Set,en=null,pn=!1,Ft=null,on=!1,Mi=null,Ia=8192,ju={getCacheForType:function(u){var d=br(li),S=d.data.get(u);return S===void 0&&(S=u(),d.data.set(u,S)),S}},Wu=0,is=1,hi=2,ws=3,ao=4;if(typeof Symbol=="function"&&Symbol.for){var Dc=Symbol.for;Wu=Dc("selector.component"),is=Dc("selector.has_pseudo_class"),hi=Dc("selector.role"),ws=Dc("selector.test_id"),ao=Dc("selector.text")}var rs=typeof WeakMap=="function"?WeakMap:Map,Nn=0,kn=null,kt=null,bn=0,Zn=0,Nr=null,as=!1,za=!1,$i=!1,Pr=0,ri=0,Ba=0,$o=0,yd=0,Fa=0,so=0,Nc=null,Ci=null,Mp=!1,Wr=0,Xu=1/0,vd=null,Fl=null,Cs=!1,oo=null,Pc=0,Hl=0,Ep=null,Yu=0,Tp=null;return nn.attemptContinuousHydration=function(u){if(u.tag===13){var d=ze(u,67108864);d!==null&&lr(d,u,67108864),ed(u,67108864)}},nn.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var d=Di(),S=ze(u,d);S!==null&&lr(S,u,d),ed(u,d)}},nn.attemptSynchronousHydration=function(u){switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var d=T(u.pendingLanes);if(d!==0){for(u.pendingLanes|=2,u.entangledLanes|=2;d;){var S=1<<31-qr(d);u.entanglements[1]|=S,d&=~S}Ae(u),(Nn&6)===0&&(Xu=Ja()+500,te(0))}}break;case 13:d=ze(u,2),d!==null&&lr(d,u,2),Qf(),ed(u,2)}},nn.batchedUpdates=function(u,d){return u(d)},nn.createComponentSelector=function(u){return{$$typeof:Wu,value:u}},nn.createContainer=function(u,d,S,R,I,k,ne,ue,Me,Ke){return Y0(u,d,!1,null,S,R,k,ne,ue,Me,Ke,null)},nn.createHasPseudoClassSelector=function(u){return{$$typeof:is,value:u}},nn.createHydrationContainer=function(u,d,S,R,I,k,ne,ue,Me,Ke,dt,At,Ct){return u=Y0(S,R,!0,u,I,k,ue,Me,Ke,dt,At,Ct),u.context=Fi(null),S=u.current,R=Di(),I=_t(R),I.callback=d??null,Mt(S,I,R),u.current.lanes=R,L(u,R),Ae(u),u},nn.createPortal=function(u,d,S){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qa,key:R==null?null:""+R,children:u,containerInfo:d,implementation:S}},nn.createRoleSelector=function(u){return{$$typeof:hi,value:u}},nn.createTestNameSelector=function(u){return{$$typeof:ws,value:u}},nn.createTextSelector=function(u){return{$$typeof:ao,value:u}},nn.defaultOnCaughtError=function(u){console.error(u)},nn.defaultOnRecoverableError=function(u){xp(u)},nn.defaultOnUncaughtError=function(u){xp(u)},nn.deferredUpdates=function(u){var d=Yt.T,S=ko();try{return Dr(32),Yt.T=null,u()}finally{Dr(S),Yt.T=d}},nn.discreteUpdates=function(u,d,S,R,I){var k=Yt.T,ne=ko();try{return Dr(2),Yt.T=null,u(d,S,R,I)}finally{Dr(ne),Yt.T=k,Nn===0&&(Xu=Ja()+500)}},nn.findAllNodes=Yf,nn.findBoundingRects=function(u,d){if(!Cl)throw Error(r(363));d=Yf(u,d),u=[];for(var S=0;S<d.length;S++)u.push(kg(d[S]));for(d=u.length-1;0<d;d--){S=u[d];for(var R=S.x,I=R+S.width,k=S.y,ne=k+S.height,ue=d-1;0<=ue;ue--)if(d!==ue){var Me=u[ue],Ke=Me.x,dt=Ke+Me.width,At=Me.y,Ct=At+Me.height;if(R>=Ke&&k>=At&&I<=dt&&ne<=Ct){u.splice(d,1);break}else if(R!==Ke||S.width!==Me.width||Ct<k||At>ne){if(!(k!==At||S.height!==Me.height||dt<R||Ke>I)){Ke>R&&(Me.width+=Ke-R,Me.x=R),dt<I&&(Me.width=I-Ke),u.splice(d,1);break}}else{At>k&&(Me.height+=At-k,Me.y=k),Ct<ne&&(Me.height=ne-At),u.splice(d,1);break}}}return u},nn.findHostInstance=Kh,nn.findHostInstanceWithNoPortals=function(u){return u=b(u),u=u!==null?E(u):null,u===null?null:Nu(u.stateNode)},nn.findHostInstanceWithWarning=function(u){return Kh(u)},nn.flushPassiveEffects=vs,nn.flushSyncFromReconciler=function(u){var d=Nn;Nn|=1;var S=Yt.T,R=ko();try{if(Dr(2),Yt.T=null,u)return u()}finally{Dr(R),Yt.T=S,Nn=d,(Nn&6)===0&&te(0)}},nn.flushSyncWork=Qf,nn.focusWithin=function(u,d){if(!Cl)throw Error(r(363));for(u=_u(u),d=ca(u,d),d=Array.from(d),u=0;u<d.length;){var S=d[u++],R=S.tag;if(!Uu(S)){if((R===5||R===26||R===27)&&ib(S.stateNode))return!0;for(S=S.child;S!==null;)d.push(S),S=S.sibling}}return!1},nn.getFindAllNodesFailureDescription=function(u,d){if(!Cl)throw Error(r(363));var S=0,R=[];u=[_u(u),0];for(var I=0;I<u.length;){var k=u[I++],ne=k.tag,ue=u[I++],Me=d[ue];if((ne!==5&&ne!==26&&ne!==27||!Uu(k))&&(bl(k,Me)&&(R.push(Tg(Me)),ue++,ue>S&&(S=ue)),ue<d.length))for(k=k.child;k!==null;)u.push(k,ue),k=k.sibling}if(S<d.length){for(u=[];S<d.length;S++)u.push(Tg(d[S]));return`findAllNodes was able to match part of the selector:
  `+(R.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},nn.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 27:case 5:return Nu(u.child.stateNode);default:return u.child.stateNode}},nn.injectIntoDevTools=function(){var u={bundleType:0,version:Ig,rendererPackageName:ad,currentDispatcherRef:Yt,findFiberByHostInstance:Z0,reconcilerVersion:"19.0.0"};if(Du!==null&&(u.rendererConfig=Du),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)u=!0;else{try{Ui=d.inject(u),fa=d}catch{}u=!!d.checkDCE}}return u},nn.isAlreadyRendering=function(){return!1},nn.observeVisibleRects=function(u,d,S,R){if(!Cl)throw Error(r(363));u=Yf(u,d);var I=rb(u,S,R).disconnect;return{disconnect:function(){I()}}},nn.shouldError=function(){return null},nn.shouldSuspend=function(){return!1},nn.startHostTransition=function(u,d,S,R){if(u.tag!==5)throw Error(r(476));var I=Ws(u).queue;uu(u,I,d,wl,S===null?i:function(){var k=Ws(u).next.queue;return fl(u,k,{},Di()),S(R)})},nn.updateContainer=function(u,d,S,R){var I=d.current,k=Di();return Au(I,k,u,d,S,R),k},nn.updateContainerSync=function(u,d,S,R){return d.tag===0&&vs(),Au(d.current,2,u,d,S,R),2},nn},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(qE)),qE.exports}var EO;function SG(){return EO||(EO=1,GE.exports=xG()),GE.exports}var _G=SG();const MG=Xv(_G);var XE={exports:{}},YE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TO;function EG(){return TO||(TO=1,function(n){function e(B,j){var q=B.length;B.push(j);e:for(;0<q;){var Q=q-1>>>1,W=B[Q];if(0<r(W,j))B[Q]=j,B[q]=W,q=Q;else break e}}function t(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var j=B[0],q=B.pop();if(q!==j){B[0]=q;e:for(var Q=0,W=B.length,ie=W>>>1;Q<ie;){var le=2*(Q+1)-1,he=B[le],ae=le+1,se=B[ae];if(0>r(he,q))ae<W&&0>r(se,he)?(B[Q]=se,B[ae]=q,Q=ae):(B[Q]=he,B[le]=q,Q=le);else if(ae<W&&0>r(se,q))B[Q]=se,B[ae]=q,Q=ae;else break e}}return j}function r(B,j){var q=B.sortIndex-j.sortIndex;return q!==0?q:B.id-j.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var f=[],p=[],m=1,g=null,y=3,b=!1,_=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function A(B){for(var j=t(p);j!==null;){if(j.callback===null)i(p);else if(j.startTime<=B)i(p),j.sortIndex=j.expirationTime,e(f,j);else break;j=t(p)}}function T(B){if(E=!1,A(B),!_)if(t(f)!==null)_=!0,G();else{var j=t(p);j!==null&&$(T,j.startTime-B)}}var O=!1,N=-1,z=5,F=-1;function P(){return!(n.unstable_now()-F<z)}function w(){if(O){var B=n.unstable_now();F=B;var j=!0;try{e:{_=!1,E&&(E=!1,x(N),N=-1),b=!0;var q=y;try{t:{for(A(B),g=t(f);g!==null&&!(g.expirationTime>B&&P());){var Q=g.callback;if(typeof Q=="function"){g.callback=null,y=g.priorityLevel;var W=Q(g.expirationTime<=B);if(B=n.unstable_now(),typeof W=="function"){g.callback=W,A(B),j=!0;break t}g===t(f)&&i(f),A(B)}else i(f);g=t(f)}if(g!==null)j=!0;else{var ie=t(p);ie!==null&&$(T,ie.startTime-B),j=!1}}break e}finally{g=null,y=q,b=!1}j=void 0}}finally{j?L():O=!1}}}var L;if(typeof D=="function")L=function(){D(w)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,V=H.port2;H.port1.onmessage=w,L=function(){V.postMessage(null)}}else L=function(){M(w,0)};function G(){O||(O=!0,L())}function $(B,j){N=M(function(){B(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){_||b||(_=!0,G())},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(B){switch(y){case 1:case 2:case 3:var j=3;break;default:j=y}var q=y;y=j;try{return B()}finally{y=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,j){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=y;y=B;try{return j()}finally{y=q}},n.unstable_scheduleCallback=function(B,j,q){var Q=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Q+q:Q):q=Q,B){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=q+W,B={id:m++,callback:j,priorityLevel:B,startTime:q,expirationTime:W,sortIndex:-1},q>Q?(B.sortIndex=q,e(p,B),t(f)===null&&B===t(p)&&(E?(x(N),N=-1):E=!0,$(T,q-Q))):(B.sortIndex=W,e(f,B),_||b||(_=!0,G())),B},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(B){var j=y;return function(){var q=y;y=j;try{return B.apply(this,arguments)}finally{y=q}}}}(YE)),YE}var AO;function TG(){return AO||(AO=1,XE.exports=EG()),XE.exports}var wO=TG();const AG=n=>typeof n=="object"&&typeof n.then=="function",Xd=[];function aU(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let r=0;r<i;r++)if(!t(n[r],e[r]))return!1;return!0}function sU(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const a of Xd)if(aU(e,a.keys,a.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return i.lifespan&&i.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,i.lifespan)),a.response;if(!t)throw a.promise}const r={keys:e,equal:i.equal,remove:()=>{const a=Xd.indexOf(r);a!==-1&&Xd.splice(a,1)},promise:(AG(n)?n:n(...e)).then(a=>{r.response=a,i.lifespan&&i.lifespan>0&&(r.timeout=setTimeout(r.remove,i.lifespan))}).catch(a=>r.error=a)};if(Xd.push(r),!t)throw r.promise}const wG=(n,e,t)=>sU(n,e,!1,t),CG=(n,e,t)=>void sU(n,e,!0,t),RG=n=>{if(n===void 0||n.length===0)Xd.splice(0,Xd.length);else{const e=Xd.find(t=>aU(n,t.keys,t.equal));e&&e.remove()}};function Mw(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=Mw(i,e,t);if(r)return r;i=e?null:i.sibling}}function oU(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const Ew=oU(K.createContext(null));class lU extends K.Component{render(){return K.createElement(Ew.Provider,{value:this._reactInternals},this.props.children)}}function cU(){const n=K.useContext(Ew);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=K.useId();return K.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const i=Mw(t,!1,r=>{let a=r.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[n,e])}const OG=Symbol.for("react.context"),DG=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===OG;function NG(){const n=cU(),[e]=K.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;DG(i)&&i!==Ew&&!e.has(i)&&e.set(i,K.use(oU(i))),t=t.return}return e}function PG(){const n=NG();return K.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>K.createElement(e,null,K.createElement(t.Provider,{...i,value:n.get(t)})),e=>K.createElement(lU,{...e})),[n])}function uU(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const fU=n=>n&&n.isOrthographicCamera,UG=n=>n&&n.hasOwnProperty("current"),LG=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),a0=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?K.useLayoutEffect:K.useEffect;function dU(n){const e=K.useRef(n);return a0(()=>void(e.current=n),[n]),e}function IG(){const n=cU(),e=PG();return K.useMemo(()=>({children:t})=>{const r=!!Mw(n,!0,a=>a.type===K.StrictMode)?K.StrictMode:K.Fragment;return pe.jsx(r,{children:pe.jsx(e,{children:t})})},[n,e])}function zG({set:n}){return a0(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const BG=(n=>(n=class extends K.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function hU(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function $p(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Oi={obj:n=>n===Object(n)&&!Oi.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Oi.str(n)||Oi.num(n)||Oi.boo(n))return n===e;const a=Oi.obj(n);if(a&&i==="reference")return n===e;const o=Oi.arr(n);if(o&&t==="reference")return n===e;if((o||a)&&n===e)return!0;let c;for(c in n)if(!(c in e))return!1;if(a&&t==="shallow"&&i==="shallow"){for(c in r?e:n)if(!Oi.equ(n[c],e[c],{strict:r,objects:"reference"}))return!1}else for(c in r?e:n)if(n[c]!==e[c])return!1;if(Oi.und(c)){if(o&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function FG(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function HG(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const pU=["children","key","ref"];function VG(n){const e={};for(const t in n)pU.includes(t)||(e[t]=n[t]);return e}function g_(n,e,t,i){const r=n;let a=r==null?void 0:r.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:VG(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=a)),a}function Rv(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const r of e.split("-")){var i;e=r,n=t,t=(i=t)==null?void 0:i[e]}return{root:n,key:e,target:t}}const CO=/-\d+$/;function y_(n,e){if(Oi.str(e.props.attach)){if(CO.test(e.props.attach)){const r=e.props.attach.replace(CO,""),{root:a,key:o}=Rv(n.object,r);Array.isArray(a[o])||(a[o]=[])}const{root:t,key:i}=Rv(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else Oi.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function v_(n,e){if(Oi.str(e.props.attach)){const{root:t,key:i}=Rv(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const jT=[...pU,"args","dispose","attach","object","onUpdate","dispose"],RO=new Map;function kG(n){let e=RO.get(n.constructor);try{e||(e=new n.constructor,RO.set(n.constructor,e))}catch{}return e}function GG(n,e){const t={};for(const i in e)if(!jT.includes(i)&&!Oi.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(jT.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:a}=Rv(n.object,i);if(r.constructor&&r.constructor.length===0){const o=kG(r);Oi.und(o)||(t[a]=o[a])}else t[a]=0}return t}const qG=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],jG=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function ff(n,e){var t;const i=n.__r3f,r=i&&uU(i).getState(),a=i==null?void 0:i.eventCount;for(const c in e){let f=e[c];if(jT.includes(c))continue;if(i&&jG.test(c)){typeof f=="function"?i.handlers[c]=f:delete i.handlers[c],i.eventCount=Object.keys(i.handlers).length;continue}if(f===void 0)continue;let{root:p,key:m,target:g}=Rv(n,c);if(g instanceof Rm&&f instanceof Rm)g.mask=f.mask;else if(g instanceof Rt&&LG(f))g.set(f);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&f!=null&&f.constructor&&g.constructor===f.constructor)g.copy(f);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(f))typeof g.fromArray=="function"?g.fromArray(f):g.set(...f);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof f=="number")typeof g.setScalar=="function"?g.setScalar(f):g.set(f);else{var o;p[m]=f,r&&!r.linear&&qG.includes(m)&&(o=p[m])!=null&&o.isTexture&&p[m].format===va&&p[m].type===xo&&(p[m].colorSpace=$r)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&a!==i.eventCount){const c=i.object,f=r.internal.interaction.indexOf(c);f>-1&&r.internal.interaction.splice(f,1),i.eventCount&&c.raycast!==null&&r.internal.interaction.push(c)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&jm(i),n}function jm(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function WG(n,e){n.manual||(fU(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Ga=n=>n==null?void 0:n.isObject3D;function jx(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function mU(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function XG(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{mU(t.capturedMap,e,i,r)})}function YG(n){function e(f){const{internal:p}=n.getState(),m=f.offsetX-p.initialClick[0],g=f.offsetY-p.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function t(f){return f.filter(p=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=p.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function i(f,p){const m=n.getState(),g=new Set,y=[],b=p?p(m.internal.interaction):m.internal.interaction;for(let x=0;x<b.length;x++){const D=$p(b[x]);D&&(D.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(f,m);function _(x){const D=$p(x);if(!D||!D.events.enabled||D.raycaster.camera===null)return[];if(D.raycaster.camera===void 0){var A;D.events.compute==null||D.events.compute(f,D,(A=D.previousRoot)==null?void 0:A.getState()),D.raycaster.camera===void 0&&(D.raycaster.camera=null)}return D.raycaster.camera?D.raycaster.intersectObject(x,!0):[]}let E=b.flatMap(_).sort((x,D)=>{const A=$p(x.object),T=$p(D.object);return!A||!T?x.distance-D.distance:T.events.priority-A.events.priority||x.distance-D.distance}).filter(x=>{const D=jx(x);return g.has(D)?!1:(g.add(D),!0)});m.events.filter&&(E=m.events.filter(E,m));for(const x of E){let D=x.object;for(;D;){var M;(M=D.__r3f)!=null&&M.eventCount&&y.push({...x,eventObject:D}),D=D.parent}}if("pointerId"in f&&m.internal.capturedMap.has(f.pointerId))for(let x of m.internal.capturedMap.get(f.pointerId).values())g.has(jx(x.intersection))||y.push(x.intersection);return y}function r(f,p,m,g){if(f.length){const y={stopped:!1};for(const b of f){let _=$p(b.object);if(_||b.object.traverseAncestors(E=>{const M=$p(E);if(M)return _=M,!1}),_){const{raycaster:E,pointer:M,camera:x,internal:D}=_,A=new re(M.x,M.y,0).unproject(x),T=P=>{var w,L;return(w=(L=D.capturedMap.get(P))==null?void 0:L.has(b.eventObject))!=null?w:!1},O=P=>{const w={intersection:b,target:p.target};D.capturedMap.has(P)?D.capturedMap.get(P).set(b.eventObject,w):D.capturedMap.set(P,new Map([[b.eventObject,w]])),p.target.setPointerCapture(P)},N=P=>{const w=D.capturedMap.get(P);w&&mU(D.capturedMap,b.eventObject,w,P)};let z={};for(let P in p){let w=p[P];typeof w!="function"&&(z[P]=w)}let F={...b,...z,pointer:M,intersections:f,stopped:y.stopped,delta:m,unprojectedPoint:A,ray:E.ray,camera:x,stopPropagation(){const P="pointerId"in p&&D.capturedMap.get(p.pointerId);if((!P||P.has(b.eventObject))&&(F.stopped=y.stopped=!0,D.hovered.size&&Array.from(D.hovered.values()).find(w=>w.eventObject===b.eventObject))){const w=f.slice(0,f.indexOf(b));a([...w,b])}},target:{hasPointerCapture:T,setPointerCapture:O,releasePointerCapture:N},currentTarget:{hasPointerCapture:T,setPointerCapture:O,releasePointerCapture:N},nativeEvent:p};if(g(F),y.stopped===!0)break}}}return f}function a(f){const{internal:p}=n.getState();for(const m of p.hovered.values())if(!f.length||!f.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const y=m.eventObject.__r3f;if(p.hovered.delete(jx(m)),y!=null&&y.eventCount){const b=y.handlers,_={...m,intersections:f};b.onPointerOut==null||b.onPointerOut(_),b.onPointerLeave==null||b.onPointerLeave(_)}}}function o(f,p){for(let m=0;m<p.length;m++){const g=p[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(f)}}function c(f){switch(f){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return p=>{const{internal:m}=n.getState();"pointerId"in p&&m.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(p.pointerId)&&(m.capturedMap.delete(p.pointerId),a([]))})}}return function(m){const{onPointerMissed:g,internal:y}=n.getState();y.lastEvent.current=m;const b=f==="onPointerMove",_=f==="onClick"||f==="onContextMenu"||f==="onDoubleClick",M=i(m,b?t:void 0),x=_?e(m):0;f==="onPointerDown"&&(y.initialClick=[m.offsetX,m.offsetY],y.initialHits=M.map(A=>A.eventObject)),_&&!M.length&&x<=2&&(o(m,y.interaction),g&&g(m)),b&&a(M);function D(A){const T=A.eventObject,O=T.__r3f;if(!(O!=null&&O.eventCount))return;const N=O.handlers;if(b){if(N.onPointerOver||N.onPointerEnter||N.onPointerOut||N.onPointerLeave){const z=jx(A),F=y.hovered.get(z);F?F.stopped&&A.stopPropagation():(y.hovered.set(z,A),N.onPointerOver==null||N.onPointerOver(A),N.onPointerEnter==null||N.onPointerEnter(A))}N.onPointerMove==null||N.onPointerMove(A)}else{const z=N[f];z?(!_||y.initialHits.includes(T))&&(o(m,y.interaction.filter(F=>!y.initialHits.includes(F))),z(A)):_&&y.initialHits.includes(T)&&o(m,y.interaction.filter(F=>!y.initialHits.includes(F)))}}r(M,m,x,D)}}return{handlePointer:c}}const OO=n=>!!(n!=null&&n.render),gU=K.createContext(null),$G=(n,e)=>{const t=yG((c,f)=>{const p=new re,m=new re,g=new re;function y(x=f().camera,D=m,A=f().size){const{width:T,height:O,top:N,left:z}=A,F=T/O;D.isVector3?g.copy(D):g.set(...D);const P=x.getWorldPosition(p).distanceTo(g);if(fU(x))return{width:T/x.zoom,height:O/x.zoom,top:N,left:z,factor:1,distance:P,aspect:F};{const w=x.fov*Math.PI/180,L=2*Math.tan(w/2)*P,H=L*(T/O);return{width:H,height:L,top:N,left:z,factor:T/H,distance:P,aspect:F}}}let b;const _=x=>c(D=>({performance:{...D.performance,current:x}})),E=new Je;return{set:c,get:f,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(x=1)=>n(f(),x),advance:(x,D)=>e(x,D,f()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new vw,pointer:E,mouse:E,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=f();b&&clearTimeout(b),x.performance.current!==x.performance.min&&_(x.performance.min),b=setTimeout(()=>_(f().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:x=>c(D=>({...D,events:{...D.events,...x}})),setSize:(x,D,A=0,T=0)=>{const O=f().camera,N={width:x,height:D,top:A,left:T};c(z=>({size:N,viewport:{...z.viewport,...y(O,m,N)}}))},setDpr:x=>c(D=>{const A=hU(x);return{viewport:{...D.viewport,dpr:A,initialDpr:D.viewport.initialDpr||A}}}),setFrameloop:(x="always")=>{const D=f().clock;D.stop(),D.elapsedTime=0,x!=="never"&&(D.start(),D.elapsedTime=0),c(()=>({frameloop:x}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:K.createRef(),active:!1,frames:0,priority:0,subscribe:(x,D,A)=>{const T=f().internal;return T.priority=T.priority+(D>0?1:0),T.subscribers.push({ref:x,priority:D,store:A}),T.subscribers=T.subscribers.sort((O,N)=>O.priority-N.priority),()=>{const O=f().internal;O!=null&&O.subscribers&&(O.priority=O.priority-(D>0?1:0),O.subscribers=O.subscribers.filter(N=>N.ref!==x))}}}}}),i=t.getState();let r=i.size,a=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:c,size:f,viewport:p,gl:m,set:g}=t.getState();if(f.width!==r.width||f.height!==r.height||p.dpr!==a){r=f,a=p.dpr,WG(c,f),p.dpr>0&&m.setPixelRatio(p.dpr);const y=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(f.width,f.height,y)}c!==o&&(o=c,g(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(c)}})))}),t.subscribe(c=>n(c)),t};function yU(){const n=K.useContext(gU);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function jc(n=t=>t,e){return yU()(n,e)}function vU(n,e=0){const t=yU(),i=t.getState().internal.subscribe,r=dU(n);return a0(()=>i(r,e,t),[e,i,t]),null}const DO=new WeakMap,QG=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function bU(n,e){return function(t,...i){let r;return QG(t)?(r=DO.get(t),r||(r=new t,DO.set(t,r))):r=t,n&&n(r),Promise.all(i.map(a=>new Promise((o,c)=>r.load(a,f=>{Ga(f==null?void 0:f.scene)&&Object.assign(f,FG(f.scene)),o(f)},e,f=>c(new Error(`Could not load ${a}: ${f==null?void 0:f.message}`))))))}}function Tw(n,e,t,i){const r=Array.isArray(e)?e:[e],a=wG(bU(t,i),[n,...r],{equal:Oi.equ});return Array.isArray(e)?a:a[0]}Tw.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return CG(bU(t),[n,...i])};Tw.clear=function(n,e){const t=Array.isArray(e)?e:[e];return RG([n,...t])};function KG(n){const e=MG(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:K.version}),e}const xU=0,Pm={},ZG=/^three(?=[A-Z])/,w1=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let JG=0;const e7=n=>typeof n=="function";function Aw(n){if(e7(n)){const e=`${JG++}`;return Pm[e]=n,e}else Object.assign(Pm,n)}function SU(n,e){const t=w1(n),i=Pm[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function t7(n,e,t){var i;return n=w1(n)in Pm?n:n.replace(ZG,""),SU(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,g_(e.object,t,n,e)}function n7(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?v_(n.parent,n):Ga(n.object)&&(n.object.visible=!1),n.isHidden=!0,jm(n)}}function _U(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?y_(n.parent,n):Ga(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,jm(n)}}function ww(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,a;const o=Pm[w1(e.type)];e.object=(r=e.props.object)!=null?r:new o(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(ff(e.object,e.props),e.props.attach)y_(n,e);else if(Ga(e.object)&&Ga(n.object)){const o=n.object.children.indexOf(t==null?void 0:t.object);if(t&&o!==-1){const c=n.object.children.indexOf(e.object);if(c!==-1){n.object.children.splice(c,1);const f=c<o?o-1:o;n.object.children.splice(f,0,e.object)}else e.object.parent=n.object,n.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const o of e.children)ww(e,o);jm(e)}}function $E(n,e){e&&(e.parent=n,n.children.push(e),ww(n,e))}function NO(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),ww(n,e,t)}function MU(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():wO.unstable_scheduleCallback(wO.unstable_IdlePriority,e)}}function WT(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?v_(n,e):Ga(e.object)&&Ga(n.object)&&(n.object.remove(e.object),XG(uU(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const o=e.children[a];WT(e,o,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&MU(e.object),t===void 0&&jm(e)}function i7(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const bS=[];function r7(){for(const[t]of bS){const i=t.parent;if(i){t.props.attach?v_(i,t):Ga(t.object)&&Ga(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?v_(t,r):Ga(r.object)&&Ga(t.object)&&t.object.remove(r.object)}t.isHidden&&_U(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&MU(t.object)}for(const[t,i,r]of bS){t.props=i;const a=t.parent;if(a){var n,e;const o=Pm[w1(t.type)];t.object=(n=t.props.object)!=null?n:new o(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,i7(r,t.object),ff(t.object,t.props),t.props.attach?y_(a,t):Ga(t.object)&&Ga(a.object)&&a.object.add(t.object);for(const c of t.children)c.props.attach?y_(t,c):Ga(c.object)&&Ga(t.object)&&t.object.add(c.object);jm(t)}}bS.length=0}const QE=()=>{},PO={};let Wx=xU;const a7=0,s7=4,XT=KG({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:t7,removeChild:WT,appendChild:$E,appendInitialChild:$E,insertBefore:NO,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||$E(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||WT(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||NO(i,e,t)},getRootHostContext:()=>PO,getChildHostContext:()=>PO,commitUpdate(n,e,t,i,r){var a,o,c;SU(e,i);let f=!1;if((n.type==="primitive"&&t.object!==i.object||((a=i.args)==null?void 0:a.length)!==((o=t.args)==null?void 0:o.length)||(c=i.args)!=null&&c.some((m,g)=>{var y;return m!==((y=t.args)==null?void 0:y[g])}))&&(f=!0),f)bS.push([n,{...i},r]);else{const m=GG(n,i);Object.keys(m).length&&(Object.assign(n.props,m),ff(n.object,m))}(r.sibling===null||(r.flags&s7)===a7)&&r7()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>g_(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:n7,unhideInstance:_U,createTextInstance:QE,hideTextInstance:QE,unhideTextInstance:QE,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:K.createContext(null),setCurrentUpdatePriority(n){Wx=n},getCurrentUpdatePriority(){return Wx},resolveUpdatePriority(){var n;if(Wx!==xU)return Wx;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return vS.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return vS.ContinuousEventPriority;default:return vS.DefaultEventPriority}},resetFormInstance(){}}),dh=new Map,Qp={objects:"shallow",strict:!1};function o7(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:a}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function l7(n){const e=dh.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,a=i||$G(QT,LO),o=t||XT.createContainer(a,vS.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||dh.set(n,{fiber:o,store:a});let c,f,p=!1,m=null;return{async configure(g={}){let y;m=new Promise(ie=>y=ie);let{gl:b,size:_,scene:E,events:M,onCreated:x,shadows:D=!1,linear:A=!1,flat:T=!1,legacy:O=!1,orthographic:N=!1,frameloop:z="always",dpr:F=[1,2],performance:P,raycaster:w,camera:L,onPointerMissed:H}=g,V=a.getState(),G=V.gl;if(!V.gl){const ie={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},le=typeof b=="function"?await b(ie):b;OO(le)?G=le:G=new rU({...ie,...b}),V.set({gl:G})}let $=V.raycaster;$||V.set({raycaster:$=new T1});const{params:B,...j}=w||{};if(Oi.equ(j,$,Qp)||ff($,{...j}),Oi.equ(B,$.params,Qp)||ff($,{params:{...$.params,...B}}),!V.camera||V.camera===f&&!Oi.equ(f,L,Qp)){f=L;const ie=L==null?void 0:L.isCamera,le=ie?L:N?new pf(0,0,0,0,.1,1e3):new Ji(75,0,.1,1e3);ie||(le.position.z=5,L&&(ff(le,L),le.manual||("aspect"in L||"left"in L||"right"in L||"bottom"in L||"top"in L)&&(le.manual=!0,le.updateProjectionMatrix())),!V.camera&&!(L!=null&&L.rotation)&&le.lookAt(0,0,0)),V.set({camera:le}),$.camera=le}if(!V.scene){let ie;E!=null&&E.isScene?(ie=E,g_(ie,a,"",{})):(ie=new JA,g_(ie,a,"",{}),E&&ff(ie,E)),V.set({scene:ie})}M&&!V.events.handlers&&V.set({events:M(a)});const q=o7(n,_);if(Oi.equ(q,V.size,Qp)||V.setSize(q.width,q.height,q.top,q.left),F&&V.viewport.dpr!==hU(F)&&V.setDpr(F),V.frameloop!==z&&V.setFrameloop(z),V.onPointerMissed||V.set({onPointerMissed:H}),P&&!Oi.equ(P,V.performance,Qp)&&V.set(ie=>({performance:{...ie.performance,...P}})),!V.xr){var Q;const ie=(ae,se)=>{const me=a.getState();me.frameloop!=="never"&&LO(ae,!0,me,se)},le=()=>{const ae=a.getState();ae.gl.xr.enabled=ae.gl.xr.isPresenting,ae.gl.xr.setAnimationLoop(ae.gl.xr.isPresenting?ie:null),ae.gl.xr.isPresenting||QT(ae)},he={connect(){const ae=a.getState().gl;ae.xr.addEventListener("sessionstart",le),ae.xr.addEventListener("sessionend",le)},disconnect(){const ae=a.getState().gl;ae.xr.removeEventListener("sessionstart",le),ae.xr.removeEventListener("sessionend",le)}};typeof((Q=G.xr)==null?void 0:Q.addEventListener)=="function"&&he.connect(),V.set({xr:he})}if(G.shadowMap){const ie=G.shadowMap.enabled,le=G.shadowMap.type;if(G.shadowMap.enabled=!!D,Oi.boo(D))G.shadowMap.type=Yy;else if(Oi.str(D)){var W;const he={basic:sN,percentage:j_,soft:Yy,variance:el};G.shadowMap.type=(W=he[D])!=null?W:Yy}else Oi.obj(D)&&Object.assign(G.shadowMap,D);(ie!==G.shadowMap.enabled||le!==G.shadowMap.type)&&(G.shadowMap.needsUpdate=!0)}return Pn.enabled=!O,p||(G.outputColorSpace=A?bf:$r,G.toneMapping=T?Jl:BA),V.legacy!==O&&V.set(()=>({legacy:O})),V.linear!==A&&V.set(()=>({linear:A})),V.flat!==T&&V.set(()=>({flat:T})),b&&!Oi.fun(b)&&!OO(b)&&!Oi.equ(b,G,Qp)&&ff(G,b),c=x,p=!0,y(),this},render(g){return!p&&!m&&this.configure(),m.then(()=>{XT.updateContainer(pe.jsx(c7,{store:a,children:g,onCreated:c,rootElement:n}),o,null,()=>{})}),a},unmount(){EU(n)}}}function c7({store:n,children:e,onCreated:t,rootElement:i}){return a0(()=>{const r=n.getState();r.set(a=>({internal:{...a.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),pe.jsx(gU.Provider,{value:n,children:e})}function EU(n,e){const t=dh.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),XT.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var a,o,c,f;r.events.disconnect==null||r.events.disconnect(),(a=r.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(c=r.gl)==null||c.forceContextLoss==null||c.forceContextLoss(),(f=r.gl)!=null&&f.xr&&r.xr.disconnect(),HG(r.scene),dh.delete(n)}catch{}},500)})}}const u7=new Set,f7=new Set,d7=new Set;function KE(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function rv(n,e){switch(n){case"before":return KE(u7,e);case"after":return KE(f7,e);case"tail":return KE(d7,e)}}let ZE,JE;function YT(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),ZE=e.internal.subscribers;for(let r=0;r<ZE.length;r++)JE=ZE[r],JE.ref.current(JE.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let b_=!1,$T=!1,eT,UO,Kp;function TU(n){UO=requestAnimationFrame(TU),b_=!0,eT=0,rv("before",n),$T=!0;for(const t of dh.values()){var e;Kp=t.store.getState(),Kp.internal.active&&(Kp.frameloop==="always"||Kp.internal.frames>0)&&!((e=Kp.gl.xr)!=null&&e.isPresenting)&&(eT+=YT(n,Kp))}if($T=!1,rv("after",n),eT===0)return rv("tail",n),b_=!1,cancelAnimationFrame(UO)}function QT(n,e=1){var t;if(!n)return dh.forEach(i=>QT(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):$T?n.internal.frames=2:n.internal.frames=1,b_||(b_=!0,requestAnimationFrame(TU)))}function LO(n,e=!0,t,i){if(e&&rv("before",n),t)YT(n,t,i);else for(const r of dh.values())YT(n,r.store.getState());e&&rv("after",n)}const tT={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function h7(n){const{handlePointer:e}=YG(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(tT).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(a=>({events:{...a.events,connected:t}})),r.handlers)for(const a in r.handlers){const o=r.handlers[a],[c,f]=tT[a];t.addEventListener(c,o,{passive:f})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const a=i.handlers[r],[o]=tT[r];i.connected.removeEventListener(o,a)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function IO(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function p7({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=K.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=K.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),f=n?typeof n=="number"?n:n.scroll:null,p=n?typeof n=="number"?n:n.resize:null,m=K.useRef(!1);K.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[g,y,b]=K.useMemo(()=>{const x=()=>{if(!c.current.element)return;const{left:D,top:A,width:T,height:O,bottom:N,right:z,x:F,y:P}=c.current.element.getBoundingClientRect(),w={left:D,top:A,width:T,height:O,bottom:N,right:z,x:F,y:P};c.current.element instanceof HTMLElement&&i&&(w.height=c.current.element.offsetHeight,w.width=c.current.element.offsetWidth),Object.freeze(w),m.current&&!v7(c.current.lastBounds,w)&&o(c.current.lastBounds=w)};return[x,p?IO(x,p):x,f?IO(x,f):x]},[o,i,f,p]);function _(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",b,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null),c.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",c.current.orientationHandler))}function E(){c.current.element&&(c.current.resizeObserver=new r(b),c.current.resizeObserver.observe(c.current.element),e&&c.current.scrollContainers&&c.current.scrollContainers.forEach(x=>x.addEventListener("scroll",b,{capture:!0,passive:!0})),c.current.orientationHandler=()=>{b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",c.current.orientationHandler))}const M=x=>{!x||x===c.current.element||(_(),c.current.element=x,c.current.scrollContainers=AU(x),E())};return g7(b,!!e),m7(y),K.useEffect(()=>{_(),E()},[e,b,y]),K.useEffect(()=>_,[]),[M,a,g]}function m7(n){K.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function g7(n,e){K.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function AU(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...AU(n.parentElement)]}const y7=["x","y","top","bottom","left","right","width","height"],v7=(n,e)=>y7.every(t=>n[t]===e[t]);function b7({ref:n,children:e,fallback:t,resize:i,style:r,gl:a,events:o=h7,eventSource:c,eventPrefix:f,shadows:p,linear:m,flat:g,legacy:y,orthographic:b,frameloop:_,dpr:E,performance:M,raycaster:x,camera:D,scene:A,onPointerMissed:T,onCreated:O,...N}){K.useMemo(()=>Aw(rG),[]);const z=IG(),[F,P]=p7({scroll:!0,debounce:{scroll:50,resize:0},...i}),w=K.useRef(null),L=K.useRef(null);K.useImperativeHandle(n,()=>w.current);const H=dU(T),[V,G]=K.useState(!1),[$,B]=K.useState(!1);if(V)throw V;if($)throw $;const j=K.useRef(null);a0(()=>{const Q=w.current;if(P.width>0&&P.height>0&&Q){j.current||(j.current=l7(Q));async function W(){await j.current.configure({gl:a,scene:A,events:o,shadows:p,linear:m,flat:g,legacy:y,orthographic:b,frameloop:_,dpr:E,performance:M,raycaster:x,camera:D,size:P,onPointerMissed:(...ie)=>H.current==null?void 0:H.current(...ie),onCreated:ie=>{ie.events.connect==null||ie.events.connect(c?UG(c)?c.current:c:L.current),f&&ie.setEvents({compute:(le,he)=>{const ae=le[f+"X"],se=le[f+"Y"];he.pointer.set(ae/he.size.width*2-1,-(se/he.size.height)*2+1),he.raycaster.setFromCamera(he.pointer,he.camera)}}),O==null||O(ie)}}),j.current.render(pe.jsx(z,{children:pe.jsx(BG,{set:B,children:pe.jsx(K.Suspense,{fallback:pe.jsx(zG,{set:G}),children:e??null})})}))}W()}}),K.useEffect(()=>{const Q=w.current;if(Q)return()=>EU(Q)},[]);const q=c?"none":"auto";return pe.jsx("div",{ref:L,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:q,...r},...N,children:pe.jsx("div",{ref:F,style:{width:"100%",height:"100%"},children:pe.jsx("canvas",{ref:w,style:{display:"block"},children:t})})})}function x7(n){return pe.jsx(lU,{children:pe.jsx(b7,{...n})})}const Yr=[];for(let n=0;n<256;++n)Yr.push((n+256).toString(16).slice(1));function S7(n,e=0){return(Yr[n[e+0]]+Yr[n[e+1]]+Yr[n[e+2]]+Yr[n[e+3]]+"-"+Yr[n[e+4]]+Yr[n[e+5]]+"-"+Yr[n[e+6]]+Yr[n[e+7]]+"-"+Yr[n[e+8]]+Yr[n[e+9]]+"-"+Yr[n[e+10]]+Yr[n[e+11]]+Yr[n[e+12]]+Yr[n[e+13]]+Yr[n[e+14]]+Yr[n[e+15]]).toLowerCase()}let nT;const _7=new Uint8Array(16);function M7(){if(!nT){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");nT=crypto.getRandomValues.bind(crypto)}return nT(_7)}const E7=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),zO={randomUUID:E7};function T7(n,e,t){var r;if(zO.randomUUID&&!n)return zO.randomUUID();n=n||{};const i=n.random??((r=n.rng)==null?void 0:r.call(n))??M7();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,S7(i)}function Ir(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var A7=typeof Symbol=="function"&&Symbol.observable||"@@observable",BO=A7,iT=()=>Math.random().toString(36).substring(7).split("").join("."),w7={INIT:`@@redux/INIT${iT()}`,REPLACE:`@@redux/REPLACE${iT()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${iT()}`},Ov=w7;function Af(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function Wm(n,e,t){if(typeof n!="function")throw new Error(Ir(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Ir(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Ir(1));return t(Wm)(n,e)}let i=n,r=e,a=new Map,o=a,c=0,f=!1;function p(){o===a&&(o=new Map,a.forEach((M,x)=>{o.set(x,M)}))}function m(){if(f)throw new Error(Ir(3));return r}function g(M){if(typeof M!="function")throw new Error(Ir(4));if(f)throw new Error(Ir(5));let x=!0;p();const D=c++;return o.set(D,M),function(){if(x){if(f)throw new Error(Ir(6));x=!1,p(),o.delete(D),a=null}}}function y(M){if(!Af(M))throw new Error(Ir(7));if(typeof M.type>"u")throw new Error(Ir(8));if(typeof M.type!="string")throw new Error(Ir(17));if(f)throw new Error(Ir(9));try{f=!0,r=i(r,M)}finally{f=!1}return(a=o).forEach(D=>{D()}),M}function b(M){if(typeof M!="function")throw new Error(Ir(10));i=M,y({type:Ov.REPLACE})}function _(){const M=g;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Ir(11));function D(){const T=x;T.next&&T.next(m())}return D(),{unsubscribe:M(D)}},[BO](){return this}}}return y({type:Ov.INIT}),{dispatch:y,subscribe:g,getState:m,replaceReducer:b,[BO]:_}}function C7(n,e,t){return Wm(n,e,t)}function R7(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Ov.INIT})>"u")throw new Error(Ir(12));if(typeof t(void 0,{type:Ov.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ir(13))})}function Xm(n){const e=Object.keys(n),t={};for(let a=0;a<e.length;a++){const o=e[a];typeof n[o]=="function"&&(t[o]=n[o])}const i=Object.keys(t);let r;try{R7(t)}catch(a){r=a}return function(o={},c){if(r)throw r;let f=!1;const p={};for(let m=0;m<i.length;m++){const g=i[m],y=t[g],b=o[g],_=y(b,c);if(typeof _>"u")throw c&&c.type,new Error(Ir(14));p[g]=_,f=f||_!==b}return f=f||i.length!==Object.keys(o).length,f?p:o}}function FO(n,e){return function(...t){return e(n.apply(this,t))}}function O7(n,e){if(typeof n=="function")return FO(n,e);if(typeof n!="object"||n===null)throw new Error(Ir(16));const t={};for(const i in n){const r=n[i];typeof r=="function"&&(t[i]=FO(r,e))}return t}function Bs(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function C1(...n){return e=>(t,i)=>{const r=e(t,i);let a=()=>{throw new Error(Ir(15))};const o={getState:r.getState,dispatch:(f,...p)=>a(f,...p)},c=n.map(f=>f(o));return a=Bs(...c)(r.dispatch),{...r,dispatch:a}}}function wf(n){return Af(n)&&"type"in n&&typeof n.type=="string"}const wU=Object.freeze(Object.defineProperty({__proto__:null,__DO_NOT_USE__ActionTypes:Ov,applyMiddleware:C1,bindActionCreators:O7,combineReducers:Xm,compose:Bs,createStore:Wm,isAction:wf,isPlainObject:Af,legacy_createStore:C7},Symbol.toStringTag,{value:"Module"}));var Cw=Symbol.for("immer-nothing"),av=Symbol.for("immer-draftable"),ms=Symbol.for("immer-state");function Kr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var hh=Object.getPrototypeOf;function er(n){return!!n&&!!n[ms]}function Ma(n){var e;return n?CU(n)||Array.isArray(n)||!!n[av]||!!((e=n.constructor)!=null&&e[av])||s0(n)||o0(n):!1}var D7=Object.prototype.constructor.toString();function CU(n){if(!n||typeof n!="object")return!1;const e=hh(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===D7}function R1(n){return er(n)||Kr(15,n),n[ms].base_}function Dv(n,e){ph(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,i)=>e(i,t,n))}function ph(n){const e=n[ms];return e?e.type_:Array.isArray(n)?1:s0(n)?2:o0(n)?3:0}function Nv(n,e){return ph(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function rT(n,e){return ph(n)===2?n.get(e):n[e]}function RU(n,e,t){const i=ph(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function N7(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function s0(n){return n instanceof Map}function o0(n){return n instanceof Set}function Bd(n){return n.copy_||n.base_}function KT(n,e){if(s0(n))return new Map(n);if(o0(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=CU(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[ms];let r=Reflect.ownKeys(i);for(let a=0;a<r.length;a++){const o=r[a],c=i[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(i[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:n[o]})}return Object.create(hh(n),i)}else{const i=hh(n);if(i!==null&&t)return{...n};const r=Object.create(i);return Object.assign(r,n)}}function l0(n,e=!1){return O1(n)||er(n)||!Ma(n)||(ph(n)>1&&(n.set=n.add=n.clear=n.delete=P7),Object.freeze(n),e&&Object.entries(n).forEach(([t,i])=>l0(i,!0))),n}function P7(){Kr(2)}function O1(n){return Object.isFrozen(n)}var ZT={};function mh(n){const e=ZT[n];return e||Kr(0,n),e}function U7(n,e){ZT[n]||(ZT[n]=e)}var Pv;function OU(){return Pv}function L7(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function HO(n,e){e&&(mh("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function JT(n){eA(n),n.drafts_.forEach(I7),n.drafts_=null}function eA(n){n===Pv&&(Pv=n.parent_)}function VO(n){return Pv=L7(Pv,n)}function I7(n){const e=n[ms];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function kO(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[ms].modified_&&(JT(e),Kr(4)),Ma(n)&&(n=x_(e,n),e.parent_||S_(e,n)),e.patches_&&mh("Patches").generateReplacementPatches_(t[ms].base_,n,e.patches_,e.inversePatches_)):n=x_(e,t,[]),JT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==Cw?n:void 0}function x_(n,e,t){if(O1(e))return e;const i=e[ms];if(!i)return Dv(e,(r,a)=>GO(n,i,e,r,a,t)),e;if(i.scope_!==n)return e;if(!i.modified_)return S_(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const r=i.copy_;let a=r,o=!1;i.type_===3&&(a=new Set(r),r.clear(),o=!0),Dv(a,(c,f)=>GO(n,i,r,c,f,t,o)),S_(n,r,!1),t&&n.patches_&&mh("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function GO(n,e,t,i,r,a,o){if(er(r)){const c=a&&e&&e.type_!==3&&!Nv(e.assigned_,i)?a.concat(i):void 0,f=x_(n,r,c);if(RU(t,i,f),er(f))n.canAutoFreeze_=!1;else return}else o&&t.add(r);if(Ma(r)&&!O1(r)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;x_(n,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,i)&&S_(n,r)}}function S_(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&l0(e,t)}function z7(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:OU(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,a=Rw;t&&(r=[i],a=Uv);const{revoke:o,proxy:c}=Proxy.revocable(r,a);return i.draft_=c,i.revoke_=o,c}var Rw={get(n,e){if(e===ms)return n;const t=Bd(n);if(!Nv(t,e))return B7(n,t,e);const i=t[e];return n.finalized_||!Ma(i)?i:i===aT(n.base_,e)?(sT(n),n.copy_[e]=nA(i,n)):i},has(n,e){return e in Bd(n)},ownKeys(n){return Reflect.ownKeys(Bd(n))},set(n,e,t){const i=DU(Bd(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=aT(Bd(n),e),a=r==null?void 0:r[ms];if(a&&a.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(N7(t,r)&&(t!==void 0||Nv(n.base_,e)))return!0;sT(n),tA(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return aT(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,sT(n),tA(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Bd(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){Kr(11)},getPrototypeOf(n){return hh(n.base_)},setPrototypeOf(){Kr(12)}},Uv={};Dv(Rw,(n,e)=>{Uv[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Uv.deleteProperty=function(n,e){return Uv.set.call(this,n,e,void 0)};Uv.set=function(n,e,t){return Rw.set.call(this,n[0],e,t,n[0])};function aT(n,e){const t=n[ms];return(t?Bd(t):n)[e]}function B7(n,e,t){var r;const i=DU(e,t);return i?"value"in i?i.value:(r=i.get)==null?void 0:r.call(n.draft_):void 0}function DU(n,e){if(!(e in n))return;let t=hh(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=hh(t)}}function tA(n){n.modified_||(n.modified_=!0,n.parent_&&tA(n.parent_))}function sT(n){n.copy_||(n.copy_=KT(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var F7=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const a=t;t=e;const o=this;return function(f=a,...p){return o.produce(f,m=>t.call(this,m,...p))}}typeof t!="function"&&Kr(6),i!==void 0&&typeof i!="function"&&Kr(7);let r;if(Ma(e)){const a=VO(this),o=nA(e,void 0);let c=!0;try{r=t(o),c=!1}finally{c?JT(a):eA(a)}return HO(a,i),kO(r,a)}else if(!e||typeof e!="object"){if(r=t(e),r===void 0&&(r=e),r===Cw&&(r=void 0),this.autoFreeze_&&l0(r,!0),i){const a=[],o=[];mh("Patches").generateReplacementPatches_(e,r,a,o),i(a,o)}return r}else Kr(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...c)=>this.produceWithPatches(o,f=>e(f,...c));let i,r;return[this.produce(e,t,(o,c)=>{i=o,r=c}),i,r]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Ma(n)||Kr(8),er(n)&&(n=wh(n));const e=VO(this),t=nA(n,void 0);return t[ms].isManual_=!0,eA(e),t}finishDraft(n,e){const t=n&&n[ms];(!t||!t.isManual_)&&Kr(9);const{scope_:i}=t;return HO(i,e),kO(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const r=e[t];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}t>-1&&(e=e.slice(t+1));const i=mh("Patches").applyPatches_;return er(n)?i(n,e):this.produce(n,r=>i(r,e))}};function nA(n,e){const t=s0(n)?mh("MapSet").proxyMap_(n,e):o0(n)?mh("MapSet").proxySet_(n,e):z7(n,e);return(e?e.scope_:OU()).drafts_.push(t),t}function wh(n){return er(n)||Kr(10,n),NU(n)}function NU(n){if(!Ma(n)||O1(n))return n;const e=n[ms];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=KT(n,e.scope_.immer_.useStrictShallowCopy_)}else t=KT(n,!0);return Dv(t,(i,r)=>{RU(t,i,NU(r))}),e&&(e.finalized_=!1),t}function PU(){const e="replace",t="add",i="remove";function r(y,b,_,E){switch(y.type_){case 0:case 2:return o(y,b,_,E);case 1:return a(y,b,_,E);case 3:return c(y,b,_,E)}}function a(y,b,_,E){let{base_:M,assigned_:x}=y,D=y.copy_;D.length<M.length&&([M,D]=[D,M],[_,E]=[E,_]);for(let A=0;A<M.length;A++)if(x[A]&&D[A]!==M[A]){const T=b.concat([A]);_.push({op:e,path:T,value:g(D[A])}),E.push({op:e,path:T,value:g(M[A])})}for(let A=M.length;A<D.length;A++){const T=b.concat([A]);_.push({op:t,path:T,value:g(D[A])})}for(let A=D.length-1;M.length<=A;--A){const T=b.concat([A]);E.push({op:i,path:T})}}function o(y,b,_,E){const{base_:M,copy_:x}=y;Dv(y.assigned_,(D,A)=>{const T=rT(M,D),O=rT(x,D),N=A?Nv(M,D)?e:t:i;if(T===O&&N===e)return;const z=b.concat(D);_.push(N===i?{op:N,path:z}:{op:N,path:z,value:O}),E.push(N===t?{op:i,path:z}:N===i?{op:t,path:z,value:g(T)}:{op:e,path:z,value:g(T)})})}function c(y,b,_,E){let{base_:M,copy_:x}=y,D=0;M.forEach(A=>{if(!x.has(A)){const T=b.concat([D]);_.push({op:i,path:T,value:A}),E.unshift({op:t,path:T,value:A})}D++}),D=0,x.forEach(A=>{if(!M.has(A)){const T=b.concat([D]);_.push({op:t,path:T,value:A}),E.unshift({op:i,path:T,value:A})}D++})}function f(y,b,_,E){_.push({op:e,path:[],value:b===Cw?void 0:b}),E.push({op:e,path:[],value:y})}function p(y,b){return b.forEach(_=>{const{path:E,op:M}=_;let x=y;for(let O=0;O<E.length-1;O++){const N=ph(x);let z=E[O];typeof z!="string"&&typeof z!="number"&&(z=""+z),(N===0||N===1)&&(z==="__proto__"||z==="constructor")&&Kr(19),typeof x=="function"&&z==="prototype"&&Kr(19),x=rT(x,z),typeof x!="object"&&Kr(18,E.join("/"))}const D=ph(x),A=m(_.value),T=E[E.length-1];switch(M){case e:switch(D){case 2:return x.set(T,A);case 3:Kr(16);default:return x[T]=A}case t:switch(D){case 1:return T==="-"?x.push(A):x.splice(T,0,A);case 2:return x.set(T,A);case 3:return x.add(A);default:return x[T]=A}case i:switch(D){case 1:return x.splice(T,1);case 2:return x.delete(T);case 3:return x.delete(_.value);default:return delete x[T]}default:Kr(17,M)}}),y}function m(y){if(!Ma(y))return y;if(Array.isArray(y))return y.map(m);if(s0(y))return new Map(Array.from(y.entries()).map(([_,E])=>[_,m(E)]));if(o0(y))return new Set(Array.from(y).map(m));const b=Object.create(hh(y));for(const _ in y)b[_]=m(y[_]);return Nv(y,av)&&(b[av]=y[av]),b}function g(y){return er(y)?m(y):y}U7("Patches",{applyPatches_:p,generatePatches_:r,generateReplacementPatches_:f})}var Fs=new F7,Ta=Fs.produce,D1=Fs.produceWithPatches.bind(Fs);Fs.setAutoFreeze.bind(Fs);Fs.setUseStrictShallowCopy.bind(Fs);var __=Fs.applyPatches.bind(Fs);Fs.createDraft.bind(Fs);Fs.finishDraft.bind(Fs);var M_=Symbol("NOT_FOUND");function H7(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function V7(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function k7(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${t}]`)}}var qO=n=>Array.isArray(n)?n:[n];function G7(n){const e=Array.isArray(n[0])?n[0]:n;return k7(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function q7(n,e){const t=[],{length:i}=n;for(let r=0;r<i;r++)t.push(n[r].apply(null,e));return t}function j7(n){let e;return{get(t){return e&&n(e.key,t)?e.value:M_},put(t,i){e={key:t,value:i}},getEntries(){return e?[e]:[]},clear(){e=void 0}}}function W7(n,e){let t=[];function i(c){const f=t.findIndex(p=>e(c,p.key));if(f>-1){const p=t[f];return f>0&&(t.splice(f,1),t.unshift(p)),p.value}return M_}function r(c,f){i(c)===M_&&(t.unshift({key:c,value:f}),t.length>n&&t.pop())}function a(){return t}function o(){t=[]}return{get:i,put:r,getEntries:a,clear:o}}var X7=(n,e)=>n===e;function Y7(n){return function(t,i){if(t===null||i===null||t.length!==i.length)return!1;const{length:r}=t;for(let a=0;a<r;a++)if(!n(t[a],i[a]))return!1;return!0}}function UU(n,e){const t=typeof e=="object"?e:{equalityCheck:e},{equalityCheck:i=X7,maxSize:r=1,resultEqualityCheck:a}=t,o=Y7(i);let c=0;const f=r<=1?j7(o):W7(r,o);function p(){let m=f.get(arguments);if(m===M_){if(m=n.apply(null,arguments),c++,a){const y=f.getEntries().find(b=>a(b.value,m));y&&(m=y.value,c!==0&&c--)}f.put(arguments,m)}return m}return p.clearCache=()=>{f.clear(),p.resetResultsCount()},p.resultsCount=()=>c,p.resetResultsCount=()=>{c=0},p}var $7=class{constructor(n){this.value=n}deref(){return this.value}},Q7=typeof WeakRef<"u"?WeakRef:$7,K7=0,jO=1;function Xx(){return{s:K7,v:void 0,o:null,p:null}}function ac(n,e={}){let t=Xx();const{resultEqualityCheck:i}=e;let r,a=0;function o(){var g;let c=t;const{length:f}=arguments;for(let y=0,b=f;y<b;y++){const _=arguments[y];if(typeof _=="function"||typeof _=="object"&&_!==null){let E=c.o;E===null&&(c.o=E=new WeakMap);const M=E.get(_);M===void 0?(c=Xx(),E.set(_,c)):c=M}else{let E=c.p;E===null&&(c.p=E=new Map);const M=E.get(_);M===void 0?(c=Xx(),E.set(_,c)):c=M}}const p=c;let m;if(c.s===jO)m=c.v;else if(m=n.apply(null,arguments),a++,i){const y=((g=r==null?void 0:r.deref)==null?void 0:g.call(r))??r;y!=null&&i(y,m)&&(m=y,a!==0&&a--),r=typeof m=="object"&&m!==null||typeof m=="function"?new Q7(m):m}return p.s=jO,p.v=m,m}return o.clearCache=()=>{t=Xx(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function c0(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,i=(...r)=>{let a=0,o=0,c,f={},p=r.pop();typeof p=="object"&&(f=p,p=r.pop()),H7(p,`createSelector expects an output function after the inputs, but received: [${typeof p}]`);const m={...t,...f},{memoize:g,memoizeOptions:y=[],argsMemoize:b=ac,argsMemoizeOptions:_=[]}=m,E=qO(y),M=qO(_),x=G7(r),D=g(function(){return a++,p.apply(null,arguments)},...E),A=b(function(){o++;const O=q7(x,arguments);return c=D.apply(null,O),c},...M);return Object.assign(A,{resultFunc:p,memoizedResultFunc:D,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:g,argsMemoize:b})};return Object.assign(i,{withTypes:()=>i}),i}var Ym=c0(ac),Z7=Object.assign((n,e=Ym)=>{V7(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),i=t.map(a=>n[a]);return e(i,(...a)=>a.reduce((o,c,f)=>(o[t[f]]=c,o),{}))},{withTypes:()=>Z7});function LU(n){return({dispatch:t,getState:i})=>r=>a=>typeof a=="function"?a(t,i,n):r(a)}var Ow=LU(),Dw=LU,J7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bs:Bs.apply(null,arguments)};function WO(n,e){function t(...i){if(e){let r=e(...i);if(!r)throw new Error(eu(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>wf(i)&&i.type===n,t}var IU=class Vy extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Vy.prototype)}static get[Symbol.species](){return Vy}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Vy(...e[0].concat(this)):new Vy(...e.concat(this))}};function XO(n){return Ma(n)?Ta(n,()=>{}):n}function Yx(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function e9(n){return typeof n=="boolean"}var t9=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let o=new IU;return t&&(e9(t)?o.push(Ow):o.push(Dw(t.extraArgument))),o},n9="RTK_autoBatch",YO=n=>e=>{setTimeout(e,n)},i9=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let r=!0,a=!1,o=!1;const c=new Set,f=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:YO(10):n.type==="callback"?n.queueNotification:YO(n.timeout),p=()=>{o=!1,a&&(a=!1,c.forEach(m=>m()))};return Object.assign({},i,{subscribe(m){const g=()=>r&&m(),y=i.subscribe(g);return c.add(m),()=>{y(),c.delete(m)}},dispatch(m){var g;try{return r=!((g=m==null?void 0:m.meta)!=null&&g[n9]),a=!r,a&&(o||(o=!0,f(p))),i.dispatch(m)}finally{r=!0}}})},r9=n=>function(t){const{autoBatch:i=!0}=t??{};let r=new IU(n);return i&&r.push(i9(typeof i=="object"?i:void 0)),r};function a9(n){const e=t9(),{reducer:t=void 0,middleware:i,devTools:r=!0,preloadedState:a=void 0,enhancers:o=void 0}=n||{};let c;if(typeof t=="function")c=t;else if(Af(t))c=Xm(t);else throw new Error(eu(1));let f;typeof i=="function"?f=i(e):f=e();let p=Bs;r&&(p=J7({trace:!1,...typeof r=="object"&&r}));const m=C1(...f),g=r9(m);let y=typeof o=="function"?o(g):g();const b=p(...y);return Wm(c,a,b)}function zU(n){const e={},t=[];let i;const r={addCase(a,o){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(eu(28));if(c in e)throw new Error(eu(29));return e[c]=o,r},addMatcher(a,o){return t.push({matcher:a,reducer:o}),r},addDefaultCase(a){return i=a,r}};return n(r),[e,t,i]}function s9(n){return typeof n=="function"}function o9(n,e){let[t,i,r]=zU(e),a;if(s9(n))a=()=>XO(n());else{const c=XO(n);a=()=>c}function o(c=a(),f){let p=[t[f.type],...i.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return p.filter(m=>!!m).length===0&&(p=[r]),p.reduce((m,g)=>{if(g)if(er(m)){const b=g(m,f);return b===void 0?m:b}else{if(Ma(m))return Ta(m,y=>g(y,f));{const y=g(m,f);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},c)}return o.getInitialState=a,o}var l9=Symbol.for("rtk-slice-createasyncthunk");function c9(n,e){return`${n}/${e}`}function u9({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[l9];return function(r){const{name:a,reducerPath:o=a}=r;if(!a)throw new Error(eu(11));const c=(typeof r.reducers=="function"?r.reducers(h9()):r.reducers)||{},f=Object.keys(c),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(T,O){const N=typeof T=="string"?T:T.type;if(!N)throw new Error(eu(12));if(N in p.sliceCaseReducersByType)throw new Error(eu(13));return p.sliceCaseReducersByType[N]=O,m},addMatcher(T,O){return p.sliceMatchers.push({matcher:T,reducer:O}),m},exposeAction(T,O){return p.actionCreators[T]=O,m},exposeCaseReducer(T,O){return p.sliceCaseReducersByName[T]=O,m}};f.forEach(T=>{const O=c[T],N={reducerName:T,type:c9(a,T),createNotation:typeof r.reducers=="function"};m9(O)?y9(N,O,m,e):p9(N,O,m)});function g(){const[T={},O=[],N=void 0]=typeof r.extraReducers=="function"?zU(r.extraReducers):[r.extraReducers],z={...T,...p.sliceCaseReducersByType};return o9(r.initialState,F=>{for(let P in z)F.addCase(P,z[P]);for(let P of p.sliceMatchers)F.addMatcher(P.matcher,P.reducer);for(let P of O)F.addMatcher(P.matcher,P.reducer);N&&F.addDefaultCase(N)})}const y=T=>T,b=new Map,_=new WeakMap;let E;function M(T,O){return E||(E=g()),E(T,O)}function x(){return E||(E=g()),E.getInitialState()}function D(T,O=!1){function N(F){let P=F[T];return typeof P>"u"&&O&&(P=Yx(_,N,x)),P}function z(F=y){const P=Yx(b,O,()=>new WeakMap);return Yx(P,F,()=>{const w={};for(const[L,H]of Object.entries(r.selectors??{}))w[L]=f9(H,F,()=>Yx(_,F,x),O);return w})}return{reducerPath:T,getSelectors:z,get selectors(){return z(N)},selectSlice:N}}const A={name:a,reducer:M,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:x,...D(o),injectInto(T,{reducerPath:O,...N}={}){const z=O??o;return T.inject({reducerPath:z,reducer:M},N),{...A,...D(z,!0)}}};return A}}function f9(n,e,t,i){function r(a,...o){let c=e(a);return typeof c>"u"&&i&&(c=t()),n(c,...o)}return r.unwrapped=n,r}var d9=u9();function h9(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function p9({type:n,reducerName:e,createNotation:t},i,r){let a,o;if("reducer"in i){if(t&&!g9(i))throw new Error(eu(17));a=i.reducer,o=i.prepare}else a=i;r.addCase(n,a).exposeCaseReducer(e,a).exposeAction(e,o?WO(n,o):WO(n))}function m9(n){return n._reducerDefinitionType==="asyncThunk"}function g9(n){return n._reducerDefinitionType==="reducerWithPrepare"}function y9({type:n,reducerName:e},t,i,r){if(!r)throw new Error(eu(18));const{payloadCreator:a,fulfilled:o,pending:c,rejected:f,settled:p,options:m}=t,g=r(n,a,m);i.exposeAction(e,g),o&&i.addCase(g.fulfilled,o),c&&i.addCase(g.pending,c),f&&i.addCase(g.rejected,f),p&&i.addMatcher(g.settled,p),i.exposeCaseReducer(e,{fulfilled:o||$x,pending:c||$x,rejected:f||$x,settled:p||$x})}function $x(){}function eu(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const BU=d9({name:"tiles",initialState:{placedTiles:[]},reducers:{addTile:(n,e)=>{const t=e.payload;n.placedTiles.some(r=>r.position.x===t.position.x&&r.position.z===t.position.z)||n.placedTiles.push(t)},updateTilePosition:(n,e)=>{const{id:t,position:i}=e.payload,r=n.placedTiles.find(a=>a.id===t);r&&(n.placedTiles.some(o=>o.id!==t&&o.position.x===i.x&&o.position.y===i.y)||(r.position=i))},rotateTile:(n,e)=>{const{id:t,rotation:i}=e.payload,r=n.placedTiles.find(a=>a.id===t);r&&(r.rotation=i%(2*Math.PI))}}}),{addTile:v9,updateTilePosition:b9,rotateTile:cne}=BU.actions,x9=BU.reducer;function gh(){return gh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},gh.apply(null,arguments)}var S9=Object.defineProperty,_9=(n,e,t)=>e in n?S9(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,M9=(n,e,t)=>(_9(n,e+"",t),t);class E9{constructor(){M9(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,o=r.length;a<o;a++)r[a].call(this,e);e.target=null}}}var T9=Object.defineProperty,A9=(n,e,t)=>e in n?T9(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Gt=(n,e,t)=>(A9(n,typeof e!="symbol"?e+"":e,t),t);const Qx=new Mh,$O=new mo,w9=Math.cos(70*(Math.PI/180)),QO=(n,e)=>(n%e+e)%e;let C9=class extends E9{constructor(e,t){super(),Gt(this,"object"),Gt(this,"domElement"),Gt(this,"enabled",!0),Gt(this,"target",new re),Gt(this,"minDistance",0),Gt(this,"maxDistance",1/0),Gt(this,"minZoom",0),Gt(this,"maxZoom",1/0),Gt(this,"minPolarAngle",0),Gt(this,"maxPolarAngle",Math.PI),Gt(this,"minAzimuthAngle",-1/0),Gt(this,"maxAzimuthAngle",1/0),Gt(this,"enableDamping",!1),Gt(this,"dampingFactor",.05),Gt(this,"enableZoom",!0),Gt(this,"zoomSpeed",1),Gt(this,"enableRotate",!0),Gt(this,"rotateSpeed",1),Gt(this,"enablePan",!0),Gt(this,"panSpeed",1),Gt(this,"screenSpacePanning",!0),Gt(this,"keyPanSpeed",7),Gt(this,"zoomToCursor",!1),Gt(this,"autoRotate",!1),Gt(this,"autoRotateSpeed",2),Gt(this,"reverseOrbit",!1),Gt(this,"reverseHorizontalOrbit",!1),Gt(this,"reverseVerticalOrbit",!1),Gt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Gt(this,"mouseButtons",{LEFT:po.ROTATE,MIDDLE:po.DOLLY,RIGHT:po.PAN}),Gt(this,"touches",{ONE:Yl.ROTATE,TWO:Yl.DOLLY_PAN}),Gt(this,"target0"),Gt(this,"position0"),Gt(this,"zoom0"),Gt(this,"_domElementKeyEvents",null),Gt(this,"getPolarAngle"),Gt(this,"getAzimuthalAngle"),Gt(this,"setPolarAngle"),Gt(this,"setAzimuthalAngle"),Gt(this,"getDistance"),Gt(this,"getZoomScale"),Gt(this,"listenToKeyEvents"),Gt(this,"stopListenToKeyEvents"),Gt(this,"saveState"),Gt(this,"reset"),Gt(this,"update"),Gt(this,"connect"),Gt(this,"dispose"),Gt(this,"dollyIn"),Gt(this,"dollyOut"),Gt(this,"getScale"),Gt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=oe=>{let Oe=QO(oe,2*Math.PI),ft=m.phi;ft<0&&(ft+=2*Math.PI),Oe<0&&(Oe+=2*Math.PI);let fe=Math.abs(Oe-ft);2*Math.PI-fe<fe&&(Oe<ft?Oe+=2*Math.PI:ft+=2*Math.PI),g.phi=Oe-ft,i.update()},this.setAzimuthalAngle=oe=>{let Oe=QO(oe,2*Math.PI),ft=m.theta;ft<0&&(ft+=2*Math.PI),Oe<0&&(Oe+=2*Math.PI);let fe=Math.abs(Oe-ft);2*Math.PI-fe<fe&&(Oe<ft?Oe+=2*Math.PI:ft+=2*Math.PI),g.theta=Oe-ft,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=oe=>{oe.addEventListener("keydown",at),this._domElementKeyEvents=oe},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",at),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),f=c.NONE},this.update=(()=>{const oe=new re,Oe=new re(0,1,0),ft=new xa().setFromUnitVectors(e.up,Oe),fe=ft.clone().invert(),st=new re,Ne=new xa,Ye=2*Math.PI;return function(){const mt=i.object.position;ft.setFromUnitVectors(e.up,Oe),fe.copy(ft).invert(),oe.copy(mt).sub(i.target),oe.applyQuaternion(ft),m.setFromVector3(oe),i.autoRotate&&f===c.NONE&&G(H()),i.enableDamping?(m.theta+=g.theta*i.dampingFactor,m.phi+=g.phi*i.dampingFactor):(m.theta+=g.theta,m.phi+=g.phi);let Ot=i.minAzimuthAngle,Zt=i.maxAzimuthAngle;isFinite(Ot)&&isFinite(Zt)&&(Ot<-Math.PI?Ot+=Ye:Ot>Math.PI&&(Ot-=Ye),Zt<-Math.PI?Zt+=Ye:Zt>Math.PI&&(Zt-=Ye),Ot<=Zt?m.theta=Math.max(Ot,Math.min(Zt,m.theta)):m.theta=m.theta>(Ot+Zt)/2?Math.max(Ot,m.theta):Math.min(Zt,m.theta)),m.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,m.phi)),m.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(b,i.dampingFactor):i.target.add(b),i.zoomToCursor&&P||i.object.isOrthographicCamera?m.radius=he(m.radius):m.radius=he(m.radius*y),oe.setFromSpherical(m),oe.applyQuaternion(fe),mt.copy(i.target).add(oe),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(g.theta*=1-i.dampingFactor,g.phi*=1-i.dampingFactor,b.multiplyScalar(1-i.dampingFactor)):(g.set(0,0,0),b.set(0,0,0));let Sn=!1;if(i.zoomToCursor&&P){let qt=null;if(i.object instanceof Ji&&i.object.isPerspectiveCamera){const vi=oe.length();qt=he(vi*y);const $n=vi-qt;i.object.position.addScaledVector(z,$n),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const vi=new re(F.x,F.y,0);vi.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/y)),i.object.updateProjectionMatrix(),Sn=!0;const $n=new re(F.x,F.y,0);$n.unproject(i.object),i.object.position.sub($n).add(vi),i.object.updateMatrixWorld(),qt=oe.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;qt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(qt).add(i.object.position):(Qx.origin.copy(i.object.position),Qx.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Qx.direction))<w9?e.lookAt(i.target):($O.setFromNormalAndCoplanarPoint(i.object.up,i.target),Qx.intersectPlane($O,i.target))))}else i.object instanceof pf&&i.object.isOrthographicCamera&&(Sn=y!==1,Sn&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/y)),i.object.updateProjectionMatrix()));return y=1,P=!1,Sn||st.distanceToSquared(i.object.position)>p||8*(1-Ne.dot(i.object.quaternion))>p?(i.dispatchEvent(r),st.copy(i.object.position),Ne.copy(i.object.quaternion),Sn=!1,!0):!1}})(),this.connect=oe=>{i.domElement=oe,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Be),i.domElement.addEventListener("pointerdown",Y),i.domElement.addEventListener("pointercancel",we),i.domElement.addEventListener("wheel",ct)},this.dispose=()=>{var oe,Oe,ft,fe,st,Ne;i.domElement&&(i.domElement.style.touchAction="auto"),(oe=i.domElement)==null||oe.removeEventListener("contextmenu",Be),(Oe=i.domElement)==null||Oe.removeEventListener("pointerdown",Y),(ft=i.domElement)==null||ft.removeEventListener("pointercancel",we),(fe=i.domElement)==null||fe.removeEventListener("wheel",ct),(st=i.domElement)==null||st.ownerDocument.removeEventListener("pointermove",be),(Ne=i.domElement)==null||Ne.ownerDocument.removeEventListener("pointerup",we),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",at)};const i=this,r={type:"change"},a={type:"start"},o={type:"end"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let f=c.NONE;const p=1e-6,m=new VT,g=new VT;let y=1;const b=new re,_=new Je,E=new Je,M=new Je,x=new Je,D=new Je,A=new Je,T=new Je,O=new Je,N=new Je,z=new re,F=new Je;let P=!1;const w=[],L={};function H(){return 2*Math.PI/60/60*i.autoRotateSpeed}function V(){return Math.pow(.95,i.zoomSpeed)}function G(oe){i.reverseOrbit||i.reverseHorizontalOrbit?g.theta+=oe:g.theta-=oe}function $(oe){i.reverseOrbit||i.reverseVerticalOrbit?g.phi+=oe:g.phi-=oe}const B=(()=>{const oe=new re;return function(ft,fe){oe.setFromMatrixColumn(fe,0),oe.multiplyScalar(-ft),b.add(oe)}})(),j=(()=>{const oe=new re;return function(ft,fe){i.screenSpacePanning===!0?oe.setFromMatrixColumn(fe,1):(oe.setFromMatrixColumn(fe,0),oe.crossVectors(i.object.up,oe)),oe.multiplyScalar(ft),b.add(oe)}})(),q=(()=>{const oe=new re;return function(ft,fe){const st=i.domElement;if(st&&i.object instanceof Ji&&i.object.isPerspectiveCamera){const Ne=i.object.position;oe.copy(Ne).sub(i.target);let Ye=oe.length();Ye*=Math.tan(i.object.fov/2*Math.PI/180),B(2*ft*Ye/st.clientHeight,i.object.matrix),j(2*fe*Ye/st.clientHeight,i.object.matrix)}else st&&i.object instanceof pf&&i.object.isOrthographicCamera?(B(ft*(i.object.right-i.object.left)/i.object.zoom/st.clientWidth,i.object.matrix),j(fe*(i.object.top-i.object.bottom)/i.object.zoom/st.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function Q(oe){i.object instanceof Ji&&i.object.isPerspectiveCamera||i.object instanceof pf&&i.object.isOrthographicCamera?y=oe:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function W(oe){Q(y/oe)}function ie(oe){Q(y*oe)}function le(oe){if(!i.zoomToCursor||!i.domElement)return;P=!0;const Oe=i.domElement.getBoundingClientRect(),ft=oe.clientX-Oe.left,fe=oe.clientY-Oe.top,st=Oe.width,Ne=Oe.height;F.x=ft/st*2-1,F.y=-(fe/Ne)*2+1,z.set(F.x,F.y,1).unproject(i.object).sub(i.object.position).normalize()}function he(oe){return Math.max(i.minDistance,Math.min(i.maxDistance,oe))}function ae(oe){_.set(oe.clientX,oe.clientY)}function se(oe){le(oe),T.set(oe.clientX,oe.clientY)}function me(oe){x.set(oe.clientX,oe.clientY)}function xe(oe){E.set(oe.clientX,oe.clientY),M.subVectors(E,_).multiplyScalar(i.rotateSpeed);const Oe=i.domElement;Oe&&(G(2*Math.PI*M.x/Oe.clientHeight),$(2*Math.PI*M.y/Oe.clientHeight)),_.copy(E),i.update()}function ke(oe){O.set(oe.clientX,oe.clientY),N.subVectors(O,T),N.y>0?W(V()):N.y<0&&ie(V()),T.copy(O),i.update()}function Qe(oe){D.set(oe.clientX,oe.clientY),A.subVectors(D,x).multiplyScalar(i.panSpeed),q(A.x,A.y),x.copy(D),i.update()}function Ee(oe){le(oe),oe.deltaY<0?ie(V()):oe.deltaY>0&&W(V()),i.update()}function Ge(oe){let Oe=!1;switch(oe.code){case i.keys.UP:q(0,i.keyPanSpeed),Oe=!0;break;case i.keys.BOTTOM:q(0,-i.keyPanSpeed),Oe=!0;break;case i.keys.LEFT:q(i.keyPanSpeed,0),Oe=!0;break;case i.keys.RIGHT:q(-i.keyPanSpeed,0),Oe=!0;break}Oe&&(oe.preventDefault(),i.update())}function et(){if(w.length==1)_.set(w[0].pageX,w[0].pageY);else{const oe=.5*(w[0].pageX+w[1].pageX),Oe=.5*(w[0].pageY+w[1].pageY);_.set(oe,Oe)}}function nt(){if(w.length==1)x.set(w[0].pageX,w[0].pageY);else{const oe=.5*(w[0].pageX+w[1].pageX),Oe=.5*(w[0].pageY+w[1].pageY);x.set(oe,Oe)}}function J(){const oe=w[0].pageX-w[1].pageX,Oe=w[0].pageY-w[1].pageY,ft=Math.sqrt(oe*oe+Oe*Oe);T.set(0,ft)}function We(){i.enableZoom&&J(),i.enablePan&&nt()}function Re(){i.enableZoom&&J(),i.enableRotate&&et()}function ze(oe){if(w.length==1)E.set(oe.pageX,oe.pageY);else{const ft=qe(oe),fe=.5*(oe.pageX+ft.x),st=.5*(oe.pageY+ft.y);E.set(fe,st)}M.subVectors(E,_).multiplyScalar(i.rotateSpeed);const Oe=i.domElement;Oe&&(G(2*Math.PI*M.x/Oe.clientHeight),$(2*Math.PI*M.y/Oe.clientHeight)),_.copy(E)}function ve(oe){if(w.length==1)D.set(oe.pageX,oe.pageY);else{const Oe=qe(oe),ft=.5*(oe.pageX+Oe.x),fe=.5*(oe.pageY+Oe.y);D.set(ft,fe)}A.subVectors(D,x).multiplyScalar(i.panSpeed),q(A.x,A.y),x.copy(D)}function ot(oe){const Oe=qe(oe),ft=oe.pageX-Oe.x,fe=oe.pageY-Oe.y,st=Math.sqrt(ft*ft+fe*fe);O.set(0,st),N.set(0,Math.pow(O.y/T.y,i.zoomSpeed)),W(N.y),T.copy(O)}function Ae(oe){i.enableZoom&&ot(oe),i.enablePan&&ve(oe)}function te(oe){i.enableZoom&&ot(oe),i.enableRotate&&ze(oe)}function Y(oe){var Oe,ft;i.enabled!==!1&&(w.length===0&&((Oe=i.domElement)==null||Oe.ownerDocument.addEventListener("pointermove",be),(ft=i.domElement)==null||ft.ownerDocument.addEventListener("pointerup",we)),ut(oe),oe.pointerType==="touch"?bt(oe):Xe(oe))}function be(oe){i.enabled!==!1&&(oe.pointerType==="touch"?St(oe):Le(oe))}function we(oe){var Oe,ft,fe;_t(oe),w.length===0&&((Oe=i.domElement)==null||Oe.releasePointerCapture(oe.pointerId),(ft=i.domElement)==null||ft.ownerDocument.removeEventListener("pointermove",be),(fe=i.domElement)==null||fe.ownerDocument.removeEventListener("pointerup",we)),i.dispatchEvent(o),f=c.NONE}function Xe(oe){let Oe;switch(oe.button){case 0:Oe=i.mouseButtons.LEFT;break;case 1:Oe=i.mouseButtons.MIDDLE;break;case 2:Oe=i.mouseButtons.RIGHT;break;default:Oe=-1}switch(Oe){case po.DOLLY:if(i.enableZoom===!1)return;se(oe),f=c.DOLLY;break;case po.ROTATE:if(oe.ctrlKey||oe.metaKey||oe.shiftKey){if(i.enablePan===!1)return;me(oe),f=c.PAN}else{if(i.enableRotate===!1)return;ae(oe),f=c.ROTATE}break;case po.PAN:if(oe.ctrlKey||oe.metaKey||oe.shiftKey){if(i.enableRotate===!1)return;ae(oe),f=c.ROTATE}else{if(i.enablePan===!1)return;me(oe),f=c.PAN}break;default:f=c.NONE}f!==c.NONE&&i.dispatchEvent(a)}function Le(oe){if(i.enabled!==!1)switch(f){case c.ROTATE:if(i.enableRotate===!1)return;xe(oe);break;case c.DOLLY:if(i.enableZoom===!1)return;ke(oe);break;case c.PAN:if(i.enablePan===!1)return;Qe(oe);break}}function ct(oe){i.enabled===!1||i.enableZoom===!1||f!==c.NONE&&f!==c.ROTATE||(oe.preventDefault(),i.dispatchEvent(a),Ee(oe),i.dispatchEvent(o))}function at(oe){i.enabled===!1||i.enablePan===!1||Ge(oe)}function bt(oe){switch(Mt(oe),w.length){case 1:switch(i.touches.ONE){case Yl.ROTATE:if(i.enableRotate===!1)return;et(),f=c.TOUCH_ROTATE;break;case Yl.PAN:if(i.enablePan===!1)return;nt(),f=c.TOUCH_PAN;break;default:f=c.NONE}break;case 2:switch(i.touches.TWO){case Yl.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;We(),f=c.TOUCH_DOLLY_PAN;break;case Yl.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Re(),f=c.TOUCH_DOLLY_ROTATE;break;default:f=c.NONE}break;default:f=c.NONE}f!==c.NONE&&i.dispatchEvent(a)}function St(oe){switch(Mt(oe),f){case c.TOUCH_ROTATE:if(i.enableRotate===!1)return;ze(oe),i.update();break;case c.TOUCH_PAN:if(i.enablePan===!1)return;ve(oe),i.update();break;case c.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ae(oe),i.update();break;case c.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;te(oe),i.update();break;default:f=c.NONE}}function Be(oe){i.enabled!==!1&&oe.preventDefault()}function ut(oe){w.push(oe)}function _t(oe){delete L[oe.pointerId];for(let Oe=0;Oe<w.length;Oe++)if(w[Oe].pointerId==oe.pointerId){w.splice(Oe,1);return}}function Mt(oe){let Oe=L[oe.pointerId];Oe===void 0&&(Oe=new Je,L[oe.pointerId]=Oe),Oe.set(oe.pageX,oe.pageY)}function qe(oe){const Oe=oe.pointerId===w[0].pointerId?w[1]:w[0];return L[Oe.pointerId]}this.dollyIn=(oe=V())=>{ie(oe),i.update()},this.dollyOut=(oe=V())=>{W(oe),i.update()},this.getScale=()=>y,this.setScale=oe=>{Q(oe),i.update()},this.getZoomScale=()=>V(),t!==void 0&&this.connect(t),this.update()}};function R9(n,e,t,i){var r;return r=class extends So{constructor(a){super({vertexShader:e,fragmentShader:t,...a});for(const o in n)this.uniforms[o]=new E1(n[o]),Object.defineProperty(this,o,{get(){return this.uniforms[o].value},set(c){this.uniforms[o].value=c}});this.uniforms=ZA.clone(this.uniforms)}},r.key=XN.generateUUID(),r}const O9=()=>parseInt(Yv.replace(/\D+/g,"")),D9=O9(),N9=K.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:a=!1,onChange:o,onStart:c,onEnd:f,...p},m)=>{const g=jc(N=>N.invalidate),y=jc(N=>N.camera),b=jc(N=>N.gl),_=jc(N=>N.events),E=jc(N=>N.setEvents),M=jc(N=>N.set),x=jc(N=>N.get),D=jc(N=>N.performance),A=e||y,T=i||_.connected||b.domElement,O=K.useMemo(()=>new C9(A),[A]);return vU(()=>{O.enabled&&O.update()},-1),K.useEffect(()=>(a&&O.connect(a===!0?T:a),O.connect(T),()=>void O.dispose()),[a,T,t,O,g]),K.useEffect(()=>{const N=P=>{g(),t&&D.regress(),o&&o(P)},z=P=>{c&&c(P)},F=P=>{f&&f(P)};return O.addEventListener("change",N),O.addEventListener("start",z),O.addEventListener("end",F),()=>{O.removeEventListener("start",z),O.removeEventListener("end",F),O.removeEventListener("change",N)}},[o,c,f,O,g,E]),K.useEffect(()=>{if(n){const N=x().controls;return M({controls:O}),()=>M({controls:N})}},[n,O]),K.createElement("primitive",gh({ref:m,object:O,enableDamping:r},p))}),P9=R9({cellSize:.5,sectionSize:1,fadeDistance:100,fadeStrength:1,fadeFrom:1,cellThickness:.5,sectionThickness:1,cellColor:new Rt,sectionColor:new Rt,infiniteGrid:!1,followCamera:!1,worldCamProjPosition:new re,worldPlanePosition:new re},`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform vec3 worldPlanePosition;
    uniform float fadeDistance;
    uniform bool infiniteGrid;
    uniform bool followCamera;

    void main() {
      localPosition = position.xzy;
      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;
      
      worldPosition = modelMatrix * vec4(localPosition, 1.0);
      if (followCamera) {
        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);
        localPosition = (inverse(modelMatrix) * worldPosition).xyz;
      }

      gl_Position = projectionMatrix * viewMatrix * worldPosition;
    }
  `,`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform float cellSize;
    uniform float sectionSize;
    uniform vec3 cellColor;
    uniform vec3 sectionColor;
    uniform float fadeDistance;
    uniform float fadeStrength;
    uniform float fadeFrom;
    uniform float cellThickness;
    uniform float sectionThickness;

    float getGrid(float size, float thickness) {
      vec2 r = localPosition.xz / size;
      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
      float line = min(grid.x, grid.y) + 1.0 - thickness;
      return 1.0 - min(line, 1.0);
    }

    void main() {
      float g1 = getGrid(cellSize, cellThickness);
      float g2 = getGrid(sectionSize, sectionThickness);

      vec3 from = worldCamProjPosition*vec3(fadeFrom);
      float dist = distance(from, worldPosition.xyz);
      float d = 1.0 - min(dist / fadeDistance, 1.0);
      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));

      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));
      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);
      if (gl_FragColor.a <= 0.0) discard;

      #include <tonemapping_fragment>
      #include <${D9>=154?"colorspace_fragment":"encodings_fragment"}>
    }
  `),U9=K.forwardRef(({args:n,cellColor:e="#000000",sectionColor:t="#2080ff",cellSize:i=.5,sectionSize:r=1,followCamera:a=!1,infiniteGrid:o=!1,fadeDistance:c=100,fadeStrength:f=1,fadeFrom:p=1,cellThickness:m=.5,sectionThickness:g=1,side:y=ba,...b},_)=>{Aw({GridMaterial:P9});const E=K.useRef(null);K.useImperativeHandle(_,()=>E.current,[]);const M=new mo,x=new re(0,1,0),D=new re(0,0,0);vU(O=>{M.setFromNormalAndCoplanarPoint(x,D).applyMatrix4(E.current.matrixWorld);const N=E.current.material,z=N.uniforms.worldCamProjPosition,F=N.uniforms.worldPlanePosition;M.projectPoint(O.camera.position,z.value),F.value.set(0,0,0).applyMatrix4(E.current.matrixWorld)});const A={cellSize:i,sectionSize:r,cellColor:e,sectionColor:t,cellThickness:m,sectionThickness:g},T={fadeDistance:c,fadeStrength:f,fadeFrom:p,infiniteGrid:o,followCamera:a};return K.createElement("mesh",gh({ref:E,frustumCulled:!1},b),K.createElement("gridMaterial",gh({transparent:!0,"extensions-derivatives":!0,side:y},A,T)),K.createElement("planeGeometry",{args:n}))}),ym=new mo,Yc=new Je,FU=new re,oT=new Je,xS=new Je,E_=new re,iA=new re,HU=new Xt,VU=new re,kU=new re;let us=null,Xl=null;const $c=[],mf={NONE:-1,PAN:0,ROTATE:1};class L9 extends KP{constructor(e,t,i=null){super(t,i),this.objects=e,this.recursive=!0,this.transformGroup=!1,this.rotateSpeed=1,this.raycaster=new T1,this.mouseButtons={LEFT:po.PAN,MIDDLE:po.PAN,RIGHT:po.ROTATE},this.touches={ONE:Yl.PAN},this._onPointerMove=I9.bind(this),this._onPointerDown=z9.bind(this),this._onPointerCancel=B9.bind(this),this._onContextMenu=F9.bind(this),i!==null&&this.connect(i)}connect(e){super.connect(e),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointerup",this._onPointerCancel),this.domElement.addEventListener("pointerleave",this._onPointerCancel),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointerup",this._onPointerCancel),this.domElement.removeEventListener("pointerleave",this._onPointerCancel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.domElement.style.touchAction="auto",this.domElement.style.cursor=""}dispose(){this.disconnect()}_updatePointer(e){const t=this.domElement.getBoundingClientRect();Yc.x=(e.clientX-t.left)/t.width*2-1,Yc.y=-(e.clientY-t.top)/t.height*2+1}_updateState(e){let t;if(e.pointerType==="touch")t=this.touches.ONE;else switch(e.button){case 0:t=this.mouseButtons.LEFT;break;case 1:t=this.mouseButtons.MIDDLE;break;case 2:t=this.mouseButtons.RIGHT;break;default:t=null}switch(t){case po.PAN:case Yl.PAN:this.state=mf.PAN;break;case po.ROTATE:case Yl.ROTATE:this.state=mf.ROTATE;break;default:this.state=mf.NONE}}getRaycaster(){return console.warn("THREE.DragControls: getRaycaster() has been deprecated. Use controls.raycaster instead."),this.raycaster}setObjects(e){console.warn("THREE.DragControls: setObjects() has been deprecated. Use controls.objects instead."),this.objects=e}getObjects(){return console.warn("THREE.DragControls: getObjects() has been deprecated. Use controls.objects instead."),this.objects}activate(){console.warn("THREE.DragControls: activate() has been renamed to connect()."),this.connect()}deactivate(){console.warn("THREE.DragControls: deactivate() has been renamed to disconnect()."),this.disconnect()}set mode(e){console.warn("THREE.DragControls: The .mode property has been removed. Define the type of transformation via the .mouseButtons or .touches properties.")}get mode(){console.warn("THREE.DragControls: The .mode property has been removed. Define the type of transformation via the .mouseButtons or .touches properties.")}}function I9(n){const e=this.object,t=this.domElement,i=this.raycaster;if(this.enabled!==!1){if(this._updatePointer(n),i.setFromCamera(Yc,e),us)this.state===mf.PAN?i.ray.intersectPlane(ym,E_)&&us.position.copy(E_.sub(FU).applyMatrix4(HU)):this.state===mf.ROTATE&&(oT.subVectors(Yc,xS).multiplyScalar(this.rotateSpeed),us.rotateOnWorldAxis(VU,oT.x),us.rotateOnWorldAxis(kU.normalize(),-oT.y)),this.dispatchEvent({type:"drag",object:us}),xS.copy(Yc);else if(n.pointerType==="mouse"||n.pointerType==="pen")if($c.length=0,i.setFromCamera(Yc,e),i.intersectObjects(this.objects,this.recursive,$c),$c.length>0){const r=$c[0].object;ym.setFromNormalAndCoplanarPoint(e.getWorldDirection(ym.normal),iA.setFromMatrixPosition(r.matrixWorld)),Xl!==r&&Xl!==null&&(this.dispatchEvent({type:"hoveroff",object:Xl}),t.style.cursor="auto",Xl=null),Xl!==r&&(this.dispatchEvent({type:"hoveron",object:r}),t.style.cursor="pointer",Xl=r)}else Xl!==null&&(this.dispatchEvent({type:"hoveroff",object:Xl}),t.style.cursor="auto",Xl=null);xS.copy(Yc)}}function z9(n){const e=this.object,t=this.domElement,i=this.raycaster;this.enabled!==!1&&(this._updatePointer(n),this._updateState(n),$c.length=0,i.setFromCamera(Yc,e),i.intersectObjects(this.objects,this.recursive,$c),$c.length>0&&(this.transformGroup===!0?us=GU($c[0].object):us=$c[0].object,ym.setFromNormalAndCoplanarPoint(e.getWorldDirection(ym.normal),iA.setFromMatrixPosition(us.matrixWorld)),i.ray.intersectPlane(ym,E_)&&(this.state===mf.PAN?(HU.copy(us.parent.matrixWorld).invert(),FU.copy(E_).sub(iA.setFromMatrixPosition(us.matrixWorld))):this.state===mf.ROTATE&&(VU.set(0,1,0).applyQuaternion(e.quaternion).normalize(),kU.set(1,0,0).applyQuaternion(e.quaternion).normalize())),t.style.cursor="move",this.dispatchEvent({type:"dragstart",object:us})),xS.copy(Yc))}function B9(){this.enabled!==!1&&(us&&(this.dispatchEvent({type:"dragend",object:us}),us=null),this.domElement.style.cursor=Xl?"pointer":"auto",this.state=mf.NONE)}function F9(n){this.enabled!==!1&&n.preventDefault()}function GU(n,e=null){return n.isGroup&&(e=n),n.parent===null?e:GU(n.parent,e)}class H9 extends Wa{constructor(e){super(e)}load(e,t,i,r){const a=this,o=new rc(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{t(a.parse(c))}catch(f){r?r(f):console.error(f),a.manager.itemError(e)}},i,r)}parse(e){function t(p){const m=new DataView(p),g=32/8*3+32/8*3*3+16/8,y=m.getUint32(80,!0);if(80+32/8+y*g===m.byteLength)return!0;const _=[115,111,108,105,100];for(let E=0;E<5;E++)if(i(_,m,E))return!1;return!0}function i(p,m,g){for(let y=0,b=p.length;y<b;y++)if(p[y]!==m.getUint8(g+y))return!1;return!0}function r(p){const m=new DataView(p),g=m.getUint32(80,!0);let y,b,_,E=!1,M,x,D,A,T;for(let L=0;L<70;L++)m.getUint32(L,!1)==1129270351&&m.getUint8(L+4)==82&&m.getUint8(L+5)==61&&(E=!0,M=new Float32Array(g*3*3),x=m.getUint8(L+6)/255,D=m.getUint8(L+7)/255,A=m.getUint8(L+8)/255,T=m.getUint8(L+9)/255);const O=84,N=12*4+2,z=new sn,F=new Float32Array(g*3*3),P=new Float32Array(g*3*3),w=new Rt;for(let L=0;L<g;L++){const H=O+L*N,V=m.getFloat32(H,!0),G=m.getFloat32(H+4,!0),$=m.getFloat32(H+8,!0);if(E){const B=m.getUint16(H+48,!0);(B&32768)===0?(y=(B&31)/31,b=(B>>5&31)/31,_=(B>>10&31)/31):(y=x,b=D,_=A)}for(let B=1;B<=3;B++){const j=H+B*12,q=L*3*3+(B-1)*3;F[q]=m.getFloat32(j,!0),F[q+1]=m.getFloat32(j+4,!0),F[q+2]=m.getFloat32(j+8,!0),P[q]=V,P[q+1]=G,P[q+2]=$,E&&(w.setRGB(y,b,_,$r),M[q]=w.r,M[q+1]=w.g,M[q+2]=w.b)}}return z.setAttribute("position",new Yn(F,3)),z.setAttribute("normal",new Yn(P,3)),E&&(z.setAttribute("color",new Yn(M,3)),z.hasColors=!0,z.alpha=T),z}function a(p){const m=new sn,g=/solid([\s\S]*?)endsolid/g,y=/facet([\s\S]*?)endfacet/g,b=/solid\s(.+)/;let _=0;const E=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,M=new RegExp("vertex"+E+E+E,"g"),x=new RegExp("normal"+E+E+E,"g"),D=[],A=[],T=[],O=new re;let N,z=0,F=0,P=0;for(;(N=g.exec(p))!==null;){F=P;const w=N[0],L=(N=b.exec(w))!==null?N[1]:"";for(T.push(L);(N=y.exec(w))!==null;){let G=0,$=0;const B=N[0];for(;(N=x.exec(B))!==null;)O.x=parseFloat(N[1]),O.y=parseFloat(N[2]),O.z=parseFloat(N[3]),$++;for(;(N=M.exec(B))!==null;)D.push(parseFloat(N[1]),parseFloat(N[2]),parseFloat(N[3])),A.push(O.x,O.y,O.z),G++,P++;$!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+_),G!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+_),_++}const H=F,V=P-F;m.userData.groupNames=T,m.addGroup(H,V,z),z++}return m.setAttribute("position",new Nt(D,3)),m.setAttribute("normal",new Nt(A,3)),m}function o(p){return typeof p!="string"?new TextDecoder().decode(p):p}function c(p){if(typeof p=="string"){const m=new Uint8Array(p.length);for(let g=0;g<p.length;g++)m[g]=p.charCodeAt(g)&255;return m.buffer||m}else return p}const f=c(e);return t(f)?r(f):a(o(e))}}const V9="/models/003540/00354077087ede614c97ed2c51d8d798.stl",k9=K.forwardRef(({tile:n,blueprint:e},t)=>{const i=K.useRef([]),r=1/25.4,o=Tw(H9,n.stlUrls.length>0?n.stlUrls:[V9]).map(_=>{_.computeBoundingBox();const E=_.boundingBox,M=new re;E.getCenter(M),_.translate(-M.x,-M.y,-M.z),_.computeBoundingBox();const x=_.boundingBox;return{geometry:_,minZ:x.min.z,height:x.max.z-x.min.z,width:x.max.x-x.min.x,depth:x.max.y-x.min.y}});function c(){return{positionX:0,positionZ:0,rotationY:0,rotationZ:0}}function f(_,E,M){return{positionX:0,positionZ:E/2-M/2,rotationY:0,rotationZ:0}}function p(_,E){return{positionX:_/2,positionZ:E/2,rotationY:0,rotationZ:-Math.PI/2}}function m(_,E){return{positionX:-(E/2),positionZ:-_/2,rotationY:0,rotationZ:0}}function g(_,E){const M=(E-_)/2;return{positionX:M,positionZ:-M,rotationY:0,rotationZ:Math.PI}}function y(_,E,M){return{positionX:-(M-_)/2,positionZ:(M-E)/2,rotationY:0,rotationZ:Math.PI}}const b=_=>{var $,B,j,q;const E=(B=($=e==null?void 0:e.blueprint_config)==null?void 0:$.parts)==null?void 0:B[_];if(!E)return{rotation:[0,0,0],position:[0,0,0]};const M=E.name.toLowerCase(),{minZ:x,width:D,depth:A}=o[_],T=(q=(j=e==null?void 0:e.blueprint_config)==null?void 0:j.parts)==null?void 0:q.findIndex(Q=>Q.name.toLowerCase().includes("base")),O=T!==-1?o[T].height:.236,N=T!==-1?o[T].width:1,F=(M.includes("base")?0:O)-x;let P;M.includes("base")?P=c():M.includes("wall")?M.includes("left")?P=p(D,A):M.includes("right")?P=m(D,A):P=f(D,A,N):M.includes("column")?P=g(D,N):M.includes("floor")?P=y(D,A,N):P={positionX:0,positionZ:0,rotation:[0,0,0]};const{positionX:w,positionZ:L,rotationY:H,rotationZ:V}=P,G=[w,F,L];return{rotation:[-Math.PI/2,H,V],position:G}};return pe.jsx("group",{ref:t,userData:{tileId:n.id},position:[n.position.x,n.position.y,n.position.z],scale:[r,r,r],children:o.map(({geometry:_},E)=>{var D,A,T,O,N,z,F,P,w,L,H,V;const{rotation:M,position:x}=b(E);return pe.jsxs("mesh",{ref:G=>i.current[E]=G,castShadow:!0,receiveShadow:!0,position:x,rotation:M,children:[pe.jsx("primitive",{object:_}),pe.jsx("meshStandardMaterial",{color:(T=(A=(D=e==null?void 0:e.blueprint_config)==null?void 0:D.parts)==null?void 0:A[E])!=null&&T.name.toLowerCase().includes("base")?"blue":(z=(N=(O=e==null?void 0:e.blueprint_config)==null?void 0:O.parts)==null?void 0:N[E])!=null&&z.name.toLowerCase().includes("floor")?"yellow":(w=(P=(F=e==null?void 0:e.blueprint_config)==null?void 0:F.parts)==null?void 0:P[E])!=null&&w.name.toLowerCase().includes("wall")?"red":(V=(H=(L=e==null?void 0:e.blueprint_config)==null?void 0:L.parts)==null?void 0:H[E])!=null&&V.name.toLowerCase().includes("column")?"green":"gray",side:il,roughness:.5,metalness:.2})]},E)})})});Aw({DragControls:L9});function G9({blueprints:n,onDrop:e}){const t=zA(),i=iN(b=>b.tiles.placedTiles),{camera:r,gl:a}=jc(),o=K.useRef(new T1),c=K.useRef(new Je),f=K.useRef(),p=K.useRef([]);K.useEffect(()=>{p.current=i.map((b,_)=>p.current[_]||{current:null})},[i]);const m=b=>{b.preventDefault(),b.dataTransfer.dropEffect="move"},g=b=>{b.preventDefault();const _=b.dataTransfer.getData("blueprintId"),E=n.find(T=>T.id===_);if(!E){console.log("Blueprint not found for ID:",_);return}const M=a.domElement.getBoundingClientRect();c.current.x=(b.clientX-M.left)/M.width*2-1,c.current.y=-((b.clientY-M.top)/M.height)*2+1,o.current.setFromCamera(c.current,r);const x=new mo(new re(0,1,0),0),D=new re;o.current.ray.intersectPlane(x,D);const A={x:Math.round(D.x/2)*2,y:0,z:Math.round(D.z/2)*2};e(E,A)},y=b=>{const _=b.object,E=_.userData.tileId,M={x:Math.round(_.position.x/2)*2,y:_.position.y,z:Math.round(_.position.z/2)*2};console.log("Dragging tile:",E,"to position:",M),t(b9({id:E,position:M}))};return K.useEffect(()=>{const b=a.domElement;return b.addEventListener("dragover",m),b.addEventListener("drop",g),()=>{b.removeEventListener("dragover",m),b.removeEventListener("drop",g)}},[n,e,a.domElement]),K.useEffect(()=>{const b=f.current;if(!b)return;b.addEventListener("dragend",y);const _=r.controls,E=()=>{_&&(_.enabled=!1)},M=()=>{_&&(_.enabled=!0)};return b.addEventListener("dragstart",E),b.addEventListener("dragend",M),()=>{b.removeEventListener("dragstart",E),b.removeEventListener("dragend",M),b.removeEventListener("dragend",y)}},[i]),pe.jsxs(pe.Fragment,{children:[pe.jsx(U9,{infiniteGrid:!0,cellSize:2,sectionSize:2}),pe.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-.01,0],receiveShadow:!0,children:[pe.jsx("planeGeometry",{args:[100,100]}),pe.jsx("meshStandardMaterial",{color:"gray"})]}),i.length>0&&pe.jsx("dragControls",{ref:f,args:[p.current.map(b=>b.current).filter(Boolean),r,a.domElement]}),i.map((b,_)=>{const E=n.find(M=>M.id===b.blueprintId);return pe.jsx(k9,{ref:M=>p.current[_].current=M,tile:b,blueprint:E,name:`tile-${b.id}`},b.id)}),pe.jsx(N9,{})]})}const Lv={black:"#000",white:"#fff"},Zp={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Jp={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},em={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},tm={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},nm={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Oy={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},q9={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function ru(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(i=>t.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${t} for the full message.`}const N1="$$material";function j9(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function W9(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var X9=function(){function n(t){var i=this;this._insertTag=function(r){var a;i.tags.length===0?i.insertionPoint?a=i.insertionPoint.nextSibling:i.prepend?a=i.container.firstChild:a=i.before:a=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,a),i.tags.push(r)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(W9(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var a=j9(r);try{a.insertRule(i,a.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},n}(),ya="-ms-",T_="-moz-",jn="-webkit-",qU="comm",Nw="rule",Pw="decl",Y9="@import",jU="@keyframes",$9="@layer",Q9=Math.abs,P1=String.fromCharCode,K9=Object.assign;function Z9(n,e){return Qr(n,0)^45?(((e<<2^Qr(n,0))<<2^Qr(n,1))<<2^Qr(n,2))<<2^Qr(n,3):0}function WU(n){return n.trim()}function J9(n,e){return(n=e.exec(n))?n[0]:n}function Wn(n,e,t){return n.replace(e,t)}function rA(n,e){return n.indexOf(e)}function Qr(n,e){return n.charCodeAt(e)|0}function Iv(n,e,t){return n.slice(e,t)}function $l(n){return n.length}function Uw(n){return n.length}function Kx(n,e){return e.push(n),n}function eq(n,e){return n.map(e).join("")}var U1=1,Um=1,XU=0,gs=0,hr=0,$m="";function L1(n,e,t,i,r,a,o){return{value:n,root:e,parent:t,type:i,props:r,children:a,line:U1,column:Um,length:o,return:""}}function Dy(n,e){return K9(L1("",null,null,"",null,null,0),n,{length:-n.length},e)}function tq(){return hr}function nq(){return hr=gs>0?Qr($m,--gs):0,Um--,hr===10&&(Um=1,U1--),hr}function Is(){return hr=gs<XU?Qr($m,gs++):0,Um++,hr===10&&(Um=1,U1++),hr}function tc(){return Qr($m,gs)}function SS(){return gs}function u0(n,e){return Iv($m,n,e)}function zv(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function YU(n){return U1=Um=1,XU=$l($m=n),gs=0,[]}function $U(n){return $m="",n}function _S(n){return WU(u0(gs-1,aA(n===91?n+2:n===40?n+1:n)))}function iq(n){for(;(hr=tc())&&hr<33;)Is();return zv(n)>2||zv(hr)>3?"":" "}function rq(n,e){for(;--e&&Is()&&!(hr<48||hr>102||hr>57&&hr<65||hr>70&&hr<97););return u0(n,SS()+(e<6&&tc()==32&&Is()==32))}function aA(n){for(;Is();)switch(hr){case n:return gs;case 34:case 39:n!==34&&n!==39&&aA(hr);break;case 40:n===41&&aA(n);break;case 92:Is();break}return gs}function aq(n,e){for(;Is()&&n+hr!==57;)if(n+hr===84&&tc()===47)break;return"/*"+u0(e,gs-1)+"*"+P1(n===47?n:Is())}function sq(n){for(;!zv(tc());)Is();return u0(n,gs)}function oq(n){return $U(MS("",null,null,null,[""],n=YU(n),0,[0],n))}function MS(n,e,t,i,r,a,o,c,f){for(var p=0,m=0,g=o,y=0,b=0,_=0,E=1,M=1,x=1,D=0,A="",T=r,O=a,N=i,z=A;M;)switch(_=D,D=Is()){case 40:if(_!=108&&Qr(z,g-1)==58){rA(z+=Wn(_S(D),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:z+=_S(D);break;case 9:case 10:case 13:case 32:z+=iq(_);break;case 92:z+=rq(SS()-1,7);continue;case 47:switch(tc()){case 42:case 47:Kx(lq(aq(Is(),SS()),e,t),f);break;default:z+="/"}break;case 123*E:c[p++]=$l(z)*x;case 125*E:case 59:case 0:switch(D){case 0:case 125:M=0;case 59+m:x==-1&&(z=Wn(z,/\f/g,"")),b>0&&$l(z)-g&&Kx(b>32?ZO(z+";",i,t,g-1):ZO(Wn(z," ","")+";",i,t,g-2),f);break;case 59:z+=";";default:if(Kx(N=KO(z,e,t,p,m,r,c,A,T=[],O=[],g),a),D===123)if(m===0)MS(z,e,N,N,T,a,g,c,O);else switch(y===99&&Qr(z,3)===110?100:y){case 100:case 108:case 109:case 115:MS(n,N,N,i&&Kx(KO(n,N,N,0,0,r,c,A,r,T=[],g),O),r,O,g,c,i?T:O);break;default:MS(z,N,N,N,[""],O,0,c,O)}}p=m=b=0,E=x=1,A=z="",g=o;break;case 58:g=1+$l(z),b=_;default:if(E<1){if(D==123)--E;else if(D==125&&E++==0&&nq()==125)continue}switch(z+=P1(D),D*E){case 38:x=m>0?1:(z+="\f",-1);break;case 44:c[p++]=($l(z)-1)*x,x=1;break;case 64:tc()===45&&(z+=_S(Is())),y=tc(),m=g=$l(A=z+=sq(SS())),D++;break;case 45:_===45&&$l(z)==2&&(E=0)}}return a}function KO(n,e,t,i,r,a,o,c,f,p,m){for(var g=r-1,y=r===0?a:[""],b=Uw(y),_=0,E=0,M=0;_<i;++_)for(var x=0,D=Iv(n,g+1,g=Q9(E=o[_])),A=n;x<b;++x)(A=WU(E>0?y[x]+" "+D:Wn(D,/&\f/g,y[x])))&&(f[M++]=A);return L1(n,e,t,r===0?Nw:c,f,p,m)}function lq(n,e,t){return L1(n,e,t,qU,P1(tq()),Iv(n,2,-2),0)}function ZO(n,e,t,i){return L1(n,e,t,Pw,Iv(n,0,i),Iv(n,i+1,-1),i)}function vm(n,e){for(var t="",i=Uw(n),r=0;r<i;r++)t+=e(n[r],r,n,e)||"";return t}function cq(n,e,t,i){switch(n.type){case $9:if(n.children.length)break;case Y9:case Pw:return n.return=n.return||n.value;case qU:return"";case jU:return n.return=n.value+"{"+vm(n.children,i)+"}";case Nw:n.value=n.props.join(",")}return $l(t=vm(n.children,i))?n.return=n.value+"{"+t+"}":""}function uq(n){var e=Uw(n);return function(t,i,r,a){for(var o="",c=0;c<e;c++)o+=n[c](t,i,r,a)||"";return o}}function fq(n){return function(e){e.root||(e=e.return)&&n(e)}}function QU(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var dq=function(e,t,i){for(var r=0,a=0;r=a,a=tc(),r===38&&a===12&&(t[i]=1),!zv(a);)Is();return u0(e,gs)},hq=function(e,t){var i=-1,r=44;do switch(zv(r)){case 0:r===38&&tc()===12&&(t[i]=1),e[i]+=dq(gs-1,t,i);break;case 2:e[i]+=_S(r);break;case 4:if(r===44){e[++i]=tc()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=P1(r)}while(r=Is());return e},pq=function(e,t){return $U(hq(YU(e),t))},JO=new WeakMap,mq=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!JO.get(i))&&!r){JO.set(e,!0);for(var a=[],o=pq(t,a),c=i.props,f=0,p=0;f<o.length;f++)for(var m=0;m<c.length;m++,p++)e.props[p]=a[f]?o[f].replace(/&\f/g,c[m]):c[m]+" "+o[f]}}},gq=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function KU(n,e){switch(Z9(n,e)){case 5103:return jn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return jn+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return jn+n+T_+n+ya+n+n;case 6828:case 4268:return jn+n+ya+n+n;case 6165:return jn+n+ya+"flex-"+n+n;case 5187:return jn+n+Wn(n,/(\w+).+(:[^]+)/,jn+"box-$1$2"+ya+"flex-$1$2")+n;case 5443:return jn+n+ya+"flex-item-"+Wn(n,/flex-|-self/,"")+n;case 4675:return jn+n+ya+"flex-line-pack"+Wn(n,/align-content|flex-|-self/,"")+n;case 5548:return jn+n+ya+Wn(n,"shrink","negative")+n;case 5292:return jn+n+ya+Wn(n,"basis","preferred-size")+n;case 6060:return jn+"box-"+Wn(n,"-grow","")+jn+n+ya+Wn(n,"grow","positive")+n;case 4554:return jn+Wn(n,/([^-])(transform)/g,"$1"+jn+"$2")+n;case 6187:return Wn(Wn(Wn(n,/(zoom-|grab)/,jn+"$1"),/(image-set)/,jn+"$1"),n,"")+n;case 5495:case 3959:return Wn(n,/(image-set\([^]*)/,jn+"$1$`$1");case 4968:return Wn(Wn(n,/(.+:)(flex-)?(.*)/,jn+"box-pack:$3"+ya+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+jn+n+n;case 4095:case 3583:case 4068:case 2532:return Wn(n,/(.+)-inline(.+)/,jn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($l(n)-1-e>6)switch(Qr(n,e+1)){case 109:if(Qr(n,e+4)!==45)break;case 102:return Wn(n,/(.+:)(.+)-([^]+)/,"$1"+jn+"$2-$3$1"+T_+(Qr(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~rA(n,"stretch")?KU(Wn(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Qr(n,e+1)!==115)break;case 6444:switch(Qr(n,$l(n)-3-(~rA(n,"!important")&&10))){case 107:return Wn(n,":",":"+jn)+n;case 101:return Wn(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+jn+(Qr(n,14)===45?"inline-":"")+"box$3$1"+jn+"$2$3$1"+ya+"$2box$3")+n}break;case 5936:switch(Qr(n,e+11)){case 114:return jn+n+ya+Wn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return jn+n+ya+Wn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return jn+n+ya+Wn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return jn+n+ya+n+n}return n}var yq=function(e,t,i,r){if(e.length>-1&&!e.return)switch(e.type){case Pw:e.return=KU(e.value,e.length);break;case jU:return vm([Dy(e,{value:Wn(e.value,"@","@"+jn)})],r);case Nw:if(e.length)return eq(e.props,function(a){switch(J9(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return vm([Dy(e,{props:[Wn(a,/:(read-\w+)/,":"+T_+"$1")]})],r);case"::placeholder":return vm([Dy(e,{props:[Wn(a,/:(plac\w+)/,":"+jn+"input-$1")]}),Dy(e,{props:[Wn(a,/:(plac\w+)/,":"+T_+"$1")]}),Dy(e,{props:[Wn(a,/:(plac\w+)/,ya+"input-$1")]})],r)}return""})}},vq=[yq],bq=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(E){var M=E.getAttribute("data-emotion");M.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var r=e.stylisPlugins||vq,a={},o,c=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(E){for(var M=E.getAttribute("data-emotion").split(" "),x=1;x<M.length;x++)a[M[x]]=!0;c.push(E)});var f,p=[mq,gq];{var m,g=[cq,fq(function(E){m.insert(E)})],y=uq(p.concat(r,g)),b=function(M){return vm(oq(M),y)};f=function(M,x,D,A){m=D,b(M?M+"{"+x.styles+"}":x.styles),A&&(_.inserted[x.name]=!0)}}var _={key:t,sheet:new X9({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:f};return _.sheet.hydrate(c),_},lT={exports:{}},Jn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eD;function xq(){if(eD)return Jn;eD=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,r=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,o=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,m=n?Symbol.for("react.forward_ref"):60112,g=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.suspense_list"):60120,b=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116,E=n?Symbol.for("react.block"):60121,M=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,D=n?Symbol.for("react.scope"):60119;function A(O){if(typeof O=="object"&&O!==null){var N=O.$$typeof;switch(N){case e:switch(O=O.type,O){case f:case p:case i:case a:case r:case g:return O;default:switch(O=O&&O.$$typeof,O){case c:case m:case _:case b:case o:return O;default:return N}}case t:return N}}}function T(O){return A(O)===p}return Jn.AsyncMode=f,Jn.ConcurrentMode=p,Jn.ContextConsumer=c,Jn.ContextProvider=o,Jn.Element=e,Jn.ForwardRef=m,Jn.Fragment=i,Jn.Lazy=_,Jn.Memo=b,Jn.Portal=t,Jn.Profiler=a,Jn.StrictMode=r,Jn.Suspense=g,Jn.isAsyncMode=function(O){return T(O)||A(O)===f},Jn.isConcurrentMode=T,Jn.isContextConsumer=function(O){return A(O)===c},Jn.isContextProvider=function(O){return A(O)===o},Jn.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},Jn.isForwardRef=function(O){return A(O)===m},Jn.isFragment=function(O){return A(O)===i},Jn.isLazy=function(O){return A(O)===_},Jn.isMemo=function(O){return A(O)===b},Jn.isPortal=function(O){return A(O)===t},Jn.isProfiler=function(O){return A(O)===a},Jn.isStrictMode=function(O){return A(O)===r},Jn.isSuspense=function(O){return A(O)===g},Jn.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===i||O===p||O===a||O===r||O===g||O===y||typeof O=="object"&&O!==null&&(O.$$typeof===_||O.$$typeof===b||O.$$typeof===o||O.$$typeof===c||O.$$typeof===m||O.$$typeof===M||O.$$typeof===x||O.$$typeof===D||O.$$typeof===E)},Jn.typeOf=A,Jn}var tD;function Sq(){return tD||(tD=1,lT.exports=xq()),lT.exports}var cT,nD;function _q(){if(nD)return cT;nD=1;var n=Sq(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=i,a[n.Memo]=r;function o(_){return n.isMemo(_)?r:a[_.$$typeof]||e}var c=Object.defineProperty,f=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,y=Object.prototype;function b(_,E,M){if(typeof E!="string"){if(y){var x=g(E);x&&x!==y&&b(_,x,M)}var D=f(E);p&&(D=D.concat(p(E)));for(var A=o(_),T=o(E),O=0;O<D.length;++O){var N=D[O];if(!t[N]&&!(M&&M[N])&&!(T&&T[N])&&!(A&&A[N])){var z=m(E,N);try{c(_,N,z)}catch{}}}}return _}return cT=b,cT}_q();var Mq=!0;function ZU(n,e,t){var i="";return t.split(" ").forEach(function(r){n[r]!==void 0?e.push(n[r]+";"):r&&(i+=r+" ")}),i}var Lw=function(e,t,i){var r=e.key+"-"+t.name;(i===!1||Mq===!1)&&e.registered[r]===void 0&&(e.registered[r]=t.styles)},Iw=function(e,t,i){Lw(e,t,i);var r=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var a=t;do e.insert(t===a?"."+r:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function Eq(n){for(var e=0,t,i=0,r=n.length;r>=4;++i,r-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Tq={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Aq=/[A-Z]|^ms/g,wq=/_EMO_([^_]+?)_([^]*?)_EMO_/g,JU=function(e){return e.charCodeAt(1)===45},iD=function(e){return e!=null&&typeof e!="boolean"},uT=QU(function(n){return JU(n)?n:n.replace(Aq,"-$&").toLowerCase()}),rD=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(wq,function(i,r,a){return Ql={name:r,styles:a,next:Ql},r})}return Tq[e]!==1&&!JU(e)&&typeof t=="number"&&t!==0?t+"px":t};function Bv(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var r=t;if(r.anim===1)return Ql={name:r.name,styles:r.styles,next:Ql},r.name;var a=t;if(a.styles!==void 0){var o=a.next;if(o!==void 0)for(;o!==void 0;)Ql={name:o.name,styles:o.styles,next:Ql},o=o.next;var c=a.styles+";";return c}return Cq(n,e,t)}case"function":{if(n!==void 0){var f=Ql,p=t(n);return Ql=f,Bv(n,e,p)}break}}var m=t;if(e==null)return m;var g=e[m];return g!==void 0?g:m}function Cq(n,e,t){var i="";if(Array.isArray(t))for(var r=0;r<t.length;r++)i+=Bv(n,e,t[r])+";";else for(var a in t){var o=t[a];if(typeof o!="object"){var c=o;e!=null&&e[c]!==void 0?i+=a+"{"+e[c]+"}":iD(c)&&(i+=uT(a)+":"+rD(a,c)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var f=0;f<o.length;f++)iD(o[f])&&(i+=uT(a)+":"+rD(a,o[f])+";");else{var p=Bv(n,e,o);switch(a){case"animation":case"animationName":{i+=uT(a)+":"+p+";";break}default:i+=a+"{"+p+"}"}}}return i}var aD=/label:\s*([^\s;{]+)\s*(;|$)/g,Ql;function f0(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,r="";Ql=void 0;var a=n[0];if(a==null||a.raw===void 0)i=!1,r+=Bv(t,e,a);else{var o=a;r+=o[0]}for(var c=1;c<n.length;c++)if(r+=Bv(t,e,n[c]),i){var f=a;r+=f[c]}aD.lastIndex=0;for(var p="",m;(m=aD.exec(r))!==null;)p+="-"+m[1];var g=Eq(r)+p;return{name:g,styles:r,next:Ql}}var Rq=function(e){return e()},eL=wT.useInsertionEffect?wT.useInsertionEffect:!1,tL=eL||Rq,sD=eL||K.useLayoutEffect,nL=K.createContext(typeof HTMLElement<"u"?bq({key:"css"}):null);nL.Provider;var zw=function(e){return K.forwardRef(function(t,i){var r=K.useContext(nL);return e(t,r,i)})},I1=K.createContext({}),Bw={}.hasOwnProperty,sA="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Oq=function(e,t){var i={};for(var r in t)Bw.call(t,r)&&(i[r]=t[r]);return i[sA]=e,i},Dq=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return Lw(t,i,r),tL(function(){return Iw(t,i,r)}),null},Nq=zw(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=n[sA],a=[i],o="";typeof n.className=="string"?o=ZU(e.registered,a,n.className):n.className!=null&&(o=n.className+" ");var c=f0(a,void 0,K.useContext(I1));o+=e.key+"-"+c.name;var f={};for(var p in n)Bw.call(n,p)&&p!=="css"&&p!==sA&&(f[p]=n[p]);return f.className=o,t&&(f.ref=t),K.createElement(K.Fragment,null,K.createElement(Dq,{cache:e,serialized:c,isStringTag:typeof r=="string"}),K.createElement(r,f))}),Pq=Nq,oD=function(e,t){var i=arguments;if(t==null||!Bw.call(t,"css"))return K.createElement.apply(void 0,i);var r=i.length,a=new Array(r);a[0]=Pq,a[1]=Oq(e,t);for(var o=2;o<r;o++)a[o]=i[o];return K.createElement.apply(null,a)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(oD||(oD={}));var Uq=zw(function(n,e){var t=n.styles,i=f0([t],void 0,K.useContext(I1)),r=K.useRef();return sD(function(){var a=e.key+"-global",o=new e.sheet.constructor({key:a,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),c=!1,f=document.querySelector('style[data-emotion="'+a+" "+i.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),f!==null&&(c=!0,f.setAttribute("data-emotion",a),o.hydrate([f])),r.current=[o,c],function(){o.flush()}},[e]),sD(function(){var a=r.current,o=a[0],c=a[1];if(c){a[1]=!1;return}if(i.next!==void 0&&Iw(e,i.next,!0),o.tags.length){var f=o.tags[o.tags.length-1].nextElementSibling;o.before=f,o.flush()}e.insert("",i,o,!1)},[e,i.name]),null});function Fw(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return f0(e)}function d0(){var n=Fw.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var Lq=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Iq=QU(function(n){return Lq.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),zq=Iq,Bq=function(e){return e!=="theme"},lD=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?zq:Bq},cD=function(e,t,i){var r;if(t){var a=t.shouldForwardProp;r=e.__emotion_forwardProp&&a?function(o){return e.__emotion_forwardProp(o)&&a(o)}:a}return typeof r!="function"&&i&&(r=e.__emotion_forwardProp),r},Fq=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return Lw(t,i,r),tL(function(){return Iw(t,i,r)}),null},Hq=function n(e,t){var i=e.__emotion_real===e,r=i&&e.__emotion_base||e,a,o;t!==void 0&&(a=t.label,o=t.target);var c=cD(e,t,i),f=c||lD(r),p=!f("as");return function(){var m=arguments,g=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&g.push("label:"+a+";"),m[0]==null||m[0].raw===void 0)g.push.apply(g,m);else{var y=m[0];g.push(y[0]);for(var b=m.length,_=1;_<b;_++)g.push(m[_],y[_])}var E=zw(function(M,x,D){var A=p&&M.as||r,T="",O=[],N=M;if(M.theme==null){N={};for(var z in M)N[z]=M[z];N.theme=K.useContext(I1)}typeof M.className=="string"?T=ZU(x.registered,O,M.className):M.className!=null&&(T=M.className+" ");var F=f0(g.concat(O),x.registered,N);T+=x.key+"-"+F.name,o!==void 0&&(T+=" "+o);var P=p&&c===void 0?lD(A):f,w={};for(var L in M)p&&L==="as"||P(L)&&(w[L]=M[L]);return w.className=T,D&&(w.ref=D),K.createElement(K.Fragment,null,K.createElement(Fq,{cache:x,serialized:F,isStringTag:typeof A=="string"}),K.createElement(A,w))});return E.displayName=a!==void 0?a:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",E.defaultProps=e.defaultProps,E.__emotion_real=E,E.__emotion_base=r,E.__emotion_styles=g,E.__emotion_forwardProp=c,Object.defineProperty(E,"toString",{value:function(){return"."+o}}),E.withComponent=function(M,x){var D=n(M,gh({},t,x,{shouldForwardProp:cD(E,x,!0)}));return D.apply(void 0,g)},E}},Vq=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],oA=Hq.bind(null);Vq.forEach(function(n){oA[n]=oA(n)});function kq(n){return n==null||Object.keys(n).length===0}function Gq(n){const{styles:e,defaultTheme:t={}}=n,i=typeof e=="function"?r=>e(kq(r)?t:r):e;return pe.jsx(Uq,{styles:i})}function iL(n,e){return oA(n,e)}function qq(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const uD=[];function fD(n){return uD[0]=n,f0(uD)}var fT={exports:{}},fi={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dD;function jq(){if(dD)return fi;dD=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function _(E){if(typeof E=="object"&&E!==null){var M=E.$$typeof;switch(M){case n:switch(E=E.type,E){case t:case r:case i:case f:case p:case y:return E;default:switch(E=E&&E.$$typeof,E){case o:case c:case g:case m:return E;case a:return E;default:return M}}case e:return M}}}return fi.ContextConsumer=a,fi.ContextProvider=o,fi.Element=n,fi.ForwardRef=c,fi.Fragment=t,fi.Lazy=g,fi.Memo=m,fi.Portal=e,fi.Profiler=r,fi.StrictMode=i,fi.Suspense=f,fi.SuspenseList=p,fi.isContextConsumer=function(E){return _(E)===a},fi.isContextProvider=function(E){return _(E)===o},fi.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===n},fi.isForwardRef=function(E){return _(E)===c},fi.isFragment=function(E){return _(E)===t},fi.isLazy=function(E){return _(E)===g},fi.isMemo=function(E){return _(E)===m},fi.isPortal=function(E){return _(E)===e},fi.isProfiler=function(E){return _(E)===r},fi.isStrictMode=function(E){return _(E)===i},fi.isSuspense=function(E){return _(E)===f},fi.isSuspenseList=function(E){return _(E)===p},fi.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===t||E===r||E===i||E===f||E===p||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===m||E.$$typeof===o||E.$$typeof===a||E.$$typeof===c||E.$$typeof===b||E.getModuleId!==void 0)},fi.typeOf=_,fi}var hD;function Wq(){return hD||(hD=1,fT.exports=jq()),fT.exports}var rL=Wq();function Kl(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function aL(n){if(K.isValidElement(n)||rL.isValidElementType(n)||!Kl(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=aL(n[t])}),e}function _a(n,e,t={clone:!0}){const i=t.clone?{...n}:n;return Kl(n)&&Kl(e)&&Object.keys(e).forEach(r=>{K.isValidElement(e[r])||rL.isValidElementType(e[r])?i[r]=e[r]:Kl(e[r])&&Object.prototype.hasOwnProperty.call(n,r)&&Kl(n[r])?i[r]=_a(n[r],e[r],t):t.clone?i[r]=Kl(e[r])?aL(e[r]):e[r]:i[r]=e[r]}),i}const Xq=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>({...t,[i.key]:i.val}),{})};function Yq(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5,...r}=n,a=Xq(e),o=Object.keys(a);function c(y){return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${t})`}function f(y){return`@media (max-width:${(typeof e[y]=="number"?e[y]:y)-i/100}${t})`}function p(y,b){const _=o.indexOf(b);return`@media (min-width:${typeof e[y]=="number"?e[y]:y}${t}) and (max-width:${(_!==-1&&typeof e[o[_]]=="number"?e[o[_]]:b)-i/100}${t})`}function m(y){return o.indexOf(y)+1<o.length?p(y,o[o.indexOf(y)+1]):c(y)}function g(y){const b=o.indexOf(y);return b===0?c(o[1]):b===o.length-1?f(o[b]):p(y,o[o.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:o,values:a,up:c,down:f,between:p,only:m,not:g,unit:t,...r}}function $q(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,r)=>{var o,c;const a=/min-width:\s*([0-9.]+)/;return+(((o=i.match(a))==null?void 0:o[1])||0)-+(((c=r.match(a))==null?void 0:c[1])||0)});return t.length?t.reduce((i,r)=>{const a=e[r];return delete i[r],i[r]=a,i},{...e}):e}function Qq(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function Kq(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,i,r]=t,a=Number.isNaN(+i)?i||0:+i;return n.containerQueries(r).up(a)}function Zq(n){const e=(a,o)=>a.replace("@media",o?`@container ${o}`:"@container");function t(a,o){a.up=(...c)=>e(n.breakpoints.up(...c),o),a.down=(...c)=>e(n.breakpoints.down(...c),o),a.between=(...c)=>e(n.breakpoints.between(...c),o),a.only=(...c)=>e(n.breakpoints.only(...c),o),a.not=(...c)=>{const f=e(n.breakpoints.not(...c),o);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const i={},r=a=>(t(i,a),i);return t(r),{...n,containerQueries:r}}const Jq={borderRadius:4};function sv(n,e){return e?_a(n,e,{clone:!1}):n}const z1={xs:0,sm:600,md:900,lg:1200,xl:1536},pD={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${z1[n]}px)`},ej={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:z1[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function au(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const a=i.breakpoints||pD;return e.reduce((o,c,f)=>(o[a.up(a.keys[f])]=t(e[f]),o),{})}if(typeof e=="object"){const a=i.breakpoints||pD;return Object.keys(e).reduce((o,c)=>{if(Qq(a.keys,c)){const f=Kq(i.containerQueries?i:ej,c);f&&(o[f]=t(e[c],c))}else if(Object.keys(a.values||z1).includes(c)){const f=a.up(c);o[f]=t(e[c],c)}else{const f=c;o[f]=e[f]}return o},{})}return t(e)}function tj(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((i,r)=>{const a=n.up(r);return i[a]={},i},{}))||{}}function nj(n,e){return n.reduce((t,i)=>{const r=t[i];return(!r||Object.keys(r).length===0)&&delete t[i],t},e)}function ht(n){if(typeof n!="string")throw new Error(ru(7));return n.charAt(0).toUpperCase()+n.slice(1)}function B1(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((r,a)=>r&&r[a]?r[a]:null,n);if(i!=null)return i}return e.split(".").reduce((i,r)=>i&&i[r]!=null?i[r]:null,n)}function A_(n,e,t,i=t){let r;return typeof n=="function"?r=n(t):Array.isArray(n)?r=n[t]||i:r=B1(n,t)||i,e&&(r=e(r,i,n)),r}function tr(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:r}=n,a=o=>{if(o[e]==null)return null;const c=o[e],f=o.theme,p=B1(f,i)||{};return au(o,c,g=>{let y=A_(p,r,g);return g===y&&typeof g=="string"&&(y=A_(p,r,`${e}${g==="default"?"":ht(g)}`,g)),t===!1?y:{[t]:y}})};return a.propTypes={},a.filterProps=[e],a}function ij(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const rj={m:"margin",p:"padding"},aj={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},mD={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},sj=ij(n=>{if(n.length>2)if(mD[n])n=mD[n];else return[n];const[e,t]=n.split(""),i=rj[e],r=aj[t]||"";return Array.isArray(r)?r.map(a=>i+a):[i+r]}),Hw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Vw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Hw,...Vw];function h0(n,e,t,i){const r=B1(n,e,!0)??t;return typeof r=="number"||typeof r=="string"?a=>typeof a=="string"?a:typeof r=="string"?r.startsWith("var(")&&a===0?0:r.startsWith("var(")&&a===1?r:`calc(${a} * ${r})`:r*a:Array.isArray(r)?a=>{if(typeof a=="string")return a;const o=Math.abs(a),c=r[o];return a>=0?c:typeof c=="number"?-c:typeof c=="string"&&c.startsWith("var(")?`calc(-1 * ${c})`:`-${c}`}:typeof r=="function"?r:()=>{}}function kw(n){return h0(n,"spacing",8)}function p0(n,e){return typeof e=="string"||e==null?e:n(e)}function oj(n,e){return t=>n.reduce((i,r)=>(i[r]=p0(e,t),i),{})}function lj(n,e,t,i){if(!e.includes(t))return null;const r=sj(t),a=oj(r,i),o=n[t];return au(n,o,a)}function sL(n,e){const t=kw(n.theme);return Object.keys(n).map(i=>lj(n,e,i,t)).reduce(sv,{})}function Gi(n){return sL(n,Hw)}Gi.propTypes={};Gi.filterProps=Hw;function qi(n){return sL(n,Vw)}qi.propTypes={};qi.filterProps=Vw;function oL(n=8,e=kw({spacing:n})){if(n.mui)return n;const t=(...i)=>(i.length===0?[1]:i).map(a=>{const o=e(a);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}function F1(...n){const e=n.reduce((i,r)=>(r.filterProps.forEach(a=>{i[a]=r}),i),{}),t=i=>Object.keys(i).reduce((r,a)=>e[a]?sv(r,e[a](i)):r,{});return t.propTypes={},t.filterProps=n.reduce((i,r)=>i.concat(r.filterProps),[]),t}function go(n){return typeof n!="number"?n:`${n}px solid`}function To(n,e){return tr({prop:n,themeKey:"borders",transform:e})}const cj=To("border",go),uj=To("borderTop",go),fj=To("borderRight",go),dj=To("borderBottom",go),hj=To("borderLeft",go),pj=To("borderColor"),mj=To("borderTopColor"),gj=To("borderRightColor"),yj=To("borderBottomColor"),vj=To("borderLeftColor"),bj=To("outline",go),xj=To("outlineColor"),H1=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=h0(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:p0(e,i)});return au(n,n.borderRadius,t)}return null};H1.propTypes={};H1.filterProps=["borderRadius"];F1(cj,uj,fj,dj,hj,pj,mj,gj,yj,vj,H1,bj,xj);const V1=n=>{if(n.gap!==void 0&&n.gap!==null){const e=h0(n.theme,"spacing",8),t=i=>({gap:p0(e,i)});return au(n,n.gap,t)}return null};V1.propTypes={};V1.filterProps=["gap"];const k1=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=h0(n.theme,"spacing",8),t=i=>({columnGap:p0(e,i)});return au(n,n.columnGap,t)}return null};k1.propTypes={};k1.filterProps=["columnGap"];const G1=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=h0(n.theme,"spacing",8),t=i=>({rowGap:p0(e,i)});return au(n,n.rowGap,t)}return null};G1.propTypes={};G1.filterProps=["rowGap"];const Sj=tr({prop:"gridColumn"}),_j=tr({prop:"gridRow"}),Mj=tr({prop:"gridAutoFlow"}),Ej=tr({prop:"gridAutoColumns"}),Tj=tr({prop:"gridAutoRows"}),Aj=tr({prop:"gridTemplateColumns"}),wj=tr({prop:"gridTemplateRows"}),Cj=tr({prop:"gridTemplateAreas"}),Rj=tr({prop:"gridArea"});F1(V1,k1,G1,Sj,_j,Mj,Ej,Tj,Aj,wj,Cj,Rj);function bm(n,e){return e==="grey"?e:n}const Oj=tr({prop:"color",themeKey:"palette",transform:bm}),Dj=tr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:bm}),Nj=tr({prop:"backgroundColor",themeKey:"palette",transform:bm});F1(Oj,Dj,Nj);function Ps(n){return n<=1&&n!==0?`${n*100}%`:n}const Pj=tr({prop:"width",transform:Ps}),Gw=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var r,a,o,c,f;const i=((o=(a=(r=n.theme)==null?void 0:r.breakpoints)==null?void 0:a.values)==null?void 0:o[t])||z1[t];return i?((f=(c=n.theme)==null?void 0:c.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Ps(t)}};return au(n,n.maxWidth,e)}return null};Gw.filterProps=["maxWidth"];const Uj=tr({prop:"minWidth",transform:Ps}),Lj=tr({prop:"height",transform:Ps}),Ij=tr({prop:"maxHeight",transform:Ps}),zj=tr({prop:"minHeight",transform:Ps});tr({prop:"size",cssProperty:"width",transform:Ps});tr({prop:"size",cssProperty:"height",transform:Ps});const Bj=tr({prop:"boxSizing"});F1(Pj,Gw,Uj,Lj,Ij,zj,Bj);const m0={border:{themeKey:"borders",transform:go},borderTop:{themeKey:"borders",transform:go},borderRight:{themeKey:"borders",transform:go},borderBottom:{themeKey:"borders",transform:go},borderLeft:{themeKey:"borders",transform:go},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:go},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:H1},color:{themeKey:"palette",transform:bm},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:bm},backgroundColor:{themeKey:"palette",transform:bm},p:{style:qi},pt:{style:qi},pr:{style:qi},pb:{style:qi},pl:{style:qi},px:{style:qi},py:{style:qi},padding:{style:qi},paddingTop:{style:qi},paddingRight:{style:qi},paddingBottom:{style:qi},paddingLeft:{style:qi},paddingX:{style:qi},paddingY:{style:qi},paddingInline:{style:qi},paddingInlineStart:{style:qi},paddingInlineEnd:{style:qi},paddingBlock:{style:qi},paddingBlockStart:{style:qi},paddingBlockEnd:{style:qi},m:{style:Gi},mt:{style:Gi},mr:{style:Gi},mb:{style:Gi},ml:{style:Gi},mx:{style:Gi},my:{style:Gi},margin:{style:Gi},marginTop:{style:Gi},marginRight:{style:Gi},marginBottom:{style:Gi},marginLeft:{style:Gi},marginX:{style:Gi},marginY:{style:Gi},marginInline:{style:Gi},marginInlineStart:{style:Gi},marginInlineEnd:{style:Gi},marginBlock:{style:Gi},marginBlockStart:{style:Gi},marginBlockEnd:{style:Gi},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:V1},rowGap:{style:G1},columnGap:{style:k1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ps},maxWidth:{style:Gw},minWidth:{transform:Ps},height:{transform:Ps},maxHeight:{transform:Ps},minHeight:{transform:Ps},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Fj(...n){const e=n.reduce((i,r)=>i.concat(Object.keys(r)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function Hj(n,e){return typeof n=="function"?n(e):n}function Vj(){function n(t,i,r,a){const o={[t]:i,theme:r},c=a[t];if(!c)return{[t]:i};const{cssProperty:f=t,themeKey:p,transform:m,style:g}=c;if(i==null)return null;if(p==="typography"&&i==="inherit")return{[t]:i};const y=B1(r,p)||{};return g?g(o):au(o,i,_=>{let E=A_(y,m,_);return _===E&&typeof _=="string"&&(E=A_(y,m,`${t}${_==="default"?"":ht(_)}`,_)),f===!1?E:{[f]:E}})}function e(t){const{sx:i,theme:r={}}=t||{};if(!i)return null;const a=r.unstable_sxConfig??m0;function o(c){let f=c;if(typeof c=="function")f=c(r);else if(typeof c!="object")return c;if(!f)return null;const p=tj(r.breakpoints),m=Object.keys(p);let g=p;return Object.keys(f).forEach(y=>{const b=Hj(f[y],r);if(b!=null)if(typeof b=="object")if(a[y])g=sv(g,n(y,b,r,a));else{const _=au({theme:r},b,E=>({[y]:E}));Fj(_,b)?g[y]=e({sx:b,theme:r}):g=sv(g,_)}else g=sv(g,n(y,b,r,a))}),$q(r,nj(m,g))}return Array.isArray(i)?i.map(o):o(i)}return e}const yh=Vj();yh.filterProps=["sx"];function kj(n,e){var i;const t=this;if(t.vars){if(!((i=t.colorSchemes)!=null&&i[n])||typeof t.getColorSchemeSelector!="function")return{};let r=t.getColorSchemeSelector(n);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return t.palette.mode===n?e:{}}function qw(n={},...e){const{breakpoints:t={},palette:i={},spacing:r,shape:a={},...o}=n,c=Yq(t),f=oL(r);let p=_a({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:f,shape:{...Jq,...a}},o);return p=Zq(p),p.applyStyles=kj,p=e.reduce((m,g)=>_a(m,g),p),p.unstable_sxConfig={...m0,...o==null?void 0:o.unstable_sxConfig},p.unstable_sx=function(g){return yh({sx:g,theme:this})},p}function Gj(n){return Object.keys(n).length===0}function qj(n=null){const e=K.useContext(I1);return!e||Gj(e)?n:e}const jj=qw();function jw(n=jj){return qj(n)}function Wj({styles:n,themeId:e,defaultTheme:t={}}){const i=jw(t),r=typeof n=="function"?n(e&&i[e]||i):n;return pe.jsx(Gq,{styles:r})}const Xj=n=>{var i;const e={systemProps:{},otherProps:{}},t=((i=n==null?void 0:n.theme)==null?void 0:i.unstable_sxConfig)??m0;return Object.keys(n).forEach(r=>{t[r]?e.systemProps[r]=n[r]:e.otherProps[r]=n[r]}),e};function lL(n){const{sx:e,...t}=n,{systemProps:i,otherProps:r}=Xj(t);let a;return Array.isArray(e)?a=[i,...e]:typeof e=="function"?a=(...o)=>{const c=e(...o);return Kl(c)?{...i,...c}:i}:a={...i,...e},{...r,sx:a}}const gD=n=>n,Yj=()=>{let n=gD;return{configure(e){n=e},generate(e){return n(e)},reset(){n=gD}}},cL=Yj();function uL(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=uL(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Lt(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=uL(n))&&(i&&(i+=" "),i+=e);return i}function $j(n={}){const{themeId:e,defaultTheme:t,defaultClassName:i="MuiBox-root",generateClassName:r}=n,a=iL("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(yh);return K.forwardRef(function(f,p){const m=jw(t),{className:g,component:y="div",...b}=lL(f);return pe.jsx(a,{as:y,ref:p,className:Lt(g,r?r(i):i),theme:e&&m[e]||m,...b})})}const Qj={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function En(n,e,t="Mui"){const i=Qj[e];return i?`${t}-${i}`:`${cL.generate(n)}-${e}`}function hn(n,e,t="Mui"){const i={};return e.forEach(r=>{i[r]=En(n,r,t)}),i}function fL(n){const{variants:e,...t}=n,i={variants:e,style:fD(t),isProcessed:!0};return i.style===t||e&&e.forEach(r=>{typeof r.style!="function"&&(r.style=fD(r.style))}),i}const Kj=qw();function dT(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function Zj(n){return n?(e,t)=>t[n]:null}function Jj(n,e,t){n.theme=nW(n.theme)?t:n.theme[e]||n.theme}function ES(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(i=>ES(n,i));if(Array.isArray(t==null?void 0:t.variants)){let i;if(t.isProcessed)i=t.style;else{const{variants:r,...a}=t;i=a}return dL(n,t.variants,[i])}return t!=null&&t.isProcessed?t.style:t}function dL(n,e,t=[]){var r;let i;e:for(let a=0;a<e.length;a+=1){const o=e[a];if(typeof o.props=="function"){if(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),!o.props(i))continue}else for(const c in o.props)if(n[c]!==o.props[c]&&((r=n.ownerState)==null?void 0:r[c])!==o.props[c])continue e;typeof o.style=="function"?(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),t.push(o.style(i))):t.push(o.style)}return t}function eW(n={}){const{themeId:e,defaultTheme:t=Kj,rootShouldForwardProp:i=dT,slotShouldForwardProp:r=dT}=n;function a(c){Jj(c,e,t)}return(c,f={})=>{qq(c,O=>O.filter(N=>N!==yh));const{name:p,slot:m,skipVariantsResolver:g,skipSx:y,overridesResolver:b=Zj(rW(m)),..._}=f,E=g!==void 0?g:m&&m!=="Root"&&m!=="root"||!1,M=y||!1;let x=dT;m==="Root"||m==="root"?x=i:m?x=r:iW(c)&&(x=void 0);const D=iL(c,{shouldForwardProp:x,label:tW(),..._}),A=O=>{if(typeof O=="function"&&O.__emotion_real!==O)return function(z){return ES(z,O)};if(Kl(O)){const N=fL(O);return N.variants?function(F){return ES(F,N)}:N.style}return O},T=(...O)=>{const N=[],z=O.map(A),F=[];if(N.push(a),p&&b&&F.push(function(H){var B,j;const G=(j=(B=H.theme.components)==null?void 0:B[p])==null?void 0:j.styleOverrides;if(!G)return null;const $={};for(const q in G)$[q]=ES(H,G[q]);return b(H,$)}),p&&!E&&F.push(function(H){var $,B;const V=H.theme,G=(B=($=V==null?void 0:V.components)==null?void 0:$[p])==null?void 0:B.variants;return G?dL(H,G):null}),M||F.push(yh),Array.isArray(z[0])){const L=z.shift(),H=new Array(N.length).fill(""),V=new Array(F.length).fill("");let G;G=[...H,...L,...V],G.raw=[...H,...L.raw,...V],N.unshift(G)}const P=[...N,...z,...F],w=D(...P);return c.muiName&&(w.muiName=c.muiName),w};return D.withConfig&&(T.withConfig=D.withConfig),T}}function tW(n,e){return void 0}function nW(n){for(const e in n)return!1;return!0}function iW(n){return typeof n=="string"&&n.charCodeAt(0)>96}function rW(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function w_(n,e){const t={...e};for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const r=i;if(r==="components"||r==="slots")t[r]={...n[r],...t[r]};else if(r==="componentsProps"||r==="slotProps"){const a=n[r],o=e[r];if(!o)t[r]=a||{};else if(!a)t[r]=o;else{t[r]={...o};for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const f=c;t[r][f]=w_(a[f],o[f])}}}else t[r]===void 0&&(t[r]=n[r])}return t}const sc=typeof window<"u"?K.useLayoutEffect:K.useEffect;function aW(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function Ww(n,e=0,t=1){return aW(n,e,t)}function sW(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,r)=>r<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function Sf(n){if(n.type)return n;if(n.charAt(0)==="#")return Sf(sW(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(ru(9,n));let i=n.substring(e+1,n.length-1),r;if(t==="color"){if(i=i.split(" "),r=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(ru(10,r))}else i=i.split(",");return i=i.map(a=>parseFloat(a)),{type:t,values:i,colorSpace:r}}const oW=n=>{const e=Sf(n);return e.values.slice(0,3).map((t,i)=>e.type.includes("hsl")&&i!==0?`${t}%`:t).join(" ")},ky=(n,e)=>{try{return oW(n)}catch{return n}};function q1(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.includes("rgb")?i=i.map((r,a)=>a<3?parseInt(r,10):r):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function hL(n){n=Sf(n);const{values:e}=n,t=e[0],i=e[1]/100,r=e[2]/100,a=i*Math.min(r,1-r),o=(p,m=(p+t/30)%12)=>r-a*Math.max(Math.min(m-3,9-m,1),-1);let c="rgb";const f=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(c+="a",f.push(e[3])),q1({type:c,values:f})}function lA(n){n=Sf(n);let e=n.type==="hsl"||n.type==="hsla"?Sf(hL(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function lW(n,e){const t=lA(n),i=lA(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function yi(n,e){return n=Sf(n),e=Ww(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,q1(n)}function Zx(n,e,t){try{return yi(n,e)}catch{return n}}function Xw(n,e){if(n=Sf(n),e=Ww(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return q1(n)}function mi(n,e,t){try{return Xw(n,e)}catch{return n}}function Yw(n,e){if(n=Sf(n),e=Ww(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return q1(n)}function gi(n,e,t){try{return Yw(n,e)}catch{return n}}function cW(n,e=.15){return lA(n)>.5?Xw(n,e):Yw(n,e)}function Jx(n,e,t){try{return cW(n,e)}catch{return n}}const uW=K.createContext(),$w=()=>K.useContext(uW)??!1,fW=K.createContext(void 0);function dW(n){const{theme:e,name:t,props:i}=n;if(!e||!e.components||!e.components[t])return i;const r=e.components[t];return r.defaultProps?w_(r.defaultProps,i):!r.styleOverrides&&!r.variants?w_(r,i):i}function hW({props:n,name:e}){const t=K.useContext(fW);return dW({props:n,name:e,theme:{components:t}})}const yD={theme:void 0};function pW(n){let e,t;return function(r){let a=e;return(a===void 0||r.theme!==t)&&(yD.theme=r.theme,a=fL(n(yD)),e=a,t=r.theme),a}}function mW(n=""){function e(...i){if(!i.length)return"";const r=i[0];return typeof r=="string"&&!r.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${r}${e(...i.slice(1))})`:`, ${r}`}return(i,...r)=>`var(--${n?`${n}-`:""}${i}${e(...r)})`}const vD=(n,e,t,i=[])=>{let r=n;e.forEach((a,o)=>{o===e.length-1?Array.isArray(r)?r[Number(a)]=t:r&&typeof r=="object"&&(r[a]=t):r&&typeof r=="object"&&(r[a]||(r[a]=i.includes(a)?[]:{}),r=r[a])})},gW=(n,e,t)=>{function i(r,a=[],o=[]){Object.entries(r).forEach(([c,f])=>{(!t||t&&!t([...a,c]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?i(f,[...a,c],Array.isArray(f)?[...o,c]:o):e([...a,c],f,o))})}i(n)},yW=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function hT(n,e){const{prefix:t,shouldSkipGeneratingVar:i}=e||{},r={},a={},o={};return gW(n,(c,f,p)=>{if((typeof f=="string"||typeof f=="number")&&(!i||!i(c,f))){const m=`--${t?`${t}-`:""}${c.join("-")}`,g=yW(c,f);Object.assign(r,{[m]:g}),vD(a,c,`var(${m})`,p),vD(o,c,`var(${m}, ${g})`,p)}},c=>c[0]==="vars"),{css:r,vars:a,varsWithDefaults:o}}function vW(n,e={}){const{getSelector:t=M,disableCssColorScheme:i,colorSchemeSelector:r}=e,{colorSchemes:a={},components:o,defaultColorScheme:c="light",...f}=n,{vars:p,css:m,varsWithDefaults:g}=hT(f,e);let y=g;const b={},{[c]:_,...E}=a;if(Object.entries(E||{}).forEach(([A,T])=>{const{vars:O,css:N,varsWithDefaults:z}=hT(T,e);y=_a(y,z),b[A]={css:N,vars:O}}),_){const{css:A,vars:T,varsWithDefaults:O}=hT(_,e);y=_a(y,O),b[c]={css:A,vars:T}}function M(A,T){var N,z;let O=r;if(r==="class"&&(O=".%s"),r==="data"&&(O="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(O=`[${r}="%s"]`),A){if(O==="media")return n.defaultColorScheme===A?":root":{[`@media (prefers-color-scheme: ${((z=(N=a[A])==null?void 0:N.palette)==null?void 0:z.mode)||A})`]:{":root":T}};if(O)return n.defaultColorScheme===A?`:root, ${O.replace("%s",String(A))}`:O.replace("%s",String(A))}return":root"}return{vars:y,generateThemeVars:()=>{let A={...p};return Object.entries(b).forEach(([,{vars:T}])=>{A=_a(A,T)}),A},generateStyleSheets:()=>{var F,P;const A=[],T=n.defaultColorScheme||"light";function O(w,L){Object.keys(L).length&&A.push(typeof w=="string"?{[w]:{...L}}:w)}O(t(void 0,{...m}),m);const{[T]:N,...z}=b;if(N){const{css:w}=N,L=(P=(F=a[T])==null?void 0:F.palette)==null?void 0:P.mode,H=!i&&L?{colorScheme:L,...w}:{...w};O(t(T,{...H}),H)}return Object.entries(z).forEach(([w,{css:L}])=>{var G,$;const H=($=(G=a[w])==null?void 0:G.palette)==null?void 0:$.mode,V=!i&&H?{colorScheme:H,...L}:{...L};O(t(w,{...V}),V)}),A}}}function bW(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function Tn(n,e,t=void 0){const i={};for(const r in n){const a=n[r];let o="",c=!0;for(let f=0;f<a.length;f+=1){const p=a[f];p&&(o+=(c===!0?"":" ")+e(p),c=!1,t&&t[p]&&(o+=" "+t[p]))}i[r]=o}return i}function TS(n,e){var t,i,r;return K.isValidElement(n)&&e.indexOf(n.type.muiName??((r=(i=(t=n.type)==null?void 0:t._payload)==null?void 0:i.value)==null?void 0:r.muiName))!==-1}function pL(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Lv.white,default:Lv.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const xW=pL();function mL(){return{text:{primary:Lv.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Lv.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const bD=mL();function xD(n,e,t,i){const r=i.light||i,a=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Yw(n.main,r):e==="dark"&&(n.dark=Xw(n.main,a)))}function SW(n="light"){return n==="dark"?{main:em[200],light:em[50],dark:em[400]}:{main:em[700],light:em[400],dark:em[800]}}function _W(n="light"){return n==="dark"?{main:Jp[200],light:Jp[50],dark:Jp[400]}:{main:Jp[500],light:Jp[300],dark:Jp[700]}}function MW(n="light"){return n==="dark"?{main:Zp[500],light:Zp[300],dark:Zp[700]}:{main:Zp[700],light:Zp[400],dark:Zp[800]}}function EW(n="light"){return n==="dark"?{main:tm[400],light:tm[300],dark:tm[700]}:{main:tm[700],light:tm[500],dark:tm[900]}}function TW(n="light"){return n==="dark"?{main:nm[400],light:nm[300],dark:nm[700]}:{main:nm[800],light:nm[500],dark:nm[900]}}function AW(n="light"){return n==="dark"?{main:Oy[400],light:Oy[300],dark:Oy[700]}:{main:"#ed6c02",light:Oy[500],dark:Oy[900]}}function Qw(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2,...r}=n,a=n.primary||SW(e),o=n.secondary||_W(e),c=n.error||MW(e),f=n.info||EW(e),p=n.success||TW(e),m=n.warning||AW(e);function g(E){return lW(E,bD.text.primary)>=t?bD.text.primary:xW.text.primary}const y=({color:E,name:M,mainShade:x=500,lightShade:D=300,darkShade:A=700})=>{if(E={...E},!E.main&&E[x]&&(E.main=E[x]),!E.hasOwnProperty("main"))throw new Error(ru(11,M?` (${M})`:"",x));if(typeof E.main!="string")throw new Error(ru(12,M?` (${M})`:"",JSON.stringify(E.main)));return xD(E,"light",D,i),xD(E,"dark",A,i),E.contrastText||(E.contrastText=g(E.main)),E};let b;return e==="light"?b=pL():e==="dark"&&(b=mL()),_a({common:{...Lv},mode:e,primary:y({color:a,name:"primary"}),secondary:y({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:c,name:"error"}),warning:y({color:m,name:"warning"}),info:y({color:f,name:"info"}),success:y({color:p,name:"success"}),grey:q9,contrastThreshold:t,getContrastText:g,augmentColor:y,tonalOffset:i,...b},r)}function wW(n){const e={};return Object.entries(n).forEach(i=>{const[r,a]=i;typeof a=="object"&&(e[r]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function CW(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function RW(n){return Math.round(n*1e5)/1e5}const SD={textTransform:"uppercase"},_D='"Roboto", "Helvetica", "Arial", sans-serif';function OW(n,e){const{fontFamily:t=_D,fontSize:i=14,fontWeightLight:r=300,fontWeightRegular:a=400,fontWeightMedium:o=500,fontWeightBold:c=700,htmlFontSize:f=16,allVariants:p,pxToRem:m,...g}=typeof e=="function"?e(n):e,y=i/14,b=m||(M=>`${M/f*y}rem`),_=(M,x,D,A,T)=>({fontFamily:t,fontWeight:M,fontSize:b(x),lineHeight:D,...t===_D?{letterSpacing:`${RW(A/x)}em`}:{},...T,...p}),E={h1:_(r,96,1.167,-1.5),h2:_(r,60,1.2,-.5),h3:_(a,48,1.167,0),h4:_(a,34,1.235,.25),h5:_(a,24,1.334,0),h6:_(o,20,1.6,.15),subtitle1:_(a,16,1.75,.15),subtitle2:_(o,14,1.57,.1),body1:_(a,16,1.5,.15),body2:_(a,14,1.43,.15),button:_(o,14,1.75,.4,SD),caption:_(a,12,1.66,.4),overline:_(a,12,2.66,1,SD),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return _a({htmlFontSize:f,pxToRem:b,fontFamily:t,fontSize:i,fontWeightLight:r,fontWeightRegular:a,fontWeightMedium:o,fontWeightBold:c,...E},g,{clone:!1})}const DW=.2,NW=.14,PW=.12;function Ri(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${DW})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${NW})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${PW})`].join(",")}const UW=["none",Ri(0,2,1,-1,0,1,1,0,0,1,3,0),Ri(0,3,1,-2,0,2,2,0,0,1,5,0),Ri(0,3,3,-2,0,3,4,0,0,1,8,0),Ri(0,2,4,-1,0,4,5,0,0,1,10,0),Ri(0,3,5,-1,0,5,8,0,0,1,14,0),Ri(0,3,5,-1,0,6,10,0,0,1,18,0),Ri(0,4,5,-2,0,7,10,1,0,2,16,1),Ri(0,5,5,-3,0,8,10,1,0,3,14,2),Ri(0,5,6,-3,0,9,12,1,0,3,16,2),Ri(0,6,6,-3,0,10,14,1,0,4,18,3),Ri(0,6,7,-4,0,11,15,1,0,4,20,3),Ri(0,7,8,-4,0,12,17,2,0,5,22,4),Ri(0,7,8,-4,0,13,19,2,0,5,24,4),Ri(0,7,9,-4,0,14,21,2,0,5,26,4),Ri(0,8,9,-5,0,15,22,2,0,6,28,5),Ri(0,8,10,-5,0,16,24,2,0,6,30,5),Ri(0,8,11,-5,0,17,26,2,0,6,32,5),Ri(0,9,11,-5,0,18,28,2,0,7,34,6),Ri(0,9,12,-6,0,19,29,2,0,7,36,6),Ri(0,10,13,-6,0,20,31,3,0,8,38,7),Ri(0,10,13,-6,0,21,33,3,0,8,40,7),Ri(0,10,14,-6,0,22,35,3,0,8,42,7),Ri(0,11,14,-7,0,23,36,3,0,9,44,8),Ri(0,11,15,-7,0,24,38,3,0,9,46,8)],LW={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},IW={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function MD(n){return`${Math.round(n)}ms`}function zW(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function BW(n){const e={...LW,...n.easing},t={...IW,...n.duration};return{getAutoHeightDuration:zW,create:(r=["all"],a={})=>{const{duration:o=t.standard,easing:c=e.easeInOut,delay:f=0,...p}=a;return(Array.isArray(r)?r:[r]).map(m=>`${m} ${typeof o=="string"?o:MD(o)} ${c} ${typeof f=="string"?f:MD(f)}`).join(",")},...n,easing:e,duration:t}}const FW={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function HW(n){return Kl(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function gL(n={}){const e={...n};function t(i){const r=Object.entries(i);for(let a=0;a<r.length;a++){const[o,c]=r[a];!HW(c)||o.startsWith("unstable_")?delete i[o]:Kl(c)&&(i[o]={...c},t(i[o]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function cA(n={},...e){const{breakpoints:t,mixins:i={},spacing:r,palette:a={},transitions:o={},typography:c={},shape:f,...p}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(ru(20));const m=Qw(a),g=qw(n);let y=_a(g,{mixins:CW(g.breakpoints,i),palette:m,shadows:UW.slice(),typography:OW(m,c),transitions:BW(o),zIndex:{...FW}});return y=_a(y,p),y=e.reduce((b,_)=>_a(b,_),y),y.unstable_sxConfig={...m0,...p==null?void 0:p.unstable_sxConfig},y.unstable_sx=function(_){return yh({sx:_,theme:this})},y.toRuntimeSource=gL,y}function uA(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const VW=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=uA(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function yL(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function vL(n){return n==="dark"?VW:[]}function kW(n){const{palette:e={mode:"light"},opacity:t,overlays:i,...r}=n,a=Qw(e);return{palette:a,opacity:{...yL(a.mode),...t},overlays:i||vL(a.mode),...r}}function GW(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const qW=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],jW=n=>(e,t)=>{const i=n.rootSelector||":root",r=n.colorSchemeSelector;let a=r;if(r==="class"&&(a=".%s"),r==="data"&&(a="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(a=`[${r}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const o={};return qW(n.cssVarPrefix).forEach(c=>{o[c]=t[c],delete t[c]}),a==="media"?{[i]:t,"@media (prefers-color-scheme: dark)":{[i]:o}}:a?{[a.replace("%s",e)]:o,[`${i}, ${a.replace("%s",e)}`]:t}:{[i]:{...t,...o}}}if(a&&a!=="media")return`${i}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:t}};if(a)return a.replace("%s",String(e))}return i};function WW(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function $e(n,e,t){!n[e]&&t&&(n[e]=t)}function Gy(n){return typeof n!="string"||!n.startsWith("hsl")?n:hL(n)}function kc(n,e){`${e}Channel`in n||(n[`${e}Channel`]=ky(Gy(n[e])))}function XW(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Wl=n=>{try{return n()}catch{}},YW=(n="mui")=>mW(n);function pT(n,e,t,i){if(!e)return;e=e===!0?{}:e;const r=i==="dark"?"dark":"light";if(!t){n[i]=kW({...e,palette:{mode:r,...e==null?void 0:e.palette}});return}const{palette:a,...o}=cA({...t,palette:{mode:r,...e==null?void 0:e.palette}});return n[i]={...e,palette:a,opacity:{...yL(r),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||vL(r)},o}function $W(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:i,disableCssColorScheme:r=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:o=GW,colorSchemeSelector:c=t.light&&t.dark?"media":void 0,rootSelector:f=":root",...p}=n,m=Object.keys(t)[0],g=i||(t.light&&m!=="light"?"light":m),y=YW(a),{[g]:b,light:_,dark:E,...M}=t,x={...M};let D=b;if((g==="dark"&&!("dark"in t)||g==="light"&&!("light"in t))&&(D=!0),!D)throw new Error(ru(21,g));const A=pT(x,D,p,g);_&&!x.light&&pT(x,_,void 0,"light"),E&&!x.dark&&pT(x,E,void 0,"dark");let T={defaultColorScheme:g,...A,cssVarPrefix:a,colorSchemeSelector:c,rootSelector:f,getCssVar:y,colorSchemes:x,font:{...wW(A.typography),...A.font},spacing:XW(p.spacing)};Object.keys(T.colorSchemes).forEach(P=>{const w=T.colorSchemes[P].palette,L=H=>{const V=H.split("-"),G=V[1],$=V[2];return y(H,w[G][$])};if(w.mode==="light"&&($e(w.common,"background","#fff"),$e(w.common,"onBackground","#000")),w.mode==="dark"&&($e(w.common,"background","#000"),$e(w.common,"onBackground","#fff")),WW(w,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),w.mode==="light"){$e(w.Alert,"errorColor",mi(w.error.light,.6)),$e(w.Alert,"infoColor",mi(w.info.light,.6)),$e(w.Alert,"successColor",mi(w.success.light,.6)),$e(w.Alert,"warningColor",mi(w.warning.light,.6)),$e(w.Alert,"errorFilledBg",L("palette-error-main")),$e(w.Alert,"infoFilledBg",L("palette-info-main")),$e(w.Alert,"successFilledBg",L("palette-success-main")),$e(w.Alert,"warningFilledBg",L("palette-warning-main")),$e(w.Alert,"errorFilledColor",Wl(()=>w.getContrastText(w.error.main))),$e(w.Alert,"infoFilledColor",Wl(()=>w.getContrastText(w.info.main))),$e(w.Alert,"successFilledColor",Wl(()=>w.getContrastText(w.success.main))),$e(w.Alert,"warningFilledColor",Wl(()=>w.getContrastText(w.warning.main))),$e(w.Alert,"errorStandardBg",gi(w.error.light,.9)),$e(w.Alert,"infoStandardBg",gi(w.info.light,.9)),$e(w.Alert,"successStandardBg",gi(w.success.light,.9)),$e(w.Alert,"warningStandardBg",gi(w.warning.light,.9)),$e(w.Alert,"errorIconColor",L("palette-error-main")),$e(w.Alert,"infoIconColor",L("palette-info-main")),$e(w.Alert,"successIconColor",L("palette-success-main")),$e(w.Alert,"warningIconColor",L("palette-warning-main")),$e(w.AppBar,"defaultBg",L("palette-grey-100")),$e(w.Avatar,"defaultBg",L("palette-grey-400")),$e(w.Button,"inheritContainedBg",L("palette-grey-300")),$e(w.Button,"inheritContainedHoverBg",L("palette-grey-A100")),$e(w.Chip,"defaultBorder",L("palette-grey-400")),$e(w.Chip,"defaultAvatarColor",L("palette-grey-700")),$e(w.Chip,"defaultIconColor",L("palette-grey-700")),$e(w.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),$e(w.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),$e(w.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),$e(w.LinearProgress,"primaryBg",gi(w.primary.main,.62)),$e(w.LinearProgress,"secondaryBg",gi(w.secondary.main,.62)),$e(w.LinearProgress,"errorBg",gi(w.error.main,.62)),$e(w.LinearProgress,"infoBg",gi(w.info.main,.62)),$e(w.LinearProgress,"successBg",gi(w.success.main,.62)),$e(w.LinearProgress,"warningBg",gi(w.warning.main,.62)),$e(w.Skeleton,"bg",`rgba(${L("palette-text-primaryChannel")} / 0.11)`),$e(w.Slider,"primaryTrack",gi(w.primary.main,.62)),$e(w.Slider,"secondaryTrack",gi(w.secondary.main,.62)),$e(w.Slider,"errorTrack",gi(w.error.main,.62)),$e(w.Slider,"infoTrack",gi(w.info.main,.62)),$e(w.Slider,"successTrack",gi(w.success.main,.62)),$e(w.Slider,"warningTrack",gi(w.warning.main,.62));const H=Jx(w.background.default,.8);$e(w.SnackbarContent,"bg",H),$e(w.SnackbarContent,"color",Wl(()=>w.getContrastText(H))),$e(w.SpeedDialAction,"fabHoverBg",Jx(w.background.paper,.15)),$e(w.StepConnector,"border",L("palette-grey-400")),$e(w.StepContent,"border",L("palette-grey-400")),$e(w.Switch,"defaultColor",L("palette-common-white")),$e(w.Switch,"defaultDisabledColor",L("palette-grey-100")),$e(w.Switch,"primaryDisabledColor",gi(w.primary.main,.62)),$e(w.Switch,"secondaryDisabledColor",gi(w.secondary.main,.62)),$e(w.Switch,"errorDisabledColor",gi(w.error.main,.62)),$e(w.Switch,"infoDisabledColor",gi(w.info.main,.62)),$e(w.Switch,"successDisabledColor",gi(w.success.main,.62)),$e(w.Switch,"warningDisabledColor",gi(w.warning.main,.62)),$e(w.TableCell,"border",gi(Zx(w.divider,1),.88)),$e(w.Tooltip,"bg",Zx(w.grey[700],.92))}if(w.mode==="dark"){$e(w.Alert,"errorColor",gi(w.error.light,.6)),$e(w.Alert,"infoColor",gi(w.info.light,.6)),$e(w.Alert,"successColor",gi(w.success.light,.6)),$e(w.Alert,"warningColor",gi(w.warning.light,.6)),$e(w.Alert,"errorFilledBg",L("palette-error-dark")),$e(w.Alert,"infoFilledBg",L("palette-info-dark")),$e(w.Alert,"successFilledBg",L("palette-success-dark")),$e(w.Alert,"warningFilledBg",L("palette-warning-dark")),$e(w.Alert,"errorFilledColor",Wl(()=>w.getContrastText(w.error.dark))),$e(w.Alert,"infoFilledColor",Wl(()=>w.getContrastText(w.info.dark))),$e(w.Alert,"successFilledColor",Wl(()=>w.getContrastText(w.success.dark))),$e(w.Alert,"warningFilledColor",Wl(()=>w.getContrastText(w.warning.dark))),$e(w.Alert,"errorStandardBg",mi(w.error.light,.9)),$e(w.Alert,"infoStandardBg",mi(w.info.light,.9)),$e(w.Alert,"successStandardBg",mi(w.success.light,.9)),$e(w.Alert,"warningStandardBg",mi(w.warning.light,.9)),$e(w.Alert,"errorIconColor",L("palette-error-main")),$e(w.Alert,"infoIconColor",L("palette-info-main")),$e(w.Alert,"successIconColor",L("palette-success-main")),$e(w.Alert,"warningIconColor",L("palette-warning-main")),$e(w.AppBar,"defaultBg",L("palette-grey-900")),$e(w.AppBar,"darkBg",L("palette-background-paper")),$e(w.AppBar,"darkColor",L("palette-text-primary")),$e(w.Avatar,"defaultBg",L("palette-grey-600")),$e(w.Button,"inheritContainedBg",L("palette-grey-800")),$e(w.Button,"inheritContainedHoverBg",L("palette-grey-700")),$e(w.Chip,"defaultBorder",L("palette-grey-700")),$e(w.Chip,"defaultAvatarColor",L("palette-grey-300")),$e(w.Chip,"defaultIconColor",L("palette-grey-300")),$e(w.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),$e(w.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),$e(w.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),$e(w.LinearProgress,"primaryBg",mi(w.primary.main,.5)),$e(w.LinearProgress,"secondaryBg",mi(w.secondary.main,.5)),$e(w.LinearProgress,"errorBg",mi(w.error.main,.5)),$e(w.LinearProgress,"infoBg",mi(w.info.main,.5)),$e(w.LinearProgress,"successBg",mi(w.success.main,.5)),$e(w.LinearProgress,"warningBg",mi(w.warning.main,.5)),$e(w.Skeleton,"bg",`rgba(${L("palette-text-primaryChannel")} / 0.13)`),$e(w.Slider,"primaryTrack",mi(w.primary.main,.5)),$e(w.Slider,"secondaryTrack",mi(w.secondary.main,.5)),$e(w.Slider,"errorTrack",mi(w.error.main,.5)),$e(w.Slider,"infoTrack",mi(w.info.main,.5)),$e(w.Slider,"successTrack",mi(w.success.main,.5)),$e(w.Slider,"warningTrack",mi(w.warning.main,.5));const H=Jx(w.background.default,.98);$e(w.SnackbarContent,"bg",H),$e(w.SnackbarContent,"color",Wl(()=>w.getContrastText(H))),$e(w.SpeedDialAction,"fabHoverBg",Jx(w.background.paper,.15)),$e(w.StepConnector,"border",L("palette-grey-600")),$e(w.StepContent,"border",L("palette-grey-600")),$e(w.Switch,"defaultColor",L("palette-grey-300")),$e(w.Switch,"defaultDisabledColor",L("palette-grey-600")),$e(w.Switch,"primaryDisabledColor",mi(w.primary.main,.55)),$e(w.Switch,"secondaryDisabledColor",mi(w.secondary.main,.55)),$e(w.Switch,"errorDisabledColor",mi(w.error.main,.55)),$e(w.Switch,"infoDisabledColor",mi(w.info.main,.55)),$e(w.Switch,"successDisabledColor",mi(w.success.main,.55)),$e(w.Switch,"warningDisabledColor",mi(w.warning.main,.55)),$e(w.TableCell,"border",mi(Zx(w.divider,1),.68)),$e(w.Tooltip,"bg",Zx(w.grey[700],.92))}kc(w.background,"default"),kc(w.background,"paper"),kc(w.common,"background"),kc(w.common,"onBackground"),kc(w,"divider"),Object.keys(w).forEach(H=>{const V=w[H];H!=="tonalOffset"&&V&&typeof V=="object"&&(V.main&&$e(w[H],"mainChannel",ky(Gy(V.main))),V.light&&$e(w[H],"lightChannel",ky(Gy(V.light))),V.dark&&$e(w[H],"darkChannel",ky(Gy(V.dark))),V.contrastText&&$e(w[H],"contrastTextChannel",ky(Gy(V.contrastText))),H==="text"&&(kc(w[H],"primary"),kc(w[H],"secondary")),H==="action"&&(V.active&&kc(w[H],"active"),V.selected&&kc(w[H],"selected")))})}),T=e.reduce((P,w)=>_a(P,w),T);const O={prefix:a,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:jW(T)},{vars:N,generateThemeVars:z,generateStyleSheets:F}=vW(T,O);return T.vars=N,Object.entries(T.colorSchemes[T.defaultColorScheme]).forEach(([P,w])=>{T[P]=w}),T.generateThemeVars=z,T.generateStyleSheets=F,T.generateSpacing=function(){return oL(p.spacing,kw(this))},T.getColorSchemeSelector=bW(c),T.spacing=T.generateSpacing(),T.shouldSkipGeneratingVar=o,T.unstable_sxConfig={...m0,...p==null?void 0:p.unstable_sxConfig},T.unstable_sx=function(w){return yh({sx:w,theme:this})},T.toRuntimeSource=gL,T}function ED(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:Qw({...t===!0?{}:t.palette,mode:e})})}function bL(n={},...e){const{palette:t,cssVariables:i=!1,colorSchemes:r=t?void 0:{light:!0},defaultColorScheme:a=t==null?void 0:t.mode,...o}=n,c=a||"light",f=r==null?void 0:r[c],p={...r,...t?{[c]:{...typeof f!="boolean"&&f,palette:t}}:void 0};if(i===!1){if(!("colorSchemes"in n))return cA(n,...e);let m=t;"palette"in n||p[c]&&(p[c]!==!0?m=p[c].palette:c==="dark"&&(m={mode:"dark"}));const g=cA({...n,palette:m},...e);return g.defaultColorScheme=c,g.colorSchemes=p,g.palette.mode==="light"&&(g.colorSchemes.light={...p.light!==!0&&p.light,palette:g.palette},ED(g,"dark",p.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...p.dark!==!0&&p.dark,palette:g.palette},ED(g,"light",p.light)),g}return!t&&!("light"in p)&&c==="light"&&(p.light=!0),$W({...o,colorSchemes:p,defaultColorScheme:c,...typeof i!="boolean"&&i},...e)}const Kw=bL();function Qm(){const n=jw(Kw);return n[N1]||n}function xL(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const ks=n=>xL(n)&&n!=="classes",xt=eW({themeId:N1,defaultTheme:Kw,rootShouldForwardProp:ks});function TD(...n){return n.reduce((e,t)=>t==null?e:function(...r){e.apply(this,r),t.apply(this,r)},()=>{})}function QW(n){return pe.jsx(Wj,{...n,defaultTheme:Kw,themeId:N1})}function KW(n){return function(t){return pe.jsx(QW,{styles:typeof n=="function"?i=>n({theme:i,...t}):n})}}function ZW(){return lL}const Cn=pW;function Rn(n){return hW(n)}function JW(n){return En("MuiSvgIcon",n)}hn("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const eX=n=>{const{color:e,fontSize:t,classes:i}=n,r={root:["root",e!=="inherit"&&`color${ht(e)}`,`fontSize${ht(t)}`]};return Tn(r,JW,i)},tX=xt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${ht(t.color)}`],e[`fontSize${ht(t.fontSize)}`]]}})(Cn(({theme:n})=>{var e,t,i,r,a,o,c,f,p,m,g,y,b,_;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(r=(e=n.transitions)==null?void 0:e.create)==null?void 0:r.call(e,"fill",{duration:(i=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:i.shorter}),variants:[{props:E=>!E.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(a=n.typography)==null?void 0:a.pxToRem)==null?void 0:o.call(a,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((f=(c=n.typography)==null?void 0:c.pxToRem)==null?void 0:f.call(c,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((m=(p=n.typography)==null?void 0:p.pxToRem)==null?void 0:m.call(p,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,E])=>E&&E.main).map(([E])=>{var M,x;return{props:{color:E},style:{color:(x=(M=(n.vars??n).palette)==null?void 0:M[E])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(y=(g=(n.vars??n).palette)==null?void 0:g.action)==null?void 0:y.active}},{props:{color:"disabled"},style:{color:(_=(b=(n.vars??n).palette)==null?void 0:b.action)==null?void 0:_.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),fA=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiSvgIcon"}),{children:r,className:a,color:o="inherit",component:c="svg",fontSize:f="medium",htmlColor:p,inheritViewBox:m=!1,titleAccess:g,viewBox:y="0 0 24 24",...b}=i,_=K.isValidElement(r)&&r.type==="svg",E={...i,color:o,component:c,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:y,hasSvgAsChild:_},M={};m||(M.viewBox=y);const x=eX(E);return pe.jsxs(tX,{as:c,className:Lt(x.root,a),focusable:"false",color:p,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:t,...M,...b,..._&&r.props,ownerState:E,children:[_?r.props.children:r,g?pe.jsx("title",{children:g}):null]})});fA.muiName="SvgIcon";function Zw(n,e){function t(i,r){return pe.jsx(fA,{"data-testid":void 0,ref:r,...i,children:n})}return t.muiName=fA.muiName,K.memo(K.forwardRef(t))}function Jw(n,e=166){let t;function i(...r){const a=()=>{n.apply(this,r)};clearTimeout(t),t=setTimeout(a,e)}return i.clear=()=>{clearTimeout(t)},i}function Hs(n){return n&&n.ownerDocument||document}function ol(n){return Hs(n).defaultView||window}function dA(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let AD=0;function nX(n){const[e,t]=K.useState(n),i=n||e;return K.useEffect(()=>{e==null&&(AD+=1,t(`mui-${AD}`))},[e]),i}const iX={...wT},wD=iX.useId;function Km(n){if(wD!==void 0){const e=wD();return n??e}return nX(n)}function ov(n){const{controlled:e,default:t,name:i,state:r="value"}=n,{current:a}=K.useRef(e!==void 0),[o,c]=K.useState(t),f=a?e:o,p=K.useCallback(m=>{a||c(m)},[]);return[f,p]}function sl(n){const e=K.useRef(n);return sc(()=>{e.current=n}),K.useRef((...t)=>(0,e.current)(...t)).current}function mr(...n){const e=K.useRef(void 0),t=K.useCallback(i=>{const r=n.map(a=>{if(a==null)return null;if(typeof a=="function"){const o=a,c=o(i);return typeof c=="function"?c:()=>{o(null)}}return a.current=i,()=>{a.current=null}});return()=>{r.forEach(a=>a==null?void 0:a())}},n);return K.useMemo(()=>n.every(i=>i==null)?null:i=>{e.current&&(e.current(),e.current=void 0),i!=null&&(e.current=t(i))},n)}function rX(n,e){const t=n.charCodeAt(2);return n[0]==="o"&&n[1]==="n"&&t>=65&&t<=90&&typeof e=="function"}function SL(n,e){if(!n)return e;function t(o,c){const f={};return Object.keys(c).forEach(p=>{rX(p,c[p])&&typeof o[p]=="function"&&(f[p]=(...m)=>{o[p](...m),c[p](...m)})}),f}if(typeof n=="function"||typeof e=="function")return o=>{const c=typeof e=="function"?e(o):e,f=typeof n=="function"?n({...o,...c}):n,p=Lt(o==null?void 0:o.className,c==null?void 0:c.className,f==null?void 0:f.className),m=t(f,c);return{...c,...f,...m,...!!p&&{className:p},...(c==null?void 0:c.style)&&(f==null?void 0:f.style)&&{style:{...c.style,...f.style}},...(c==null?void 0:c.sx)&&(f==null?void 0:f.sx)&&{sx:[...Array.isArray(c.sx)?c.sx:[c.sx],...Array.isArray(f.sx)?f.sx:[f.sx]]}}};const i=e,r=t(n,i),a=Lt(i==null?void 0:i.className,n==null?void 0:n.className);return{...e,...n,...r,...!!a&&{className:a},...(i==null?void 0:i.style)&&(n==null?void 0:n.style)&&{style:{...i.style,...n.style}},...(i==null?void 0:i.sx)&&(n==null?void 0:n.sx)&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}function _L(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function hA(n,e){return hA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},hA(n,e)}function ML(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,hA(n,e)}var EL=Z3();const eS=Xv(EL),CD={disabled:!1},C_=rl.createContext(null);var aX=function(e){return e.scrollTop},qy="unmounted",Fd="exited",Hd="entering",sm="entered",pA="exiting",cl=function(n){ML(e,n);function e(i,r){var a;a=n.call(this,i,r)||this;var o=r,c=o&&!o.isMounting?i.enter:i.appear,f;return a.appearStatus=null,i.in?c?(f=Fd,a.appearStatus=Hd):f=sm:i.unmountOnExit||i.mountOnEnter?f=qy:f=Fd,a.state={status:f},a.nextCallback=null,a}e.getDerivedStateFromProps=function(r,a){var o=r.in;return o&&a.status===qy?{status:Fd}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(r){var a=null;if(r!==this.props){var o=this.state.status;this.props.in?o!==Hd&&o!==sm&&(a=Hd):(o===Hd||o===sm)&&(a=pA)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var r=this.props.timeout,a,o,c;return a=o=c=r,r!=null&&typeof r!="number"&&(a=r.exit,o=r.enter,c=r.appear!==void 0?r.appear:o),{exit:a,enter:o,appear:c}},t.updateStatus=function(r,a){if(r===void 0&&(r=!1),a!==null)if(this.cancelNextCallback(),a===Hd){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:eS.findDOMNode(this);o&&aX(o)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Fd&&this.setState({status:qy})},t.performEnter=function(r){var a=this,o=this.props.enter,c=this.context?this.context.isMounting:r,f=this.props.nodeRef?[c]:[eS.findDOMNode(this),c],p=f[0],m=f[1],g=this.getTimeouts(),y=c?g.appear:g.enter;if(!r&&!o||CD.disabled){this.safeSetState({status:sm},function(){a.props.onEntered(p)});return}this.props.onEnter(p,m),this.safeSetState({status:Hd},function(){a.props.onEntering(p,m),a.onTransitionEnd(y,function(){a.safeSetState({status:sm},function(){a.props.onEntered(p,m)})})})},t.performExit=function(){var r=this,a=this.props.exit,o=this.getTimeouts(),c=this.props.nodeRef?void 0:eS.findDOMNode(this);if(!a||CD.disabled){this.safeSetState({status:Fd},function(){r.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:pA},function(){r.props.onExiting(c),r.onTransitionEnd(o.exit,function(){r.safeSetState({status:Fd},function(){r.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(r,a){a=this.setNextCallback(a),this.setState(r,a)},t.setNextCallback=function(r){var a=this,o=!0;return this.nextCallback=function(c){o&&(o=!1,a.nextCallback=null,r(c))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(r,a){this.setNextCallback(a);var o=this.props.nodeRef?this.props.nodeRef.current:eS.findDOMNode(this),c=r==null&&!this.props.addEndListener;if(!o||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],p=f[0],m=f[1];this.props.addEndListener(p,m)}r!=null&&setTimeout(this.nextCallback,r)},t.render=function(){var r=this.state.status;if(r===qy)return null;var a=this.props,o=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=_L(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return rl.createElement(C_.Provider,{value:null},typeof o=="function"?o(r,c):rl.cloneElement(rl.Children.only(o),c))},e}(rl.Component);cl.contextType=C_;cl.propTypes={};function im(){}cl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:im,onEntering:im,onEntered:im,onExit:im,onExiting:im,onExited:im};cl.UNMOUNTED=qy;cl.EXITED=Fd;cl.ENTERING=Hd;cl.ENTERED=sm;cl.EXITING=pA;function sX(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function eC(n,e){var t=function(a){return e&&K.isValidElement(a)?e(a):a},i=Object.create(null);return n&&K.Children.map(n,function(r){return r}).forEach(function(r){i[r.key]=t(r)}),i}function oX(n,e){n=n||{},e=e||{};function t(m){return m in e?e[m]:n[m]}var i=Object.create(null),r=[];for(var a in n)a in e?r.length&&(i[a]=r,r=[]):r.push(a);var o,c={};for(var f in e){if(i[f])for(o=0;o<i[f].length;o++){var p=i[f][o];c[i[f][o]]=t(p)}c[f]=t(f)}for(o=0;o<r.length;o++)c[r[o]]=t(r[o]);return c}function Yd(n,e,t){return t[e]!=null?t[e]:n.props[e]}function lX(n,e){return eC(n.children,function(t){return K.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Yd(t,"appear",n),enter:Yd(t,"enter",n),exit:Yd(t,"exit",n)})})}function cX(n,e,t){var i=eC(n.children),r=oX(e,i);return Object.keys(r).forEach(function(a){var o=r[a];if(K.isValidElement(o)){var c=a in e,f=a in i,p=e[a],m=K.isValidElement(p)&&!p.props.in;f&&(!c||m)?r[a]=K.cloneElement(o,{onExited:t.bind(null,o),in:!0,exit:Yd(o,"exit",n),enter:Yd(o,"enter",n)}):!f&&c&&!m?r[a]=K.cloneElement(o,{in:!1}):f&&c&&K.isValidElement(p)&&(r[a]=K.cloneElement(o,{onExited:t.bind(null,o),in:p.props.in,exit:Yd(o,"exit",n),enter:Yd(o,"enter",n)}))}}),r}var uX=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},fX={component:"div",childFactory:function(e){return e}},tC=function(n){ML(e,n);function e(i,r){var a;a=n.call(this,i,r)||this;var o=a.handleExited.bind(sX(a));return a.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},a}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(r,a){var o=a.children,c=a.handleExited,f=a.firstRender;return{children:f?lX(r,c):cX(r,o,c),firstRender:!1}},t.handleExited=function(r,a){var o=eC(this.props.children);r.key in o||(r.props.onExited&&r.props.onExited(a),this.mounted&&this.setState(function(c){var f=gh({},c.children);return delete f[r.key],{children:f}}))},t.render=function(){var r=this.props,a=r.component,o=r.childFactory,c=_L(r,["component","childFactory"]),f=this.state.contextValue,p=uX(this.state.children).map(o);return delete c.appear,delete c.enter,delete c.exit,a===null?rl.createElement(C_.Provider,{value:f},p):rl.createElement(C_.Provider,{value:f},rl.createElement(a,c,p))},e}(rl.Component);tC.propTypes={};tC.defaultProps=fX;const RD={};function TL(n,e){const t=K.useRef(RD);return t.current===RD&&(t.current=n(e)),t}const dX=[];function hX(n){K.useEffect(n,dX)}class nC{constructor(){ss(this,"currentId",null);ss(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});ss(this,"disposeEffect",()=>this.clear)}static create(){return new nC}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function AL(){const n=TL(nC.create).current;return hX(n.disposeEffect),n}const iC=n=>n.scrollTop;function Lm(n,e){const{timeout:t,easing:i,style:r={}}=n;return{duration:r.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:r.transitionTimingFunction??(typeof i=="object"?i[e.mode]:i),delay:r.transitionDelay}}function pX(n){return En("MuiPaper",n)}hn("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const mX=n=>{const{square:e,elevation:t,variant:i,classes:r}=n,a={root:["root",i,!e&&"rounded",i==="elevation"&&`elevation${t}`]};return Tn(a,pX,r)},gX=xt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(Cn(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Zm=K.forwardRef(function(e,t){var b;const i=Rn({props:e,name:"MuiPaper"}),r=Qm(),{className:a,component:o="div",elevation:c=1,square:f=!1,variant:p="elevation",...m}=i,g={...i,component:o,elevation:c,square:f,variant:p},y=mX(g);return pe.jsx(gX,{as:o,ownerState:g,className:Lt(y.root,a),ref:t,...m,style:{...p==="elevation"&&{"--Paper-shadow":(r.vars||r).shadows[c],...r.vars&&{"--Paper-overlay":(b=r.vars.overlays)==null?void 0:b[c]},...!r.vars&&r.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${yi("#fff",uA(c))}, ${yi("#fff",uA(c))})`}},...m.style}})});function yX(n){return typeof n=="string"}function wL(n,e,t){return n===void 0||yX(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function CL(n,e,t){return typeof n=="function"?n(e,t):n}function RL(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!e.includes(i)).forEach(i=>{t[i]=n[i]}),t}function OD(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function OL(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:i,externalForwardedProps:r,className:a}=n;if(!e){const b=Lt(t==null?void 0:t.className,a,r==null?void 0:r.className,i==null?void 0:i.className),_={...t==null?void 0:t.style,...r==null?void 0:r.style,...i==null?void 0:i.style},E={...t,...r,...i};return b.length>0&&(E.className=b),Object.keys(_).length>0&&(E.style=_),{props:E,internalRef:void 0}}const o=RL({...r,...i}),c=OD(i),f=OD(r),p=e(o),m=Lt(p==null?void 0:p.className,t==null?void 0:t.className,a,r==null?void 0:r.className,i==null?void 0:i.className),g={...p==null?void 0:p.style,...t==null?void 0:t.style,...r==null?void 0:r.style,...i==null?void 0:i.style},y={...p,...t,...f,...c};return m.length>0&&(y.className=m),Object.keys(g).length>0&&(y.style=g),{props:y,internalRef:p.ref}}function Xn(n,e){const{className:t,elementType:i,ownerState:r,externalForwardedProps:a,internalForwardedProps:o,shouldForwardComponentProp:c=!1,...f}=e,{component:p,slots:m={[n]:void 0},slotProps:g={[n]:void 0},...y}=a,b=m[n]||i,_=CL(g[n],r),{props:{component:E,...M},internalRef:x}=OL({className:t,...f,externalForwardedProps:n==="root"?y:void 0,externalSlotProps:_}),D=mr(x,_==null?void 0:_.ref,e.ref),A=n==="root"?E||p:E,T=wL(b,{...n==="root"&&!p&&!m[n]&&o,...n!=="root"&&!m[n]&&o,...M,...A&&!c&&{as:A},...A&&c&&{component:A},ref:D},r);return[b,T]}function DD(n){try{return n.matches(":focus-visible")}catch{}return!1}class R_{constructor(){ss(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new R_}static use(){const e=TL(R_.create).current,[t,i]=K.useState(!1);return e.shouldMount=t,e.setShouldMount=i,K.useEffect(e.mountEffect,[t]),e}mount(){return this.mounted||(this.mounted=bX(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...e)})}stop(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...e)})}pulsate(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...e)})}}function vX(){return R_.use()}function bX(){let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t}function xX(n){const{className:e,classes:t,pulsate:i=!1,rippleX:r,rippleY:a,rippleSize:o,in:c,onExited:f,timeout:p}=n,[m,g]=K.useState(!1),y=Lt(e,t.ripple,t.rippleVisible,i&&t.ripplePulsate),b={width:o,height:o,top:-(o/2)+a,left:-(o/2)+r},_=Lt(t.child,m&&t.childLeaving,i&&t.childPulsate);return!c&&!m&&g(!0),K.useEffect(()=>{if(!c&&f!=null){const E=setTimeout(f,p);return()=>{clearTimeout(E)}}},[f,c,p]),pe.jsx("span",{className:y,style:b,children:pe.jsx("span",{className:_})})}const ho=hn("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),mA=550,SX=80,_X=d0`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,MX=d0`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,EX=d0`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,TX=xt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),AX=xt(xX,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${ho.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${_X};
    animation-duration: ${mA}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${ho.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${ho.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${ho.childLeaving} {
    opacity: 0;
    animation-name: ${MX};
    animation-duration: ${mA}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${ho.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${EX};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,wX=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:a={},className:o,...c}=i,[f,p]=K.useState([]),m=K.useRef(0),g=K.useRef(null);K.useEffect(()=>{g.current&&(g.current(),g.current=null)},[f]);const y=K.useRef(!1),b=AL(),_=K.useRef(null),E=K.useRef(null),M=K.useCallback(T=>{const{pulsate:O,rippleX:N,rippleY:z,rippleSize:F,cb:P}=T;p(w=>[...w,pe.jsx(AX,{classes:{ripple:Lt(a.ripple,ho.ripple),rippleVisible:Lt(a.rippleVisible,ho.rippleVisible),ripplePulsate:Lt(a.ripplePulsate,ho.ripplePulsate),child:Lt(a.child,ho.child),childLeaving:Lt(a.childLeaving,ho.childLeaving),childPulsate:Lt(a.childPulsate,ho.childPulsate)},timeout:mA,pulsate:O,rippleX:N,rippleY:z,rippleSize:F},m.current)]),m.current+=1,g.current=P},[a]),x=K.useCallback((T={},O={},N=()=>{})=>{const{pulsate:z=!1,center:F=r||O.pulsate,fakeElement:P=!1}=O;if((T==null?void 0:T.type)==="mousedown"&&y.current){y.current=!1;return}(T==null?void 0:T.type)==="touchstart"&&(y.current=!0);const w=P?null:E.current,L=w?w.getBoundingClientRect():{width:0,height:0,left:0,top:0};let H,V,G;if(F||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)H=Math.round(L.width/2),V=Math.round(L.height/2);else{const{clientX:$,clientY:B}=T.touches&&T.touches.length>0?T.touches[0]:T;H=Math.round($-L.left),V=Math.round(B-L.top)}if(F)G=Math.sqrt((2*L.width**2+L.height**2)/3),G%2===0&&(G+=1);else{const $=Math.max(Math.abs((w?w.clientWidth:0)-H),H)*2+2,B=Math.max(Math.abs((w?w.clientHeight:0)-V),V)*2+2;G=Math.sqrt($**2+B**2)}T!=null&&T.touches?_.current===null&&(_.current=()=>{M({pulsate:z,rippleX:H,rippleY:V,rippleSize:G,cb:N})},b.start(SX,()=>{_.current&&(_.current(),_.current=null)})):M({pulsate:z,rippleX:H,rippleY:V,rippleSize:G,cb:N})},[r,M,b]),D=K.useCallback(()=>{x({},{pulsate:!0})},[x]),A=K.useCallback((T,O)=>{if(b.clear(),(T==null?void 0:T.type)==="touchend"&&_.current){_.current(),_.current=null,b.start(0,()=>{A(T,O)});return}_.current=null,p(N=>N.length>0?N.slice(1):N),g.current=O},[b]);return K.useImperativeHandle(t,()=>({pulsate:D,start:x,stop:A}),[D,x,A]),pe.jsx(TX,{className:Lt(ho.root,a.root,o),ref:E,...c,children:pe.jsx(tC,{component:null,exit:!0,children:f})})});function CX(n){return En("MuiButtonBase",n)}const RX=hn("MuiButtonBase",["root","disabled","focusVisible"]),OX=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:i,classes:r}=n,o=Tn({root:["root",e&&"disabled",t&&"focusVisible"]},CX,r);return t&&i&&(o.root+=` ${i}`),o},DX=xt("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${RX.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Fv=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:a=!1,children:o,className:c,component:f="button",disabled:p=!1,disableRipple:m=!1,disableTouchRipple:g=!1,focusRipple:y=!1,focusVisibleClassName:b,LinkComponent:_="a",onBlur:E,onClick:M,onContextMenu:x,onDragLeave:D,onFocus:A,onFocusVisible:T,onKeyDown:O,onKeyUp:N,onMouseDown:z,onMouseLeave:F,onMouseUp:P,onTouchEnd:w,onTouchMove:L,onTouchStart:H,tabIndex:V=0,TouchRippleProps:G,touchRippleRef:$,type:B,...j}=i,q=K.useRef(null),Q=vX(),W=mr(Q.ref,$),[ie,le]=K.useState(!1);p&&ie&&le(!1),K.useImperativeHandle(r,()=>({focusVisible:()=>{le(!0),q.current.focus()}}),[]);const he=Q.shouldMount&&!m&&!p;K.useEffect(()=>{ie&&y&&!m&&Q.pulsate()},[m,y,ie,Q]);const ae=Gc(Q,"start",z,g),se=Gc(Q,"stop",x,g),me=Gc(Q,"stop",D,g),xe=Gc(Q,"stop",P,g),ke=Gc(Q,"stop",Y=>{ie&&Y.preventDefault(),F&&F(Y)},g),Qe=Gc(Q,"start",H,g),Ee=Gc(Q,"stop",w,g),Ge=Gc(Q,"stop",L,g),et=Gc(Q,"stop",Y=>{DD(Y.target)||le(!1),E&&E(Y)},!1),nt=sl(Y=>{q.current||(q.current=Y.currentTarget),DD(Y.target)&&(le(!0),T&&T(Y)),A&&A(Y)}),J=()=>{const Y=q.current;return f&&f!=="button"&&!(Y.tagName==="A"&&Y.href)},We=sl(Y=>{y&&!Y.repeat&&ie&&Y.key===" "&&Q.stop(Y,()=>{Q.start(Y)}),Y.target===Y.currentTarget&&J()&&Y.key===" "&&Y.preventDefault(),O&&O(Y),Y.target===Y.currentTarget&&J()&&Y.key==="Enter"&&!p&&(Y.preventDefault(),M&&M(Y))}),Re=sl(Y=>{y&&Y.key===" "&&ie&&!Y.defaultPrevented&&Q.stop(Y,()=>{Q.pulsate(Y)}),N&&N(Y),M&&Y.target===Y.currentTarget&&J()&&Y.key===" "&&!Y.defaultPrevented&&M(Y)});let ze=f;ze==="button"&&(j.href||j.to)&&(ze=_);const ve={};ze==="button"?(ve.type=B===void 0?"button":B,ve.disabled=p):(!j.href&&!j.to&&(ve.role="button"),p&&(ve["aria-disabled"]=p));const ot=mr(t,q),Ae={...i,centerRipple:a,component:f,disabled:p,disableRipple:m,disableTouchRipple:g,focusRipple:y,tabIndex:V,focusVisible:ie},te=OX(Ae);return pe.jsxs(DX,{as:ze,className:Lt(te.root,c),ownerState:Ae,onBlur:et,onClick:M,onContextMenu:se,onFocus:nt,onKeyDown:We,onKeyUp:Re,onMouseDown:ae,onMouseLeave:ke,onMouseUp:xe,onDragLeave:me,onTouchEnd:Ee,onTouchMove:Ge,onTouchStart:Qe,ref:ot,tabIndex:p?-1:V,type:B,...ve,...j,children:[o,he?pe.jsx(wX,{ref:W,center:a,...G}):null]})});function Gc(n,e,t,i=!1){return sl(r=>(t&&t(r),i||n[e](r),!0))}function NX(n){return typeof n.main=="string"}function PX(n,e=[]){if(!NX(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function Us(n=[]){return([,e])=>e&&PX(e,n)}function UX(n){return En("MuiCircularProgress",n)}hn("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const cf=44,gA=d0`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,yA=d0`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,LX=typeof gA!="string"?Fw`
        animation: ${gA} 1.4s linear infinite;
      `:null,IX=typeof yA!="string"?Fw`
        animation: ${yA} 1.4s ease-in-out infinite;
      `:null,zX=n=>{const{classes:e,variant:t,color:i,disableShrink:r}=n,a={root:["root",t,`color${ht(i)}`],svg:["svg"],circle:["circle",`circle${ht(t)}`,r&&"circleDisableShrink"]};return Tn(a,UX,e)},BX=xt("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${ht(t.color)}`]]}})(Cn(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:LX||{animation:`${gA} 1.4s linear infinite`}},...Object.entries(n.palette).filter(Us()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),FX=xt("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),HX=xt("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${ht(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(Cn(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:IX||{animation:`${yA} 1.4s ease-in-out infinite`}}]}))),DL=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiCircularProgress"}),{className:r,color:a="primary",disableShrink:o=!1,size:c=40,style:f,thickness:p=3.6,value:m=0,variant:g="indeterminate",...y}=i,b={...i,color:a,disableShrink:o,size:c,thickness:p,value:m,variant:g},_=zX(b),E={},M={},x={};if(g==="determinate"){const D=2*Math.PI*((cf-p)/2);E.strokeDasharray=D.toFixed(3),x["aria-valuenow"]=Math.round(m),E.strokeDashoffset=`${((100-m)/100*D).toFixed(3)}px`,M.transform="rotate(-90deg)"}return pe.jsx(BX,{className:Lt(_.root,r),style:{width:c,height:c,...M,...f},ownerState:b,ref:t,role:"progressbar",...x,...y,children:pe.jsx(FX,{className:_.svg,ownerState:b,viewBox:`${cf/2} ${cf/2} ${cf} ${cf}`,children:pe.jsx(HX,{className:_.circle,style:E,ownerState:b,cx:cf,cy:cf,r:(cf-p)/2,fill:"none",strokeWidth:p})})})});function VX(n){return En("MuiIconButton",n)}const ND=hn("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),kX=n=>{const{classes:e,disabled:t,color:i,edge:r,size:a,loading:o}=n,c={root:["root",o&&"loading",t&&"disabled",i!=="default"&&`color${ht(i)}`,r&&`edge${ht(r)}`,`size${ht(a)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Tn(c,VX,e)},GX=xt(Fv,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${ht(t.color)}`],t.edge&&e[`edge${ht(t.edge)}`],e[`size${ht(t.size)}`]]}})(Cn(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:yi(n.palette.action.active,n.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Cn(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(Us()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(Us()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.vars?`rgba(${(n.vars||n).palette[e].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:yi((n.vars||n).palette[e].main,n.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${ND.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${ND.loading}`]:{color:"transparent"}}))),qX=xt("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),NL=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiIconButton"}),{edge:r=!1,children:a,className:o,color:c="default",disabled:f=!1,disableFocusRipple:p=!1,size:m="medium",id:g,loading:y=null,loadingIndicator:b,..._}=i,E=Km(g),M=b??pe.jsx(DL,{"aria-labelledby":E,color:"inherit",size:16}),x={...i,edge:r,color:c,disabled:f,disableFocusRipple:p,loading:y,loadingIndicator:M,size:m},D=kX(x);return pe.jsxs(GX,{id:y?E:g,className:Lt(D.root,o),centerRipple:!0,focusRipple:!p,disabled:f||y,ref:t,..._,ownerState:x,children:[typeof y=="boolean"&&pe.jsx("span",{className:D.loadingWrapper,style:{display:"contents"},children:pe.jsx(qX,{className:D.loadingIndicator,ownerState:x,children:y&&M})}),a]})}),jX=Zw(pe.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function WX(n){return En("MuiTypography",n)}const PD=hn("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),XX={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},YX=ZW(),$X=n=>{const{align:e,gutterBottom:t,noWrap:i,paragraph:r,variant:a,classes:o}=n,c={root:["root",a,n.align!=="inherit"&&`align${ht(e)}`,t&&"gutterBottom",i&&"noWrap",r&&"paragraph"]};return Tn(c,WX,o)},QX=xt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${ht(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(Cn(({theme:n})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([t,i])=>t!=="inherit"&&i&&typeof i=="object").map(([t,i])=>({props:{variant:t},style:i})),...Object.entries(n.palette).filter(Us()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(((e=n.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${ht(t)}`},style:{color:(n.vars||n).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),UD={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Kc=K.forwardRef(function(e,t){const{color:i,...r}=Rn({props:e,name:"MuiTypography"}),a=!XX[i],o=YX({...r,...a&&{color:i}}),{align:c="inherit",className:f,component:p,gutterBottom:m=!1,noWrap:g=!1,paragraph:y=!1,variant:b="body1",variantMapping:_=UD,...E}=o,M={...o,align:c,color:i,className:f,component:p,gutterBottom:m,noWrap:g,paragraph:y,variant:b,variantMapping:_},x=p||(y?"p":_[b]||UD[b])||"span",D=$X(M);return pe.jsx(QX,{as:x,ref:t,className:Lt(D.root,f),...E,ownerState:M,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...E.style}})}),KX=n=>{const e=K.useRef({});return K.useEffect(()=>{e.current=n}),e.current};function LD(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function ZX(n={}){const{ignoreAccents:e=!0,ignoreCase:t=!0,limit:i,matchFrom:r="any",stringify:a,trim:o=!1}=n;return(c,{inputValue:f,getOptionLabel:p})=>{let m=o?f.trim():f;t&&(m=m.toLowerCase()),e&&(m=LD(m));const g=m?c.filter(y=>{let b=(a||p)(y);return t&&(b=b.toLowerCase()),e&&(b=LD(b)),r==="start"?b.startsWith(m):b.includes(m)}):c;return typeof i=="number"?g.slice(0,i):g}}const JX=ZX(),eY=5,tY=n=>{var e;return n.current!==null&&((e=n.current.parentElement)==null?void 0:e.contains(document.activeElement))},nY=[];function ID(n,e,t,i){if(e||n==null||i)return"";const r=t(n);return typeof r=="string"?r:""}function iY(n){const{unstable_isActiveElementInListbox:e=tY,unstable_classNamePrefix:t="Mui",autoComplete:i=!1,autoHighlight:r=!1,autoSelect:a=!1,blurOnSelect:o=!1,clearOnBlur:c=!n.freeSolo,clearOnEscape:f=!1,componentName:p="useAutocomplete",defaultValue:m=n.multiple?nY:null,disableClearable:g=!1,disableCloseOnSelect:y=!1,disabled:b,disabledItemsFocusable:_=!1,disableListWrap:E=!1,filterOptions:M=JX,filterSelectedOptions:x=!1,freeSolo:D=!1,getOptionDisabled:A,getOptionKey:T,getOptionLabel:O=Ve=>Ve.label??Ve,groupBy:N,handleHomeEndKeys:z=!n.freeSolo,id:F,includeInputInList:P=!1,inputValue:w,isOptionEqualToValue:L=(Ve,je)=>Ve===je,multiple:H=!1,onChange:V,onClose:G,onHighlightChange:$,onInputChange:B,onOpen:j,open:q,openOnFocus:Q=!1,options:W,readOnly:ie=!1,renderValue:le,selectOnFocus:he=!n.freeSolo,value:ae}=n,se=Km(F);let me=O;me=Ve=>{const je=O(Ve);return typeof je!="string"?String(je):je};const xe=K.useRef(!1),ke=K.useRef(!0),Qe=K.useRef(null),Ee=K.useRef(null),[Ge,et]=K.useState(null),[nt,J]=K.useState(-1),We=r?0:-1,Re=K.useRef(We),ze=K.useRef(ID(m??ae,H,me)).current,[ve,ot]=ov({controlled:ae,default:m,name:p}),[Ae,te]=ov({controlled:w,default:ze,name:p,state:"inputValue"}),[Y,be]=K.useState(!1),we=K.useCallback((Ve,je,Et)=>{if(!(H?ve.length<je.length:je!==null)&&!c)return;const Z=ID(je,H,me,le);Ae!==Z&&(te(Z),B&&B(Ve,Z,Et))},[me,Ae,H,B,te,c,ve,le]),[Xe,Le]=ov({controlled:q,default:!1,name:p,state:"open"}),[ct,at]=K.useState(!0),bt=!H&&ve!=null&&Ae===me(ve),St=Xe&&!ie,Be=St?M(W.filter(Ve=>!(x&&(H?ve:[ve]).some(je=>je!==null&&L(Ve,je)))),{inputValue:bt&&ct?"":Ae,getOptionLabel:me}):[],ut=KX({filteredOptions:Be,value:ve,inputValue:Ae});K.useEffect(()=>{const Ve=ve!==ut.value;Y&&!Ve||D&&!Ve||we(null,ve,"reset")},[ve,we,Y,ut.value,D]);const _t=Xe&&Be.length>0&&!ie,Mt=sl(Ve=>{if(Ve===-1)Qe.current.focus();else{const je=le?"data-item-index":"data-tag-index";Ge.querySelector(`[${je}="${Ve}"]`).focus()}});K.useEffect(()=>{H&&nt>ve.length-1&&(J(-1),Mt(-1))},[ve,H,nt,Mt]);function qe(Ve,je){if(!Ee.current||Ve<0||Ve>=Be.length)return-1;let Et=Ve;for(;;){const Vt=Ee.current.querySelector(`[data-option-index="${Et}"]`),Z=_?!1:!Vt||Vt.disabled||Vt.getAttribute("aria-disabled")==="true";if(Vt&&Vt.hasAttribute("tabindex")&&!Z)return Et;if(je==="next"?Et=(Et+1)%Be.length:Et=(Et-1+Be.length)%Be.length,Et===Ve)return-1}}const oe=sl(({event:Ve,index:je,reason:Et})=>{if(Re.current=je,je===-1?Qe.current.removeAttribute("aria-activedescendant"):Qe.current.setAttribute("aria-activedescendant",`${se}-option-${je}`),$&&["mouse","keyboard","touch"].includes(Et)&&$(Ve,je===-1?null:Be[je],Et),!Ee.current)return;const Vt=Ee.current.querySelector(`[role="option"].${t}-focused`);Vt&&(Vt.classList.remove(`${t}-focused`),Vt.classList.remove(`${t}-focusVisible`));let Z=Ee.current;if(Ee.current.getAttribute("role")!=="listbox"&&(Z=Ee.current.parentElement.querySelector('[role="listbox"]')),!Z)return;if(je===-1){Z.scrollTop=0;return}const de=Ee.current.querySelector(`[data-option-index="${je}"]`);if(de&&(de.classList.add(`${t}-focused`),Et==="keyboard"&&de.classList.add(`${t}-focusVisible`),Z.scrollHeight>Z.clientHeight&&Et!=="mouse"&&Et!=="touch")){const Te=de,De=Z.clientHeight+Z.scrollTop,Se=Te.offsetTop+Te.offsetHeight;Se>De?Z.scrollTop=Se-Z.clientHeight:Te.offsetTop-Te.offsetHeight*(N?1.3:0)<Z.scrollTop&&(Z.scrollTop=Te.offsetTop-Te.offsetHeight*(N?1.3:0))}}),Oe=sl(({event:Ve,diff:je,direction:Et="next",reason:Vt})=>{if(!St)return;const de=qe((()=>{const Te=Be.length-1;if(je==="reset")return We;if(je==="start")return 0;if(je==="end")return Te;const De=Re.current+je;return De<0?De===-1&&P?-1:E&&Re.current!==-1||Math.abs(je)>1?0:Te:De>Te?De===Te+1&&P?-1:E||Math.abs(je)>1?Te:0:De})(),Et);if(oe({index:de,reason:Vt,event:Ve}),i&&je!=="reset")if(de===-1)Qe.current.value=Ae;else{const Te=me(Be[de]);Qe.current.value=Te,Te.toLowerCase().indexOf(Ae.toLowerCase())===0&&Ae.length>0&&Qe.current.setSelectionRange(Ae.length,Te.length)}}),ft=()=>{const Ve=(je,Et)=>{const Vt=je?me(je):"",Z=Et?me(Et):"";return Vt===Z};if(Re.current!==-1&&ut.filteredOptions&&ut.filteredOptions.length!==Be.length&&ut.inputValue===Ae&&(H?ve.length===ut.value.length&&ut.value.every((je,Et)=>me(ve[Et])===me(je)):Ve(ut.value,ve))){const je=ut.filteredOptions[Re.current];if(je)return Be.findIndex(Et=>me(Et)===me(je))}return-1},fe=K.useCallback(()=>{if(!St)return;const Ve=ft();if(Ve!==-1){Re.current=Ve;return}const je=H?ve[0]:ve;if(Be.length===0||je==null){Oe({diff:"reset"});return}if(Ee.current){if(je!=null){const Et=Be[Re.current];if(H&&Et&&ve.findIndex(Z=>L(Et,Z))!==-1)return;const Vt=Be.findIndex(Z=>L(Z,je));Vt===-1?Oe({diff:"reset"}):oe({index:Vt});return}if(Re.current>=Be.length-1){oe({index:Be.length-1});return}oe({index:Re.current})}},[Be.length,H?!1:ve,x,Oe,oe,St,Ae,H]),st=sl(Ve=>{dA(Ee,Ve),Ve&&fe()});K.useEffect(()=>{fe()},[fe]);const Ne=Ve=>{Xe||(Le(!0),at(!0),j&&j(Ve))},Ye=(Ve,je)=>{Xe&&(Le(!1),G&&G(Ve,je))},pt=(Ve,je,Et,Vt)=>{if(H){if(ve.length===je.length&&ve.every((Z,de)=>Z===je[de]))return}else if(ve===je)return;V&&V(Ve,je,Et,Vt),ot(je)},mt=K.useRef(!1),Ot=(Ve,je,Et="selectOption",Vt="options")=>{let Z=Et,de=je;if(H){de=Array.isArray(ve)?ve.slice():[];const Te=de.findIndex(De=>L(je,De));Te===-1?de.push(je):Vt!=="freeSolo"&&(de.splice(Te,1),Z="removeOption")}we(Ve,de,Z),pt(Ve,de,Z,{option:je}),!y&&(!Ve||!Ve.ctrlKey&&!Ve.metaKey)&&Ye(Ve,Z),(o===!0||o==="touch"&&mt.current||o==="mouse"&&!mt.current)&&Qe.current.blur()};function Zt(Ve,je){if(Ve===-1)return-1;let Et=Ve;for(;;){if(je==="next"&&Et===ve.length||je==="previous"&&Et===-1)return-1;const Vt=le?"data-item-index":"data-tag-index",Z=Ge.querySelector(`[${Vt}="${Et}"]`);if(!Z||!Z.hasAttribute("tabindex")||Z.disabled||Z.getAttribute("aria-disabled")==="true")Et+=je==="next"?1:-1;else return Et}}const Sn=(Ve,je)=>{if(!H)return;Ae===""&&Ye(Ve,"toggleInput");let Et=nt;nt===-1?Ae===""&&je==="previous"&&(Et=ve.length-1):(Et+=je==="next"?1:-1,Et<0&&(Et=0),Et===ve.length&&(Et=-1)),Et=Zt(Et,je),J(Et),Mt(Et)},qt=Ve=>{xe.current=!0,te(""),B&&B(Ve,"","clear"),pt(Ve,H?[]:null,"clear")},vi=Ve=>je=>{if(Ve.onKeyDown&&Ve.onKeyDown(je),!je.defaultMuiPrevented&&(nt!==-1&&!["ArrowLeft","ArrowRight"].includes(je.key)&&(J(-1),Mt(-1)),je.which!==229))switch(je.key){case"Home":St&&z&&(je.preventDefault(),Oe({diff:"start",direction:"next",reason:"keyboard",event:je}));break;case"End":St&&z&&(je.preventDefault(),Oe({diff:"end",direction:"previous",reason:"keyboard",event:je}));break;case"PageUp":je.preventDefault(),Oe({diff:-5,direction:"previous",reason:"keyboard",event:je}),Ne(je);break;case"PageDown":je.preventDefault(),Oe({diff:eY,direction:"next",reason:"keyboard",event:je}),Ne(je);break;case"ArrowDown":je.preventDefault(),Oe({diff:1,direction:"next",reason:"keyboard",event:je}),Ne(je);break;case"ArrowUp":je.preventDefault(),Oe({diff:-1,direction:"previous",reason:"keyboard",event:je}),Ne(je);break;case"ArrowLeft":!H&&le?Mt(0):Sn(je,"previous");break;case"ArrowRight":!H&&le?Mt(-1):Sn(je,"next");break;case"Enter":if(Re.current!==-1&&St){const Et=Be[Re.current],Vt=A?A(Et):!1;if(je.preventDefault(),Vt)return;Ot(je,Et,"selectOption"),i&&Qe.current.setSelectionRange(Qe.current.value.length,Qe.current.value.length)}else D&&Ae!==""&&bt===!1&&(H&&je.preventDefault(),Ot(je,Ae,"createOption","freeSolo"));break;case"Escape":St?(je.preventDefault(),je.stopPropagation(),Ye(je,"escape")):f&&(Ae!==""||H&&ve.length>0||le)&&(je.preventDefault(),je.stopPropagation(),qt(je));break;case"Backspace":if(H&&!ie&&Ae===""&&ve.length>0){const Et=nt===-1?ve.length-1:nt,Vt=ve.slice();Vt.splice(Et,1),pt(je,Vt,"removeOption",{option:ve[Et]})}!H&&le&&!ie&&(ot(null),Mt(-1));break;case"Delete":if(H&&!ie&&Ae===""&&ve.length>0&&nt!==-1){const Et=nt,Vt=ve.slice();Vt.splice(Et,1),pt(je,Vt,"removeOption",{option:ve[Et]})}!H&&le&&!ie&&(ot(null),Mt(-1));break}},$n=Ve=>{be(!0),Q&&!xe.current&&Ne(Ve)},Qn=Ve=>{if(e(Ee)){Qe.current.focus();return}be(!1),ke.current=!0,xe.current=!1,a&&Re.current!==-1&&St?Ot(Ve,Be[Re.current],"blur"):a&&D&&Ae!==""?Ot(Ve,Ae,"blur","freeSolo"):c&&we(Ve,ve,"blur"),Ye(Ve,"blur")},di=Ve=>{const je=Ve.target.value;Ae!==je&&(te(je),at(!1),B&&B(Ve,je,"input")),je===""?!g&&!H&&pt(Ve,null,"clear"):Ne(Ve)},Ei=Ve=>{const je=Number(Ve.currentTarget.getAttribute("data-option-index"));Re.current!==je&&oe({event:Ve,index:je,reason:"mouse"})},nr=Ve=>{oe({event:Ve,index:Number(Ve.currentTarget.getAttribute("data-option-index")),reason:"touch"}),mt.current=!0},Ao=Ve=>{const je=Number(Ve.currentTarget.getAttribute("data-option-index"));Ot(Ve,Be[je],"selectOption"),mt.current=!1},Rr=Ve=>je=>{const Et=ve.slice();Et.splice(Ve,1),pt(je,Et,"removeOption",{option:ve[Ve]})},ir=Ve=>{pt(Ve,null,"removeOption",{option:ve})},rr=Ve=>{Xe?Ye(Ve,"toggleInput"):Ne(Ve)},Qt=Ve=>{Ve.currentTarget.contains(Ve.target)&&Ve.target.getAttribute("id")!==se&&Ve.preventDefault()},Fn=Ve=>{Ve.currentTarget.contains(Ve.target)&&(Qe.current.focus(),he&&ke.current&&Qe.current.selectionEnd-Qe.current.selectionStart===0&&Qe.current.select(),ke.current=!1)},zi=Ve=>{!b&&(Ae===""||!Xe)&&rr(Ve)};let ia=D&&Ae.length>0;ia=ia||(H?ve.length>0:ve!==null);let ra=Be;return N&&(ra=Be.reduce((Ve,je,Et)=>{const Vt=N(je);return Ve.length>0&&Ve[Ve.length-1].group===Vt?Ve[Ve.length-1].options.push(je):Ve.push({key:Et,index:Et,group:Vt,options:[je]}),Ve},[])),b&&Y&&Qn(),{getRootProps:(Ve={})=>({...Ve,onKeyDown:vi(Ve),onMouseDown:Qt,onClick:Fn}),getInputLabelProps:()=>({id:`${se}-label`,htmlFor:se}),getInputProps:()=>({id:se,value:Ae,onBlur:Qn,onFocus:$n,onChange:di,onMouseDown:zi,"aria-activedescendant":St?"":null,"aria-autocomplete":i?"both":"list","aria-controls":_t?`${se}-listbox`:void 0,"aria-expanded":_t,autoComplete:"off",ref:Qe,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:b}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:qt}),getItemProps:({index:Ve=0}={})=>({...H&&{key:Ve},...le?{"data-item-index":Ve}:{"data-tag-index":Ve},tabIndex:-1,...!ie&&{onDelete:H?Rr(Ve):ir}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:rr}),getTagProps:({index:Ve})=>({key:Ve,"data-tag-index":Ve,tabIndex:-1,...!ie&&{onDelete:Rr(Ve)}}),getListboxProps:()=>({role:"listbox",id:`${se}-listbox`,"aria-labelledby":`${se}-label`,ref:st,onMouseDown:Ve=>{Ve.preventDefault()}}),getOptionProps:({index:Ve,option:je})=>{const Et=(H?ve:[ve]).some(Z=>Z!=null&&L(je,Z)),Vt=A?A(je):!1;return{key:(T==null?void 0:T(je))??me(je),tabIndex:-1,role:"option",id:`${se}-option-${Ve}`,onMouseMove:Ei,onClick:Ao,onTouchStart:nr,"data-option-index":Ve,"aria-disabled":Vt,"aria-selected":Et}},id:se,inputValue:Ae,value:ve,dirty:ia,expanded:St&&Ge,popupOpen:St,focused:Y||nt!==-1,anchorEl:Ge,setAnchorEl:et,focusedItem:nt,focusedTag:nt,groupedOptions:ra}}var hs="top",_o="bottom",Mo="right",ps="left",rC="auto",g0=[hs,_o,Mo,ps],Im="start",Hv="end",rY="clippingParents",PL="viewport",Ny="popper",aY="reference",zD=g0.reduce(function(n,e){return n.concat([e+"-"+Im,e+"-"+Hv])},[]),UL=[].concat(g0,[rC]).reduce(function(n,e){return n.concat([e,e+"-"+Im,e+"-"+Hv])},[]),sY="beforeRead",oY="read",lY="afterRead",cY="beforeMain",uY="main",fY="afterMain",dY="beforeWrite",hY="write",pY="afterWrite",mY=[sY,oY,lY,cY,uY,fY,dY,hY,pY];function oc(n){return n?(n.nodeName||"").toLowerCase():null}function Vs(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function vh(n){var e=Vs(n).Element;return n instanceof e||n instanceof Element}function bo(n){var e=Vs(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function aC(n){if(typeof ShadowRoot>"u")return!1;var e=Vs(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function gY(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},a=e.elements[t];!bo(a)||!oc(a)||(Object.assign(a.style,i),Object.keys(r).forEach(function(o){var c=r[o];c===!1?a.removeAttribute(o):a.setAttribute(o,c===!0?"":c)}))})}function yY(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],a=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),c=o.reduce(function(f,p){return f[p]="",f},{});!bo(r)||!oc(r)||(Object.assign(r.style,c),Object.keys(a).forEach(function(f){r.removeAttribute(f)}))})}}const vY={name:"applyStyles",enabled:!0,phase:"write",fn:gY,effect:yY,requires:["computeStyles"]};function nc(n){return n.split("-")[0]}var eh=Math.max,O_=Math.min,zm=Math.round;function vA(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function LL(){return!/^((?!chrome|android).)*safari/i.test(vA())}function Bm(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),r=1,a=1;e&&bo(n)&&(r=n.offsetWidth>0&&zm(i.width)/n.offsetWidth||1,a=n.offsetHeight>0&&zm(i.height)/n.offsetHeight||1);var o=vh(n)?Vs(n):window,c=o.visualViewport,f=!LL()&&t,p=(i.left+(f&&c?c.offsetLeft:0))/r,m=(i.top+(f&&c?c.offsetTop:0))/a,g=i.width/r,y=i.height/a;return{width:g,height:y,top:m,right:p+g,bottom:m+y,left:p,x:p,y:m}}function sC(n){var e=Bm(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function IL(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&aC(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function su(n){return Vs(n).getComputedStyle(n)}function bY(n){return["table","td","th"].indexOf(oc(n))>=0}function Cf(n){return((vh(n)?n.ownerDocument:n.document)||window.document).documentElement}function j1(n){return oc(n)==="html"?n:n.assignedSlot||n.parentNode||(aC(n)?n.host:null)||Cf(n)}function BD(n){return!bo(n)||su(n).position==="fixed"?null:n.offsetParent}function xY(n){var e=/firefox/i.test(vA()),t=/Trident/i.test(vA());if(t&&bo(n)){var i=su(n);if(i.position==="fixed")return null}var r=j1(n);for(aC(r)&&(r=r.host);bo(r)&&["html","body"].indexOf(oc(r))<0;){var a=su(r);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return r;r=r.parentNode}return null}function y0(n){for(var e=Vs(n),t=BD(n);t&&bY(t)&&su(t).position==="static";)t=BD(t);return t&&(oc(t)==="html"||oc(t)==="body"&&su(t).position==="static")?e:t||xY(n)||e}function oC(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function lv(n,e,t){return eh(n,O_(e,t))}function SY(n,e,t){var i=lv(n,e,t);return i>t?t:i}function zL(){return{top:0,right:0,bottom:0,left:0}}function BL(n){return Object.assign({},zL(),n)}function FL(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var _Y=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,BL(typeof e!="number"?e:FL(e,g0))};function MY(n){var e,t=n.state,i=n.name,r=n.options,a=t.elements.arrow,o=t.modifiersData.popperOffsets,c=nc(t.placement),f=oC(c),p=[ps,Mo].indexOf(c)>=0,m=p?"height":"width";if(!(!a||!o)){var g=_Y(r.padding,t),y=sC(a),b=f==="y"?hs:ps,_=f==="y"?_o:Mo,E=t.rects.reference[m]+t.rects.reference[f]-o[f]-t.rects.popper[m],M=o[f]-t.rects.reference[f],x=y0(a),D=x?f==="y"?x.clientHeight||0:x.clientWidth||0:0,A=E/2-M/2,T=g[b],O=D-y[m]-g[_],N=D/2-y[m]/2+A,z=lv(T,N,O),F=f;t.modifiersData[i]=(e={},e[F]=z,e.centerOffset=z-N,e)}}function EY(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||IL(e.elements.popper,r)&&(e.elements.arrow=r))}const TY={name:"arrow",enabled:!0,phase:"main",fn:MY,effect:EY,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fm(n){return n.split("-")[1]}var AY={top:"auto",right:"auto",bottom:"auto",left:"auto"};function wY(n,e){var t=n.x,i=n.y,r=e.devicePixelRatio||1;return{x:zm(t*r)/r||0,y:zm(i*r)/r||0}}function FD(n){var e,t=n.popper,i=n.popperRect,r=n.placement,a=n.variation,o=n.offsets,c=n.position,f=n.gpuAcceleration,p=n.adaptive,m=n.roundOffsets,g=n.isFixed,y=o.x,b=y===void 0?0:y,_=o.y,E=_===void 0?0:_,M=typeof m=="function"?m({x:b,y:E}):{x:b,y:E};b=M.x,E=M.y;var x=o.hasOwnProperty("x"),D=o.hasOwnProperty("y"),A=ps,T=hs,O=window;if(p){var N=y0(t),z="clientHeight",F="clientWidth";if(N===Vs(t)&&(N=Cf(t),su(N).position!=="static"&&c==="absolute"&&(z="scrollHeight",F="scrollWidth")),N=N,r===hs||(r===ps||r===Mo)&&a===Hv){T=_o;var P=g&&N===O&&O.visualViewport?O.visualViewport.height:N[z];E-=P-i.height,E*=f?1:-1}if(r===ps||(r===hs||r===_o)&&a===Hv){A=Mo;var w=g&&N===O&&O.visualViewport?O.visualViewport.width:N[F];b-=w-i.width,b*=f?1:-1}}var L=Object.assign({position:c},p&&AY),H=m===!0?wY({x:b,y:E},Vs(t)):{x:b,y:E};if(b=H.x,E=H.y,f){var V;return Object.assign({},L,(V={},V[T]=D?"0":"",V[A]=x?"0":"",V.transform=(O.devicePixelRatio||1)<=1?"translate("+b+"px, "+E+"px)":"translate3d("+b+"px, "+E+"px, 0)",V))}return Object.assign({},L,(e={},e[T]=D?E+"px":"",e[A]=x?b+"px":"",e.transform="",e))}function CY(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,a=t.adaptive,o=a===void 0?!0:a,c=t.roundOffsets,f=c===void 0?!0:c,p={placement:nc(e.placement),variation:Fm(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,FD(Object.assign({},p,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,FD(Object.assign({},p,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const RY={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:CY,data:{}};var tS={passive:!0};function OY(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,a=r===void 0?!0:r,o=i.resize,c=o===void 0?!0:o,f=Vs(e.elements.popper),p=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&p.forEach(function(m){m.addEventListener("scroll",t.update,tS)}),c&&f.addEventListener("resize",t.update,tS),function(){a&&p.forEach(function(m){m.removeEventListener("scroll",t.update,tS)}),c&&f.removeEventListener("resize",t.update,tS)}}const DY={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:OY,data:{}};var NY={left:"right",right:"left",bottom:"top",top:"bottom"};function AS(n){return n.replace(/left|right|bottom|top/g,function(e){return NY[e]})}var PY={start:"end",end:"start"};function HD(n){return n.replace(/start|end/g,function(e){return PY[e]})}function lC(n){var e=Vs(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function cC(n){return Bm(Cf(n)).left+lC(n).scrollLeft}function UY(n,e){var t=Vs(n),i=Cf(n),r=t.visualViewport,a=i.clientWidth,o=i.clientHeight,c=0,f=0;if(r){a=r.width,o=r.height;var p=LL();(p||!p&&e==="fixed")&&(c=r.offsetLeft,f=r.offsetTop)}return{width:a,height:o,x:c+cC(n),y:f}}function LY(n){var e,t=Cf(n),i=lC(n),r=(e=n.ownerDocument)==null?void 0:e.body,a=eh(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=eh(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),c=-i.scrollLeft+cC(n),f=-i.scrollTop;return su(r||t).direction==="rtl"&&(c+=eh(t.clientWidth,r?r.clientWidth:0)-a),{width:a,height:o,x:c,y:f}}function uC(n){var e=su(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function HL(n){return["html","body","#document"].indexOf(oc(n))>=0?n.ownerDocument.body:bo(n)&&uC(n)?n:HL(j1(n))}function cv(n,e){var t;e===void 0&&(e=[]);var i=HL(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),a=Vs(i),o=r?[a].concat(a.visualViewport||[],uC(i)?i:[]):i,c=e.concat(o);return r?c:c.concat(cv(j1(o)))}function bA(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function IY(n,e){var t=Bm(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function VD(n,e,t){return e===PL?bA(UY(n,t)):vh(e)?IY(e,t):bA(LY(Cf(n)))}function zY(n){var e=cv(j1(n)),t=["absolute","fixed"].indexOf(su(n).position)>=0,i=t&&bo(n)?y0(n):n;return vh(i)?e.filter(function(r){return vh(r)&&IL(r,i)&&oc(r)!=="body"}):[]}function BY(n,e,t,i){var r=e==="clippingParents"?zY(n):[].concat(e),a=[].concat(r,[t]),o=a[0],c=a.reduce(function(f,p){var m=VD(n,p,i);return f.top=eh(m.top,f.top),f.right=O_(m.right,f.right),f.bottom=O_(m.bottom,f.bottom),f.left=eh(m.left,f.left),f},VD(n,o,i));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function VL(n){var e=n.reference,t=n.element,i=n.placement,r=i?nc(i):null,a=i?Fm(i):null,o=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,f;switch(r){case hs:f={x:o,y:e.y-t.height};break;case _o:f={x:o,y:e.y+e.height};break;case Mo:f={x:e.x+e.width,y:c};break;case ps:f={x:e.x-t.width,y:c};break;default:f={x:e.x,y:e.y}}var p=r?oC(r):null;if(p!=null){var m=p==="y"?"height":"width";switch(a){case Im:f[p]=f[p]-(e[m]/2-t[m]/2);break;case Hv:f[p]=f[p]+(e[m]/2-t[m]/2);break}}return f}function Vv(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,a=t.strategy,o=a===void 0?n.strategy:a,c=t.boundary,f=c===void 0?rY:c,p=t.rootBoundary,m=p===void 0?PL:p,g=t.elementContext,y=g===void 0?Ny:g,b=t.altBoundary,_=b===void 0?!1:b,E=t.padding,M=E===void 0?0:E,x=BL(typeof M!="number"?M:FL(M,g0)),D=y===Ny?aY:Ny,A=n.rects.popper,T=n.elements[_?D:y],O=BY(vh(T)?T:T.contextElement||Cf(n.elements.popper),f,m,o),N=Bm(n.elements.reference),z=VL({reference:N,element:A,placement:r}),F=bA(Object.assign({},A,z)),P=y===Ny?F:N,w={top:O.top-P.top+x.top,bottom:P.bottom-O.bottom+x.bottom,left:O.left-P.left+x.left,right:P.right-O.right+x.right},L=n.modifiersData.offset;if(y===Ny&&L){var H=L[r];Object.keys(w).forEach(function(V){var G=[Mo,_o].indexOf(V)>=0?1:-1,$=[hs,_o].indexOf(V)>=0?"y":"x";w[V]+=H[$]*G})}return w}function FY(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,a=t.rootBoundary,o=t.padding,c=t.flipVariations,f=t.allowedAutoPlacements,p=f===void 0?UL:f,m=Fm(i),g=m?c?zD:zD.filter(function(_){return Fm(_)===m}):g0,y=g.filter(function(_){return p.indexOf(_)>=0});y.length===0&&(y=g);var b=y.reduce(function(_,E){return _[E]=Vv(n,{placement:E,boundary:r,rootBoundary:a,padding:o})[nc(E)],_},{});return Object.keys(b).sort(function(_,E){return b[_]-b[E]})}function HY(n){if(nc(n)===rC)return[];var e=AS(n);return[HD(n),e,HD(e)]}function VY(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,a=r===void 0?!0:r,o=t.altAxis,c=o===void 0?!0:o,f=t.fallbackPlacements,p=t.padding,m=t.boundary,g=t.rootBoundary,y=t.altBoundary,b=t.flipVariations,_=b===void 0?!0:b,E=t.allowedAutoPlacements,M=e.options.placement,x=nc(M),D=x===M,A=f||(D||!_?[AS(M)]:HY(M)),T=[M].concat(A).reduce(function(ae,se){return ae.concat(nc(se)===rC?FY(e,{placement:se,boundary:m,rootBoundary:g,padding:p,flipVariations:_,allowedAutoPlacements:E}):se)},[]),O=e.rects.reference,N=e.rects.popper,z=new Map,F=!0,P=T[0],w=0;w<T.length;w++){var L=T[w],H=nc(L),V=Fm(L)===Im,G=[hs,_o].indexOf(H)>=0,$=G?"width":"height",B=Vv(e,{placement:L,boundary:m,rootBoundary:g,altBoundary:y,padding:p}),j=G?V?Mo:ps:V?_o:hs;O[$]>N[$]&&(j=AS(j));var q=AS(j),Q=[];if(a&&Q.push(B[H]<=0),c&&Q.push(B[j]<=0,B[q]<=0),Q.every(function(ae){return ae})){P=L,F=!1;break}z.set(L,Q)}if(F)for(var W=_?3:1,ie=function(se){var me=T.find(function(xe){var ke=z.get(xe);if(ke)return ke.slice(0,se).every(function(Qe){return Qe})});if(me)return P=me,"break"},le=W;le>0;le--){var he=ie(le);if(he==="break")break}e.placement!==P&&(e.modifiersData[i]._skip=!0,e.placement=P,e.reset=!0)}}const kY={name:"flip",enabled:!0,phase:"main",fn:VY,requiresIfExists:["offset"],data:{_skip:!1}};function kD(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function GD(n){return[hs,Mo,_o,ps].some(function(e){return n[e]>=0})}function GY(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,a=e.modifiersData.preventOverflow,o=Vv(e,{elementContext:"reference"}),c=Vv(e,{altBoundary:!0}),f=kD(o,i),p=kD(c,r,a),m=GD(f),g=GD(p);e.modifiersData[t]={referenceClippingOffsets:f,popperEscapeOffsets:p,isReferenceHidden:m,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":g})}const qY={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:GY};function jY(n,e,t){var i=nc(n),r=[ps,hs].indexOf(i)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=a[0],c=a[1];return o=o||0,c=(c||0)*r,[ps,Mo].indexOf(i)>=0?{x:c,y:o}:{x:o,y:c}}function WY(n){var e=n.state,t=n.options,i=n.name,r=t.offset,a=r===void 0?[0,0]:r,o=UL.reduce(function(m,g){return m[g]=jY(g,e.rects,a),m},{}),c=o[e.placement],f=c.x,p=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=p),e.modifiersData[i]=o}const XY={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:WY};function YY(n){var e=n.state,t=n.name;e.modifiersData[t]=VL({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const $Y={name:"popperOffsets",enabled:!0,phase:"read",fn:YY,data:{}};function QY(n){return n==="x"?"y":"x"}function KY(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,a=r===void 0?!0:r,o=t.altAxis,c=o===void 0?!1:o,f=t.boundary,p=t.rootBoundary,m=t.altBoundary,g=t.padding,y=t.tether,b=y===void 0?!0:y,_=t.tetherOffset,E=_===void 0?0:_,M=Vv(e,{boundary:f,rootBoundary:p,padding:g,altBoundary:m}),x=nc(e.placement),D=Fm(e.placement),A=!D,T=oC(x),O=QY(T),N=e.modifiersData.popperOffsets,z=e.rects.reference,F=e.rects.popper,P=typeof E=="function"?E(Object.assign({},e.rects,{placement:e.placement})):E,w=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,H={x:0,y:0};if(N){if(a){var V,G=T==="y"?hs:ps,$=T==="y"?_o:Mo,B=T==="y"?"height":"width",j=N[T],q=j+M[G],Q=j-M[$],W=b?-F[B]/2:0,ie=D===Im?z[B]:F[B],le=D===Im?-F[B]:-z[B],he=e.elements.arrow,ae=b&&he?sC(he):{width:0,height:0},se=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:zL(),me=se[G],xe=se[$],ke=lv(0,z[B],ae[B]),Qe=A?z[B]/2-W-ke-me-w.mainAxis:ie-ke-me-w.mainAxis,Ee=A?-z[B]/2+W+ke+xe+w.mainAxis:le+ke+xe+w.mainAxis,Ge=e.elements.arrow&&y0(e.elements.arrow),et=Ge?T==="y"?Ge.clientTop||0:Ge.clientLeft||0:0,nt=(V=L==null?void 0:L[T])!=null?V:0,J=j+Qe-nt-et,We=j+Ee-nt,Re=lv(b?O_(q,J):q,j,b?eh(Q,We):Q);N[T]=Re,H[T]=Re-j}if(c){var ze,ve=T==="x"?hs:ps,ot=T==="x"?_o:Mo,Ae=N[O],te=O==="y"?"height":"width",Y=Ae+M[ve],be=Ae-M[ot],we=[hs,ps].indexOf(x)!==-1,Xe=(ze=L==null?void 0:L[O])!=null?ze:0,Le=we?Y:Ae-z[te]-F[te]-Xe+w.altAxis,ct=we?Ae+z[te]+F[te]-Xe-w.altAxis:be,at=b&&we?SY(Le,Ae,ct):lv(b?Le:Y,Ae,b?ct:be);N[O]=at,H[O]=at-Ae}e.modifiersData[i]=H}}const ZY={name:"preventOverflow",enabled:!0,phase:"main",fn:KY,requiresIfExists:["offset"]};function JY(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function e$(n){return n===Vs(n)||!bo(n)?lC(n):JY(n)}function t$(n){var e=n.getBoundingClientRect(),t=zm(e.width)/n.offsetWidth||1,i=zm(e.height)/n.offsetHeight||1;return t!==1||i!==1}function n$(n,e,t){t===void 0&&(t=!1);var i=bo(e),r=bo(e)&&t$(e),a=Cf(e),o=Bm(n,r,t),c={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(i||!i&&!t)&&((oc(e)!=="body"||uC(a))&&(c=e$(e)),bo(e)?(f=Bm(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):a&&(f.x=cC(a))),{x:o.left+c.scrollLeft-f.x,y:o.top+c.scrollTop-f.y,width:o.width,height:o.height}}function i$(n){var e=new Map,t=new Set,i=[];n.forEach(function(a){e.set(a.name,a)});function r(a){t.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(c){if(!t.has(c)){var f=e.get(c);f&&r(f)}}),i.push(a)}return n.forEach(function(a){t.has(a.name)||r(a)}),i}function r$(n){var e=i$(n);return mY.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function a$(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function s$(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var qD={placement:"bottom",modifiers:[],strategy:"absolute"};function jD(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function o$(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,a=r===void 0?qD:r;return function(c,f,p){p===void 0&&(p=a);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},qD,a),modifiersData:{},elements:{reference:c,popper:f},attributes:{},styles:{}},g=[],y=!1,b={state:m,setOptions:function(x){var D=typeof x=="function"?x(m.options):x;E(),m.options=Object.assign({},a,m.options,D),m.scrollParents={reference:vh(c)?cv(c):c.contextElement?cv(c.contextElement):[],popper:cv(f)};var A=r$(s$([].concat(i,m.options.modifiers)));return m.orderedModifiers=A.filter(function(T){return T.enabled}),_(),b.update()},forceUpdate:function(){if(!y){var x=m.elements,D=x.reference,A=x.popper;if(jD(D,A)){m.rects={reference:n$(D,y0(A),m.options.strategy==="fixed"),popper:sC(A)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(w){return m.modifiersData[w.name]=Object.assign({},w.data)});for(var T=0;T<m.orderedModifiers.length;T++){if(m.reset===!0){m.reset=!1,T=-1;continue}var O=m.orderedModifiers[T],N=O.fn,z=O.options,F=z===void 0?{}:z,P=O.name;typeof N=="function"&&(m=N({state:m,options:F,name:P,instance:b})||m)}}}},update:a$(function(){return new Promise(function(M){b.forceUpdate(),M(m)})}),destroy:function(){E(),y=!0}};if(!jD(c,f))return b;b.setOptions(p).then(function(M){!y&&p.onFirstUpdate&&p.onFirstUpdate(M)});function _(){m.orderedModifiers.forEach(function(M){var x=M.name,D=M.options,A=D===void 0?{}:D,T=M.effect;if(typeof T=="function"){var O=T({state:m,name:x,instance:b,options:A}),N=function(){};g.push(O||N)}})}function E(){g.forEach(function(M){return M()}),g=[]}return b}}var l$=[DY,$Y,RY,vY,XY,kY,ZY,TY,qY],c$=o$({defaultModifiers:l$});function kL(n){var g;const{elementType:e,externalSlotProps:t,ownerState:i,skipResolvingSlotProps:r=!1,...a}=n,o=r?{}:CL(t,i),{props:c,internalRef:f}=OL({...a,externalSlotProps:o}),p=mr(f,o==null?void 0:o.ref,(g=n.additionalProps)==null?void 0:g.ref);return wL(e,{...c,ref:p},i)}function Jm(n){var e;return parseInt(K.version,10)>=19?((e=n==null?void 0:n.props)==null?void 0:e.ref)||null:(n==null?void 0:n.ref)||null}function u$(n){return typeof n=="function"?n():n}const GL=K.forwardRef(function(e,t){const{children:i,container:r,disablePortal:a=!1}=e,[o,c]=K.useState(null),f=mr(K.isValidElement(i)?Jm(i):null,t);if(sc(()=>{a||c(u$(r)||document.body)},[r,a]),sc(()=>{if(o&&!a)return dA(t,o),()=>{dA(t,null)}},[t,o,a]),a){if(K.isValidElement(i)){const p={ref:f};return K.cloneElement(i,p)}return i}return o&&EL.createPortal(i,o)});function f$(n){return En("MuiPopper",n)}hn("MuiPopper",["root"]);function d$(n,e){if(e==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function xA(n){return typeof n=="function"?n():n}function h$(n){return n.nodeType!==void 0}const p$=n=>{const{classes:e}=n;return Tn({root:["root"]},f$,e)},m$={},g$=K.forwardRef(function(e,t){const{anchorEl:i,children:r,direction:a,disablePortal:o,modifiers:c,open:f,placement:p,popperOptions:m,popperRef:g,slotProps:y={},slots:b={},TransitionProps:_,ownerState:E,...M}=e,x=K.useRef(null),D=mr(x,t),A=K.useRef(null),T=mr(A,g),O=K.useRef(T);sc(()=>{O.current=T},[T]),K.useImperativeHandle(g,()=>A.current,[]);const N=d$(p,a),[z,F]=K.useState(N),[P,w]=K.useState(xA(i));K.useEffect(()=>{A.current&&A.current.forceUpdate()}),K.useEffect(()=>{i&&w(xA(i))},[i]),sc(()=>{if(!P||!f)return;const $=q=>{F(q.placement)};let B=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:q})=>{$(q)}}];c!=null&&(B=B.concat(c)),m&&m.modifiers!=null&&(B=B.concat(m.modifiers));const j=c$(P,x.current,{placement:N,...m,modifiers:B});return O.current(j),()=>{j.destroy(),O.current(null)}},[P,o,c,f,m,N]);const L={placement:z};_!==null&&(L.TransitionProps=_);const H=p$(e),V=b.root??"div",G=kL({elementType:V,externalSlotProps:y.root,externalForwardedProps:M,additionalProps:{role:"tooltip",ref:D},ownerState:e,className:H.root});return pe.jsx(V,{...G,children:typeof r=="function"?r(L):r})}),y$=K.forwardRef(function(e,t){const{anchorEl:i,children:r,container:a,direction:o="ltr",disablePortal:c=!1,keepMounted:f=!1,modifiers:p,open:m,placement:g="bottom",popperOptions:y=m$,popperRef:b,style:_,transition:E=!1,slotProps:M={},slots:x={},...D}=e,[A,T]=K.useState(!0),O=()=>{T(!1)},N=()=>{T(!0)};if(!f&&!m&&(!E||A))return null;let z;if(a)z=a;else if(i){const w=xA(i);z=w&&h$(w)?Hs(w).body:Hs(null).body}const F=!m&&f&&(!E||A)?"none":void 0,P=E?{in:m,onEnter:O,onExited:N}:void 0;return pe.jsx(GL,{disablePortal:c,container:z,children:pe.jsx(g$,{anchorEl:i,direction:o,disablePortal:c,modifiers:p,ref:t,open:E?!A:m,placement:g,popperOptions:y,popperRef:b,slotProps:M,slots:x,...D,style:{position:"fixed",top:0,left:0,display:F,..._},TransitionProps:P,children:r})})}),v$=xt(y$,{name:"MuiPopper",slot:"Root"})({}),qL=K.forwardRef(function(e,t){const i=$w(),r=Rn({props:e,name:"MuiPopper"}),{anchorEl:a,component:o,components:c,componentsProps:f,container:p,disablePortal:m,keepMounted:g,modifiers:y,open:b,placement:_,popperOptions:E,popperRef:M,transition:x,slots:D,slotProps:A,...T}=r,O=(D==null?void 0:D.root)??(c==null?void 0:c.Root),N={anchorEl:a,container:p,disablePortal:m,keepMounted:g,modifiers:y,open:b,placement:_,popperOptions:E,popperRef:M,transition:x,...T};return pe.jsx(v$,{as:o,direction:i?"rtl":"ltr",slots:{root:O},slotProps:A??f,...N,ref:t})});function b$(n){return En("MuiListSubheader",n)}hn("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const x$=n=>{const{classes:e,color:t,disableGutters:i,inset:r,disableSticky:a}=n,o={root:["root",t!=="default"&&`color${ht(t)}`,!i&&"gutters",r&&"inset",!a&&"sticky"]};return Tn(o,b$,e)},S$=xt("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="default"&&e[`color${ht(t.color)}`],!t.disableGutters&&e.gutters,t.inset&&e.inset,!t.disableSticky&&e.sticky]}})(Cn(({theme:n})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(n.vars||n).palette.text.secondary,fontFamily:n.typography.fontFamily,fontWeight:n.typography.fontWeightMedium,fontSize:n.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(n.vars||n).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.inset,style:{paddingLeft:72}},{props:({ownerState:e})=>!e.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(n.vars||n).palette.background.paper}}]}))),SA=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiListSubheader"}),{className:r,color:a="default",component:o="li",disableGutters:c=!1,disableSticky:f=!1,inset:p=!1,...m}=i,g={...i,color:a,component:o,disableGutters:c,disableSticky:f,inset:p},y=x$(g);return pe.jsx(S$,{as:o,className:Lt(y.root,r),ref:t,ownerState:g,...m})});SA&&(SA.muiSkipListHighlight=!0);const _$=Zw(pe.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function M$(n){return En("MuiChip",n)}const Mn=hn("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),E$=n=>{const{classes:e,disabled:t,size:i,color:r,iconColor:a,onDelete:o,clickable:c,variant:f}=n,p={root:["root",f,t&&"disabled",`size${ht(i)}`,`color${ht(r)}`,c&&"clickable",c&&`clickableColor${ht(r)}`,o&&"deletable",o&&`deletableColor${ht(r)}`,`${f}${ht(r)}`],label:["label",`label${ht(i)}`],avatar:["avatar",`avatar${ht(i)}`,`avatarColor${ht(r)}`],icon:["icon",`icon${ht(i)}`,`iconColor${ht(a)}`],deleteIcon:["deleteIcon",`deleteIcon${ht(i)}`,`deleteIconColor${ht(r)}`,`deleteIcon${ht(f)}Color${ht(r)}`]};return Tn(p,M$,e)},T$=xt("div",{name:"MuiChip",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{color:i,iconColor:r,clickable:a,onDelete:o,size:c,variant:f}=t;return[{[`& .${Mn.avatar}`]:e.avatar},{[`& .${Mn.avatar}`]:e[`avatar${ht(c)}`]},{[`& .${Mn.avatar}`]:e[`avatarColor${ht(i)}`]},{[`& .${Mn.icon}`]:e.icon},{[`& .${Mn.icon}`]:e[`icon${ht(c)}`]},{[`& .${Mn.icon}`]:e[`iconColor${ht(r)}`]},{[`& .${Mn.deleteIcon}`]:e.deleteIcon},{[`& .${Mn.deleteIcon}`]:e[`deleteIcon${ht(c)}`]},{[`& .${Mn.deleteIcon}`]:e[`deleteIconColor${ht(i)}`]},{[`& .${Mn.deleteIcon}`]:e[`deleteIcon${ht(f)}Color${ht(i)}`]},e.root,e[`size${ht(c)}`],e[`color${ht(i)}`],a&&e.clickable,a&&i!=="default"&&e[`clickableColor${ht(i)})`],o&&e.deletable,o&&i!=="default"&&e[`deletableColor${ht(i)}`],e[f],e[`${f}${ht(i)}`]]}})(Cn(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[700]:n.palette.grey[300];return{maxWidth:"100%",fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(n.vars||n).palette.text.primary,backgroundColor:(n.vars||n).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Mn.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Mn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:n.vars?n.vars.palette.Chip.defaultAvatarColor:e,fontSize:n.typography.pxToRem(12)},[`& .${Mn.avatarColorPrimary}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.dark},[`& .${Mn.avatarColorSecondary}`]:{color:(n.vars||n).palette.secondary.contrastText,backgroundColor:(n.vars||n).palette.secondary.dark},[`& .${Mn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)},[`& .${Mn.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Mn.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.26)`:yi(n.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.4)`:yi(n.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Mn.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Mn.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(n.palette).filter(Us(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(n.vars||n).palette[t].main,color:(n.vars||n).palette[t].contrastText,[`& .${Mn.deleteIcon}`]:{color:n.vars?`rgba(${n.vars.palette[t].contrastTextChannel} / 0.7)`:yi(n.palette[t].contrastText,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].contrastText}}}})),{props:t=>t.iconColor===t.color,style:{[`& .${Mn.icon}`]:{color:n.vars?n.vars.palette.Chip.defaultIconColor:e}}},{props:t=>t.iconColor===t.color&&t.color!=="default",style:{[`& .${Mn.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Mn.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:yi(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}}},...Object.entries(n.palette).filter(Us(["dark"])).map(([t])=>({props:{color:t,onDelete:!0},style:{[`&.${Mn.focusVisible}`]:{background:(n.vars||n).palette[t].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:yi(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)},[`&.${Mn.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:yi(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)},"&:active":{boxShadow:(n.vars||n).shadows[1]}}},...Object.entries(n.palette).filter(Us(["dark"])).map(([t])=>({props:{color:t,clickable:!0},style:{[`&:hover, &.${Mn.focusVisible}`]:{backgroundColor:(n.vars||n).palette[t].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:n.vars?`1px solid ${n.vars.palette.Chip.defaultBorder}`:`1px solid ${n.palette.mode==="light"?n.palette.grey[400]:n.palette.grey[700]}`,[`&.${Mn.clickable}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${Mn.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`& .${Mn.avatar}`]:{marginLeft:4},[`& .${Mn.avatarSmall}`]:{marginLeft:2},[`& .${Mn.icon}`]:{marginLeft:4},[`& .${Mn.iconSmall}`]:{marginLeft:2},[`& .${Mn.deleteIcon}`]:{marginRight:5},[`& .${Mn.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(n.palette).filter(Us()).map(([t])=>({props:{variant:"outlined",color:t},style:{color:(n.vars||n).palette[t].main,border:`1px solid ${n.vars?`rgba(${n.vars.palette[t].mainChannel} / 0.7)`:yi(n.palette[t].main,.7)}`,[`&.${Mn.clickable}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette[t].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:yi(n.palette[t].main,n.palette.action.hoverOpacity)},[`&.${Mn.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette[t].mainChannel} / ${n.vars.palette.action.focusOpacity})`:yi(n.palette[t].main,n.palette.action.focusOpacity)},[`& .${Mn.deleteIcon}`]:{color:n.vars?`rgba(${n.vars.palette[t].mainChannel} / 0.7)`:yi(n.palette[t].main,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].main}}}}))]}})),A$=xt("span",{name:"MuiChip",slot:"Label",overridesResolver:(n,e)=>{const{ownerState:t}=n,{size:i}=t;return[e.label,e[`label${ht(i)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function WD(n){return n.key==="Backspace"||n.key==="Delete"}const jL=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiChip"}),{avatar:r,className:a,clickable:o,color:c="default",component:f,deleteIcon:p,disabled:m=!1,icon:g,label:y,onClick:b,onDelete:_,onKeyDown:E,onKeyUp:M,size:x="medium",variant:D="filled",tabIndex:A,skipFocusWhenDisabled:T=!1,...O}=i,N=K.useRef(null),z=mr(N,t),F=Q=>{Q.stopPropagation(),_&&_(Q)},P=Q=>{Q.currentTarget===Q.target&&WD(Q)&&Q.preventDefault(),E&&E(Q)},w=Q=>{Q.currentTarget===Q.target&&_&&WD(Q)&&_(Q),M&&M(Q)},L=o!==!1&&b?!0:o,H=L||_?Fv:f||"div",V={...i,component:H,disabled:m,size:x,color:c,iconColor:K.isValidElement(g)&&g.props.color||c,onDelete:!!_,clickable:L,variant:D},G=E$(V),$=H===Fv?{component:f||"div",focusVisibleClassName:G.focusVisible,..._&&{disableRipple:!0}}:{};let B=null;_&&(B=p&&K.isValidElement(p)?K.cloneElement(p,{className:Lt(p.props.className,G.deleteIcon),onClick:F}):pe.jsx(_$,{className:G.deleteIcon,onClick:F}));let j=null;r&&K.isValidElement(r)&&(j=K.cloneElement(r,{className:Lt(G.avatar,r.props.className)}));let q=null;return g&&K.isValidElement(g)&&(q=K.cloneElement(g,{className:Lt(G.icon,g.props.className)})),pe.jsxs(T$,{as:H,className:Lt(G.root,a),disabled:L&&m?!0:void 0,onClick:b,onKeyDown:P,onKeyUp:w,ref:z,tabIndex:T&&m?-1:A,ownerState:V,...$,...O,children:[j||q,pe.jsx(A$,{className:G.label,ownerState:V,children:y}),B]})});function nS(n){return parseInt(n,10)||0}const w$={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function C$(n){for(const e in n)return!1;return!0}function XD(n){return C$(n)||n.outerHeightStyle===0&&!n.overflowing}const R$=K.forwardRef(function(e,t){const{onChange:i,maxRows:r,minRows:a=1,style:o,value:c,...f}=e,{current:p}=K.useRef(c!=null),m=K.useRef(null),g=mr(t,m),y=K.useRef(null),b=K.useRef(null),_=K.useCallback(()=>{const A=m.current,T=b.current;if(!A||!T)return;const N=ol(A).getComputedStyle(A);if(N.width==="0px")return{outerHeightStyle:0,overflowing:!1};T.style.width=N.width,T.value=A.value||e.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const z=N.boxSizing,F=nS(N.paddingBottom)+nS(N.paddingTop),P=nS(N.borderBottomWidth)+nS(N.borderTopWidth),w=T.scrollHeight;T.value="x";const L=T.scrollHeight;let H=w;a&&(H=Math.max(Number(a)*L,H)),r&&(H=Math.min(Number(r)*L,H)),H=Math.max(H,L);const V=H+(z==="border-box"?F+P:0),G=Math.abs(H-w)<=1;return{outerHeightStyle:V,overflowing:G}},[r,a,e.placeholder]),E=sl(()=>{const A=m.current,T=_();if(!A||!T||XD(T))return!1;const O=T.outerHeightStyle;return y.current!=null&&y.current!==O}),M=K.useCallback(()=>{const A=m.current,T=_();if(!A||!T||XD(T))return;const O=T.outerHeightStyle;y.current!==O&&(y.current=O,A.style.height=`${O}px`),A.style.overflow=T.overflowing?"hidden":""},[_]),x=K.useRef(-1);sc(()=>{const A=Jw(M),T=m==null?void 0:m.current;if(!T)return;const O=ol(T);O.addEventListener("resize",A);let N;return typeof ResizeObserver<"u"&&(N=new ResizeObserver(()=>{E()&&(N.unobserve(T),cancelAnimationFrame(x.current),M(),x.current=requestAnimationFrame(()=>{N.observe(T)}))}),N.observe(T)),()=>{A.clear(),cancelAnimationFrame(x.current),O.removeEventListener("resize",A),N&&N.disconnect()}},[_,M,E]),sc(()=>{M()});const D=A=>{p||M();const T=A.target,O=T.value.length,N=T.value.endsWith(`
`),z=T.selectionStart===O;N&&z&&T.setSelectionRange(O,O),i&&i(A)};return pe.jsxs(K.Fragment,{children:[pe.jsx("textarea",{value:c,onChange:D,ref:g,rows:a,style:o,...f}),pe.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:b,tabIndex:-1,style:{...w$.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function kv(n){return typeof n=="string"}function eg({props:n,states:e,muiFormControl:t}){return e.reduce((i,r)=>(i[r]=n[r],t&&typeof n[r]>"u"&&(i[r]=t[r]),i),{})}const fC=K.createContext(void 0);function tg(){return K.useContext(fC)}function YD(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function D_(n,e=!1){return n&&(YD(n.value)&&n.value!==""||e&&YD(n.defaultValue)&&n.defaultValue!=="")}function O$(n){return n.startAdornment}function D$(n){return En("MuiInputBase",n)}const Ds=hn("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var $D;const W1=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${ht(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},X1=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},N$=n=>{const{classes:e,color:t,disabled:i,error:r,endAdornment:a,focused:o,formControl:c,fullWidth:f,hiddenLabel:p,multiline:m,readOnly:g,size:y,startAdornment:b,type:_}=n,E={root:["root",`color${ht(t)}`,i&&"disabled",r&&"error",f&&"fullWidth",o&&"focused",c&&"formControl",y&&y!=="medium"&&`size${ht(y)}`,m&&"multiline",b&&"adornedStart",a&&"adornedEnd",p&&"hiddenLabel",g&&"readOnly"],input:["input",i&&"disabled",_==="search"&&"inputTypeSearch",m&&"inputMultiline",y==="small"&&"inputSizeSmall",p&&"inputHiddenLabel",b&&"inputAdornedStart",a&&"inputAdornedEnd",g&&"readOnly"]};return Tn(E,D$,e)},Y1=xt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:W1})(Cn(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ds.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),$1=xt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:X1})(Cn(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},i={opacity:"0 !important"},r=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ds.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":r,"&:focus::-moz-placeholder":r,"&:focus::-ms-input-placeholder":r},[`&.${Ds.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:a})=>!a.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:a})=>a.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),QD=KW({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),dC=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:a,autoFocus:o,className:c,color:f,components:p={},componentsProps:m={},defaultValue:g,disabled:y,disableInjectingGlobalStyles:b,endAdornment:_,error:E,fullWidth:M=!1,id:x,inputComponent:D="input",inputProps:A={},inputRef:T,margin:O,maxRows:N,minRows:z,multiline:F=!1,name:P,onBlur:w,onChange:L,onClick:H,onFocus:V,onKeyDown:G,onKeyUp:$,placeholder:B,readOnly:j,renderSuffix:q,rows:Q,size:W,slotProps:ie={},slots:le={},startAdornment:he,type:ae="text",value:se,...me}=i,xe=A.value!=null?A.value:se,{current:ke}=K.useRef(xe!=null),Qe=K.useRef(),Ee=K.useCallback(Be=>{},[]),Ge=mr(Qe,T,A.ref,Ee),[et,nt]=K.useState(!1),J=tg(),We=eg({props:i,muiFormControl:J,states:["color","disabled","error","hiddenLabel","size","required","filled"]});We.focused=J?J.focused:et,K.useEffect(()=>{!J&&y&&et&&(nt(!1),w&&w())},[J,y,et,w]);const Re=J&&J.onFilled,ze=J&&J.onEmpty,ve=K.useCallback(Be=>{D_(Be)?Re&&Re():ze&&ze()},[Re,ze]);sc(()=>{ke&&ve({value:xe})},[xe,ve,ke]);const ot=Be=>{V&&V(Be),A.onFocus&&A.onFocus(Be),J&&J.onFocus?J.onFocus(Be):nt(!0)},Ae=Be=>{w&&w(Be),A.onBlur&&A.onBlur(Be),J&&J.onBlur?J.onBlur(Be):nt(!1)},te=(Be,...ut)=>{if(!ke){const _t=Be.target||Qe.current;if(_t==null)throw new Error(ru(1));ve({value:_t.value})}A.onChange&&A.onChange(Be,...ut),L&&L(Be,...ut)};K.useEffect(()=>{ve(Qe.current)},[]);const Y=Be=>{Qe.current&&Be.currentTarget===Be.target&&Qe.current.focus(),H&&H(Be)};let be=D,we=A;F&&be==="input"&&(Q?we={type:void 0,minRows:Q,maxRows:Q,...we}:we={type:void 0,maxRows:N,minRows:z,...we},be=R$);const Xe=Be=>{ve(Be.animationName==="mui-auto-fill-cancel"?Qe.current:{value:"x"})};K.useEffect(()=>{J&&J.setAdornedStart(!!he)},[J,he]);const Le={...i,color:We.color||"primary",disabled:We.disabled,endAdornment:_,error:We.error,focused:We.focused,formControl:J,fullWidth:M,hiddenLabel:We.hiddenLabel,multiline:F,size:We.size,startAdornment:he,type:ae},ct=N$(Le),at=le.root||p.Root||Y1,bt=ie.root||m.root||{},St=le.input||p.Input||$1;return we={...we,...ie.input??m.input},pe.jsxs(K.Fragment,{children:[!b&&typeof QD=="function"&&($D||($D=pe.jsx(QD,{}))),pe.jsxs(at,{...bt,ref:t,onClick:Y,...me,...!kv(at)&&{ownerState:{...Le,...bt.ownerState}},className:Lt(ct.root,bt.className,c,j&&"MuiInputBase-readOnly"),children:[he,pe.jsx(fC.Provider,{value:null,children:pe.jsx(St,{"aria-invalid":We.error,"aria-describedby":r,autoComplete:a,autoFocus:o,defaultValue:g,disabled:We.disabled,id:x,onAnimationStart:Xe,name:P,placeholder:B,readOnly:j,required:We.required,rows:Q,value:xe,onKeyDown:G,onKeyUp:$,type:ae,...we,...!kv(St)&&{as:be,ownerState:{...Le,...we.ownerState}},ref:Ge,className:Lt(ct.input,we.className,j&&"MuiInputBase-readOnly"),onBlur:Ae,onChange:te,onFocus:ot})}),_,q?q({...We,startAdornment:he}):null]})]})});function P$(n){return En("MuiInput",n)}const df={...Ds,...hn("MuiInput",["root","underline","input"])};function U$(n){return En("MuiOutlinedInput",n)}const fo={...Ds,...hn("MuiOutlinedInput",["root","notchedOutline","input"])};function L$(n){return En("MuiFilledInput",n)}const Ns={...Ds,...hn("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},WL=Zw(pe.jsx("path",{d:"M7 10l5 5 5-5z"}));function I$(n){return En("MuiAutocomplete",n)}const mn=hn("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var KD,ZD;const z$=n=>{const{classes:e,disablePortal:t,expanded:i,focused:r,fullWidth:a,hasClearIcon:o,hasPopupIcon:c,inputFocused:f,popupOpen:p,size:m}=n,g={root:["root",i&&"expanded",r&&"focused",a&&"fullWidth",o&&"hasClearIcon",c&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",f&&"inputFocused"],tag:["tag",`tagSize${ht(m)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",p&&"popupIndicatorOpen"],popper:["popper",t&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Tn(g,I$,e)},B$=xt("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{fullWidth:i,hasClearIcon:r,hasPopupIcon:a,inputFocused:o,size:c}=t;return[{[`& .${mn.tag}`]:e.tag},{[`& .${mn.tag}`]:e[`tagSize${ht(c)}`]},{[`& .${mn.inputRoot}`]:e.inputRoot},{[`& .${mn.input}`]:e.input},{[`& .${mn.input}`]:o&&e.inputFocused},e.root,i&&e.fullWidth,a&&e.hasPopupIcon,r&&e.hasClearIcon]}})({[`&.${mn.focused} .${mn.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${mn.clearIndicator}`]:{visibility:"visible"}},[`& .${mn.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${mn.inputRoot}`]:{[`.${mn.hasPopupIcon}&, .${mn.hasClearIcon}&`]:{paddingRight:30},[`.${mn.hasPopupIcon}.${mn.hasClearIcon}&`]:{paddingRight:56},[`& .${mn.input}`]:{width:0,minWidth:30}},[`& .${df.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${df.root}.${Ds.sizeSmall}`]:{[`& .${df.input}`]:{padding:"2px 4px 3px 0"}},[`& .${fo.root}`]:{padding:9,[`.${mn.hasPopupIcon}&, .${mn.hasClearIcon}&`]:{paddingRight:39},[`.${mn.hasPopupIcon}.${mn.hasClearIcon}&`]:{paddingRight:65},[`& .${mn.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${mn.endAdornment}`]:{right:9}},[`& .${fo.root}.${Ds.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${mn.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Ns.root}`]:{paddingTop:19,paddingLeft:8,[`.${mn.hasPopupIcon}&, .${mn.hasClearIcon}&`]:{paddingRight:39},[`.${mn.hasPopupIcon}.${mn.hasClearIcon}&`]:{paddingRight:65},[`& .${Ns.input}`]:{padding:"7px 4px"},[`& .${mn.endAdornment}`]:{right:9}},[`& .${Ns.root}.${Ds.sizeSmall}`]:{paddingBottom:1,[`& .${Ns.input}`]:{padding:"2.5px 4px"}},[`& .${Ds.hiddenLabel}`]:{paddingTop:8},[`& .${Ns.root}.${Ds.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${mn.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Ns.root}.${Ds.hiddenLabel}.${Ds.sizeSmall}`]:{[`& .${mn.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${mn.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${mn.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${mn.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${mn.inputRoot}`]:{flexWrap:"wrap"}}}]}),F$=xt("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),H$=xt(NL,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),V$=xt(NL,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.popupIndicator,t.popupOpen&&e.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),k$=xt(qL,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${mn.option}`]:e.option},e.popper,t.disablePortal&&e.popperDisablePortal]}})(Cn(({theme:n})=>({zIndex:(n.vars||n).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),G$=xt(Zm,{name:"MuiAutocomplete",slot:"Paper"})(Cn(({theme:n})=>({...n.typography.body1,overflow:"auto"}))),q$=xt("div",{name:"MuiAutocomplete",slot:"Loading"})(Cn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,padding:"14px 16px"}))),j$=xt("div",{name:"MuiAutocomplete",slot:"NoOptions"})(Cn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,padding:"14px 16px"}))),W$=xt("ul",{name:"MuiAutocomplete",slot:"Listbox"})(Cn(({theme:n})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${mn.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[n.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${mn.focused}`]:{backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${mn.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:yi(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${mn.focused}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:yi(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(n.vars||n).palette.action.selected}},[`&.${mn.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:yi(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}}}}))),X$=xt(SA,{name:"MuiAutocomplete",slot:"GroupLabel"})(Cn(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,top:-8}))),Y$=xt("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${mn.option}`]:{paddingLeft:24}}),$$=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiAutocomplete"}),{autoComplete:r=!1,autoHighlight:a=!1,autoSelect:o=!1,blurOnSelect:c=!1,ChipProps:f,className:p,clearIcon:m=KD||(KD=pe.jsx(jX,{fontSize:"small"})),clearOnBlur:g=!i.freeSolo,clearOnEscape:y=!1,clearText:b="Clear",closeText:_="Close",componentsProps:E,defaultValue:M=i.multiple?[]:null,disableClearable:x=!1,disableCloseOnSelect:D=!1,disabled:A=!1,disabledItemsFocusable:T=!1,disableListWrap:O=!1,disablePortal:N=!1,filterOptions:z,filterSelectedOptions:F=!1,forcePopupIcon:P="auto",freeSolo:w=!1,fullWidth:L=!1,getLimitTagsText:H=vt=>`+${vt}`,getOptionDisabled:V,getOptionKey:G,getOptionLabel:$,isOptionEqualToValue:B,groupBy:j,handleHomeEndKeys:q=!i.freeSolo,id:Q,includeInputInList:W=!1,inputValue:ie,limitTags:le=-1,ListboxComponent:he,ListboxProps:ae,loading:se=!1,loadingText:me="Loading…",multiple:xe=!1,noOptionsText:ke="No options",onChange:Qe,onClose:Ee,onHighlightChange:Ge,onInputChange:et,onOpen:nt,open:J,openOnFocus:We=!1,openText:Re="Open",options:ze,PaperComponent:ve,PopperComponent:ot,popupIcon:Ae=ZD||(ZD=pe.jsx(WL,{})),readOnly:te=!1,renderGroup:Y,renderInput:be,renderOption:we,renderTags:Xe,renderValue:Le,selectOnFocus:ct=!i.freeSolo,size:at="medium",slots:bt={},slotProps:St={},value:Be,...ut}=i,{getRootProps:_t,getInputProps:Mt,getInputLabelProps:qe,getPopupIndicatorProps:oe,getClearProps:Oe,getItemProps:ft,getListboxProps:fe,getOptionProps:st,value:Ne,dirty:Ye,expanded:pt,id:mt,popupOpen:Ot,focused:Zt,focusedItem:Sn,anchorEl:qt,setAnchorEl:vi,inputValue:$n,groupedOptions:Qn}=iY({...i,componentName:"Autocomplete"}),di=!x&&!A&&Ye&&!te,Ei=(!w||P===!0)&&P!==!1,{onMouseDown:nr}=Mt(),{ref:Ao,...Rr}=fe(),rr=$||(vt=>vt.label??vt),Qt={...i,disablePortal:N,expanded:pt,focused:Zt,fullWidth:L,getOptionLabel:rr,hasClearIcon:di,hasPopupIcon:Ei,inputFocused:Sn===-1,popupOpen:Ot,size:at},Fn=z$(Qt),zi={slots:{paper:ve,popper:ot,...bt},slotProps:{chip:f,listbox:ae,...E,...St}},[ia,ra]=Xn("listbox",{elementType:W$,externalForwardedProps:zi,ownerState:Qt,className:Fn.listbox,additionalProps:Rr,ref:Ao}),[Ve,je]=Xn("paper",{elementType:Zm,externalForwardedProps:zi,ownerState:Qt,className:Fn.paper}),[Et,Vt]=Xn("popper",{elementType:qL,externalForwardedProps:zi,ownerState:Qt,className:Fn.popper,additionalProps:{disablePortal:N,style:{width:qt?qt.clientWidth:null},role:"presentation",anchorEl:qt,open:Ot}});let Z;const de=vt=>({className:Fn.tag,disabled:A,...ft(vt)});if(Xe&&xe&&Ne.length>0?Z=Xe(Ne,de,Qt):Le&&Ne?Z=Le(Ne,de,Qt):xe&&Ne.length>0&&(Z=Ne.map((vt,Pt)=>{const{key:Dt,...Jt}=de({index:Pt});return pe.jsx(jL,{label:rr(vt),size:at,...Jt,...zi.slotProps.chip},Dt)})),le>-1&&Array.isArray(Z)){const vt=Z.length-le;!Zt&&vt>0&&(Z=Z.splice(0,le),Z.push(pe.jsx("span",{className:Fn.tag,children:H(vt)},Z.length)))}const De=Y||(vt=>pe.jsxs("li",{children:[pe.jsx(X$,{className:Fn.groupLabel,ownerState:Qt,component:"div",children:vt.group}),pe.jsx(Y$,{className:Fn.groupUl,ownerState:Qt,children:vt.children})]},vt.key)),rt=we||((vt,Pt)=>{const{key:Dt,...Jt}=vt;return pe.jsx("li",{...Jt,children:rr(Pt)},Dt)}),gt=(vt,Pt)=>{const Dt=st({option:vt,index:Pt});return rt({...Dt,className:Fn.option},vt,{selected:Dt["aria-selected"],index:Pt,inputValue:$n},Qt)},yt=zi.slotProps.clearIndicator,Tt=zi.slotProps.popupIndicator;return pe.jsxs(K.Fragment,{children:[pe.jsx(B$,{ref:t,className:Lt(Fn.root,p),ownerState:Qt,..._t(ut),children:be({id:mt,disabled:A,fullWidth:!0,size:at==="small"?"small":void 0,InputLabelProps:qe(),InputProps:{ref:vi,className:Fn.inputRoot,startAdornment:Z,onMouseDown:vt=>{vt.target===vt.currentTarget&&nr(vt)},...(di||Ei)&&{endAdornment:pe.jsxs(F$,{className:Fn.endAdornment,ownerState:Qt,children:[di?pe.jsx(H$,{...Oe(),"aria-label":b,title:b,ownerState:Qt,...yt,className:Lt(Fn.clearIndicator,yt==null?void 0:yt.className),children:m}):null,Ei?pe.jsx(V$,{...oe(),disabled:A,"aria-label":Ot?_:Re,title:Ot?_:Re,ownerState:Qt,...Tt,className:Lt(Fn.popupIndicator,Tt==null?void 0:Tt.className),children:Ae}):null]})}},inputProps:{className:Fn.input,disabled:A,readOnly:te,...Mt()}})}),qt?pe.jsx(k$,{as:Et,...Vt,children:pe.jsxs(G$,{as:Ve,...je,children:[se&&Qn.length===0?pe.jsx(q$,{className:Fn.loading,ownerState:Qt,children:me}):null,Qn.length===0&&!w&&!se?pe.jsx(j$,{className:Fn.noOptions,ownerState:Qt,role:"presentation",onMouseDown:vt=>{vt.preventDefault()},children:ke}):null,Qn.length>0?pe.jsx(ia,{as:he,...ra,children:Qn.map((vt,Pt)=>j?De({key:vt.key,group:vt.group,children:vt.options.map((Dt,Jt)=>gt(Dt,vt.index+Jt))}):gt(vt,Pt))}):null]})}):null]})}),Q$={entering:{opacity:1},entered:{opacity:1}},_A=K.forwardRef(function(e,t){const i=Qm(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:c,easing:f,in:p,onEnter:m,onEntered:g,onEntering:y,onExit:b,onExited:_,onExiting:E,style:M,timeout:x=r,TransitionComponent:D=cl,...A}=e,T=K.useRef(null),O=mr(T,Jm(c),t),N=G=>$=>{if(G){const B=T.current;$===void 0?G(B):G(B,$)}},z=N(y),F=N((G,$)=>{iC(G);const B=Lm({style:M,timeout:x,easing:f},{mode:"enter"});G.style.webkitTransition=i.transitions.create("opacity",B),G.style.transition=i.transitions.create("opacity",B),m&&m(G,$)}),P=N(g),w=N(E),L=N(G=>{const $=Lm({style:M,timeout:x,easing:f},{mode:"exit"});G.style.webkitTransition=i.transitions.create("opacity",$),G.style.transition=i.transitions.create("opacity",$),b&&b(G)}),H=N(_),V=G=>{a&&a(T.current,G)};return pe.jsx(D,{appear:o,in:p,nodeRef:T,onEnter:F,onEntered:P,onEntering:z,onExit:L,onExited:H,onExiting:w,addEndListener:V,timeout:x,...A,children:(G,{ownerState:$,...B})=>K.cloneElement(c,{style:{opacity:0,visibility:G==="exited"&&!p?"hidden":void 0,...Q$[G],...M,...c.props.style},ref:O,...B})})});function K$(n){return En("MuiBackdrop",n)}hn("MuiBackdrop",["root","invisible"]);const Z$=n=>{const{classes:e,invisible:t}=n;return Tn({root:["root",t&&"invisible"]},K$,e)},J$=xt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),XL=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiBackdrop"}),{children:r,className:a,component:o="div",invisible:c=!1,open:f,components:p={},componentsProps:m={},slotProps:g={},slots:y={},TransitionComponent:b,transitionDuration:_,...E}=i,M={...i,component:o,invisible:c},x=Z$(M),D={transition:b,root:p.Root,...y},A={...m,...g},T={slots:D,slotProps:A},[O,N]=Xn("root",{elementType:J$,externalForwardedProps:T,className:Lt(x.root,a),ownerState:M}),[z,F]=Xn("transition",{elementType:_A,externalForwardedProps:T,ownerState:M});return pe.jsx(z,{in:f,timeout:_,...E,...F,children:pe.jsx(O,{"aria-hidden":!0,...N,classes:x,ref:t,children:r})})}),eQ=hn("MuiBox",["root"]),tQ=bL(),MA=$j({themeId:N1,defaultTheme:tQ,defaultClassName:eQ.root,generateClassName:cL.generate});function nQ(n){return En("MuiButton",n)}const Pd=hn("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),iQ=K.createContext({}),rQ=K.createContext(void 0),aQ=n=>{const{color:e,disableElevation:t,fullWidth:i,size:r,variant:a,loading:o,loadingPosition:c,classes:f}=n,p={root:["root",o&&"loading",a,`${a}${ht(e)}`,`size${ht(r)}`,`${a}Size${ht(r)}`,`color${ht(e)}`,t&&"disableElevation",i&&"fullWidth",o&&`loadingPosition${ht(c)}`],startIcon:["icon","startIcon",`iconSize${ht(r)}`],endIcon:["icon","endIcon",`iconSize${ht(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},m=Tn(p,nQ,f);return{...f,...m}},YL=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],sQ=xt(Fv,{shouldForwardProp:n=>ks(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${ht(t.color)}`],e[`size${ht(t.size)}`],e[`${t.variant}Size${ht(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth,t.loading&&e.loading]}})(Cn(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],t=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Pd.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${Pd.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${Pd.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Pd.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(Us()).map(([i])=>({props:{color:i},style:{"--variant-textColor":(n.vars||n).palette[i].main,"--variant-outlinedColor":(n.vars||n).palette[i].main,"--variant-outlinedBorder":n.vars?`rgba(${n.vars.palette[i].mainChannel} / 0.5)`:yi(n.palette[i].main,.5),"--variant-containedColor":(n.vars||n).palette[i].contrastText,"--variant-containedBg":(n.vars||n).palette[i].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[i].dark,"--variant-textBg":n.vars?`rgba(${n.vars.palette[i].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:yi(n.palette[i].main,n.palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[i].main,"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette[i].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:yi(n.palette[i].main,n.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:yi(n.palette.text.primary,n.palette.action.hoverOpacity),"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:yi(n.palette.text.primary,n.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Pd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Pd.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${Pd.loading}`]:{color:"transparent"}}}]}})),oQ=xt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,t.loading&&e.startIconLoadingStart,e[`iconSize${ht(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...YL]})),lQ=xt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,t.loading&&e.endIconLoadingEnd,e[`iconSize${ht(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...YL]})),cQ=xt("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),JD=xt("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),e3=K.forwardRef(function(e,t){const i=K.useContext(iQ),r=K.useContext(rQ),a=w_(i,e),o=Rn({props:a,name:"MuiButton"}),{children:c,color:f="primary",component:p="button",className:m,disabled:g=!1,disableElevation:y=!1,disableFocusRipple:b=!1,endIcon:_,focusVisibleClassName:E,fullWidth:M=!1,id:x,loading:D=null,loadingIndicator:A,loadingPosition:T="center",size:O="medium",startIcon:N,type:z,variant:F="text",...P}=o,w=Km(x),L=A??pe.jsx(DL,{"aria-labelledby":w,color:"inherit",size:16}),H={...o,color:f,component:p,disabled:g,disableElevation:y,disableFocusRipple:b,fullWidth:M,loading:D,loadingIndicator:L,loadingPosition:T,size:O,type:z,variant:F},V=aQ(H),G=(N||D&&T==="start")&&pe.jsx(oQ,{className:V.startIcon,ownerState:H,children:N||pe.jsx(JD,{className:V.loadingIconPlaceholder,ownerState:H})}),$=(_||D&&T==="end")&&pe.jsx(lQ,{className:V.endIcon,ownerState:H,children:_||pe.jsx(JD,{className:V.loadingIconPlaceholder,ownerState:H})}),B=r||"",j=typeof D=="boolean"?pe.jsx("span",{className:V.loadingWrapper,style:{display:"contents"},children:D&&pe.jsx(cQ,{className:V.loadingIndicator,ownerState:H,children:L})}):null;return pe.jsxs(sQ,{ownerState:H,className:Lt(i.className,V.root,m,B),component:p,disabled:g||D,focusRipple:!b,focusVisibleClassName:Lt(V.focusVisible,E),ref:t,type:z,id:D?w:x,...P,classes:V,children:[G,T!=="end"&&j,c,T==="end"&&j,$]})});function $L(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function uQ(n){const e=Hs(n);return e.body===n?ol(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function uv(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function t3(n){return parseInt(ol(n).getComputedStyle(n).paddingRight,10)||0}function fQ(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),i=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||i}function n3(n,e,t,i,r){const a=[e,t,...i];[].forEach.call(n.children,o=>{const c=!a.includes(o),f=!fQ(o);c&&f&&uv(o,r)})}function mT(n,e){let t=-1;return n.some((i,r)=>e(i)?(t=r,!0):!1),t}function dQ(n,e){const t=[],i=n.container;if(!e.disableScrollLock){if(uQ(i)){const o=$L(ol(i));t.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${t3(i)+o}px`;const c=Hs(i).querySelectorAll(".mui-fixed");[].forEach.call(c,f=>{t.push({value:f.style.paddingRight,property:"padding-right",el:f}),f.style.paddingRight=`${t3(f)+o}px`})}let a;if(i.parentNode instanceof DocumentFragment)a=Hs(i).body;else{const o=i.parentElement,c=ol(i);a=(o==null?void 0:o.nodeName)==="HTML"&&c.getComputedStyle(o).overflowY==="scroll"?o:i}t.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{t.forEach(({value:a,el:o,property:c})=>{a?o.style.setProperty(c,a):o.style.removeProperty(c)})}}function hQ(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class pQ{constructor(){this.modals=[],this.containers=[]}add(e,t){let i=this.modals.indexOf(e);if(i!==-1)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&uv(e.modalRef,!1);const r=hQ(t);n3(t,e.mount,e.modalRef,r,!0);const a=mT(this.containers,o=>o.container===t);return a!==-1?(this.containers[a].modals.push(e),i):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),i)}mount(e,t){const i=mT(this.containers,a=>a.modals.includes(e)),r=this.containers[i];r.restore||(r.restore=dQ(r,t))}remove(e,t=!0){const i=this.modals.indexOf(e);if(i===-1)return i;const r=mT(this.containers,o=>o.modals.includes(e)),a=this.containers[r];if(a.modals.splice(a.modals.indexOf(e),1),this.modals.splice(i,1),a.modals.length===0)a.restore&&a.restore(),e.modalRef&&uv(e.modalRef,t),n3(a.container,e.mount,e.modalRef,a.hiddenSiblings,!1),this.containers.splice(r,1);else{const o=a.modals[a.modals.length-1];o.modalRef&&uv(o.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const mQ=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function gQ(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function yQ(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=i=>n.ownerDocument.querySelector(`input[type="radio"]${i}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function vQ(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||yQ(n))}function bQ(n){const e=[],t=[];return Array.from(n.querySelectorAll(mQ)).forEach((i,r)=>{const a=gQ(i);a===-1||!vQ(i)||(a===0?e.push(i):t.push({documentOrder:r,tabIndex:a,node:i}))}),t.sort((i,r)=>i.tabIndex===r.tabIndex?i.documentOrder-r.documentOrder:i.tabIndex-r.tabIndex).map(i=>i.node).concat(e)}function xQ(){return!0}function SQ(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:i=!1,disableRestoreFocus:r=!1,getTabbable:a=bQ,isEnabled:o=xQ,open:c}=n,f=K.useRef(!1),p=K.useRef(null),m=K.useRef(null),g=K.useRef(null),y=K.useRef(null),b=K.useRef(!1),_=K.useRef(null),E=mr(Jm(e),_),M=K.useRef(null);K.useEffect(()=>{!c||!_.current||(b.current=!t)},[t,c]),K.useEffect(()=>{if(!c||!_.current)return;const A=Hs(_.current);return _.current.contains(A.activeElement)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex","-1"),b.current&&_.current.focus()),()=>{r||(g.current&&g.current.focus&&(f.current=!0,g.current.focus()),g.current=null)}},[c]),K.useEffect(()=>{if(!c||!_.current)return;const A=Hs(_.current),T=z=>{M.current=z,!(i||!o()||z.key!=="Tab")&&A.activeElement===_.current&&z.shiftKey&&(f.current=!0,m.current&&m.current.focus())},O=()=>{var P,w;const z=_.current;if(z===null)return;if(!A.hasFocus()||!o()||f.current){f.current=!1;return}if(z.contains(A.activeElement)||i&&A.activeElement!==p.current&&A.activeElement!==m.current)return;if(A.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!b.current)return;let F=[];if((A.activeElement===p.current||A.activeElement===m.current)&&(F=a(_.current)),F.length>0){const L=!!((P=M.current)!=null&&P.shiftKey&&((w=M.current)==null?void 0:w.key)==="Tab"),H=F[0],V=F[F.length-1];typeof H!="string"&&typeof V!="string"&&(L?V.focus():H.focus())}else z.focus()};A.addEventListener("focusin",O),A.addEventListener("keydown",T,!0);const N=setInterval(()=>{A.activeElement&&A.activeElement.tagName==="BODY"&&O()},50);return()=>{clearInterval(N),A.removeEventListener("focusin",O),A.removeEventListener("keydown",T,!0)}},[t,i,r,o,c,a]);const x=A=>{g.current===null&&(g.current=A.relatedTarget),b.current=!0,y.current=A.target;const T=e.props.onFocus;T&&T(A)},D=A=>{g.current===null&&(g.current=A.relatedTarget),b.current=!0};return pe.jsxs(K.Fragment,{children:[pe.jsx("div",{tabIndex:c?0:-1,onFocus:D,ref:p,"data-testid":"sentinelStart"}),K.cloneElement(e,{ref:E,onFocus:x}),pe.jsx("div",{tabIndex:c?0:-1,onFocus:D,ref:m,"data-testid":"sentinelEnd"})]})}function _Q(n){return typeof n=="function"?n():n}function MQ(n){return n?n.props.hasOwnProperty("in"):!1}const i3=()=>{},iS=new pQ;function EQ(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:i=!1,closeAfterTransition:r=!1,onTransitionEnter:a,onTransitionExited:o,children:c,onClose:f,open:p,rootRef:m}=n,g=K.useRef({}),y=K.useRef(null),b=K.useRef(null),_=mr(b,m),[E,M]=K.useState(!p),x=MQ(c);let D=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(D=!1);const A=()=>Hs(y.current),T=()=>(g.current.modalRef=b.current,g.current.mount=y.current,g.current),O=()=>{iS.mount(T(),{disableScrollLock:i}),b.current&&(b.current.scrollTop=0)},N=sl(()=>{const $=_Q(e)||A().body;iS.add(T(),$),b.current&&O()}),z=()=>iS.isTopModal(T()),F=sl($=>{y.current=$,$&&(p&&z()?O():b.current&&uv(b.current,D))}),P=K.useCallback(()=>{iS.remove(T(),D)},[D]);K.useEffect(()=>()=>{P()},[P]),K.useEffect(()=>{p?N():(!x||!r)&&P()},[p,P,x,r,N]);const w=$=>B=>{var j;(j=$.onKeyDown)==null||j.call($,B),!(B.key!=="Escape"||B.which===229||!z())&&(t||(B.stopPropagation(),f&&f(B,"escapeKeyDown")))},L=$=>B=>{var j;(j=$.onClick)==null||j.call($,B),B.target===B.currentTarget&&f&&f(B,"backdropClick")};return{getRootProps:($={})=>{const B=RL(n);delete B.onTransitionEnter,delete B.onTransitionExited;const j={...B,...$};return{role:"presentation",...j,onKeyDown:w(j),ref:_}},getBackdropProps:($={})=>{const B=$;return{"aria-hidden":!0,...B,onClick:L(B),open:p}},getTransitionProps:()=>{const $=()=>{M(!1),a&&a()},B=()=>{M(!0),o&&o(),r&&P()};return{onEnter:TD($,(c==null?void 0:c.props.onEnter)??i3),onExited:TD(B,(c==null?void 0:c.props.onExited)??i3)}},rootRef:_,portalRef:F,isTopModal:z,exited:E,hasTransition:x}}function TQ(n){return En("MuiModal",n)}hn("MuiModal",["root","hidden","backdrop"]);const AQ=n=>{const{open:e,exited:t,classes:i}=n;return Tn({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},TQ,i)},wQ=xt("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(Cn(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),CQ=xt(XL,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),hC=K.forwardRef(function(e,t){const i=Rn({name:"MuiModal",props:e}),{BackdropComponent:r=CQ,BackdropProps:a,classes:o,className:c,closeAfterTransition:f=!1,children:p,container:m,component:g,components:y={},componentsProps:b={},disableAutoFocus:_=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:M=!1,disablePortal:x=!1,disableRestoreFocus:D=!1,disableScrollLock:A=!1,hideBackdrop:T=!1,keepMounted:O=!1,onClose:N,onTransitionEnter:z,onTransitionExited:F,open:P,slotProps:w={},slots:L={},theme:H,...V}=i,G={...i,closeAfterTransition:f,disableAutoFocus:_,disableEnforceFocus:E,disableEscapeKeyDown:M,disablePortal:x,disableRestoreFocus:D,disableScrollLock:A,hideBackdrop:T,keepMounted:O},{getRootProps:$,getBackdropProps:B,getTransitionProps:j,portalRef:q,isTopModal:Q,exited:W,hasTransition:ie}=EQ({...G,rootRef:t}),le={...G,exited:W},he=AQ(le),ae={};if(p.props.tabIndex===void 0&&(ae.tabIndex="-1"),ie){const{onEnter:Ee,onExited:Ge}=j();ae.onEnter=Ee,ae.onExited=Ge}const se={slots:{root:y.Root,backdrop:y.Backdrop,...L},slotProps:{...b,...w}},[me,xe]=Xn("root",{ref:t,elementType:wQ,externalForwardedProps:{...se,...V,component:g},getSlotProps:$,ownerState:le,className:Lt(c,he==null?void 0:he.root,!le.open&&le.exited&&(he==null?void 0:he.hidden))}),[ke,Qe]=Xn("backdrop",{ref:a==null?void 0:a.ref,elementType:r,externalForwardedProps:se,shouldForwardComponentProp:!0,additionalProps:a,getSlotProps:Ee=>B({...Ee,onClick:Ge=>{Ee!=null&&Ee.onClick&&Ee.onClick(Ge)}}),className:Lt(a==null?void 0:a.className,he==null?void 0:he.backdrop),ownerState:le});return!O&&!P&&(!ie||W)?null:pe.jsx(GL,{ref:q,container:m,disablePortal:x,children:pe.jsxs(me,{...xe,children:[!T&&r?pe.jsx(ke,{...Qe}):null,pe.jsx(SQ,{disableEnforceFocus:E,disableAutoFocus:_,disableRestoreFocus:D,isEnabled:Q,open:P,children:K.cloneElement(p,ae)})]})})});function RQ(n){return En("MuiDialog",n)}const gT=hn("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),QL=K.createContext({}),OQ=xt(XL,{name:"MuiDialog",slot:"Backdrop",overrides:(n,e)=>e.backdrop})({zIndex:-1}),DQ=n=>{const{classes:e,scroll:t,maxWidth:i,fullWidth:r,fullScreen:a}=n,o={root:["root"],container:["container",`scroll${ht(t)}`],paper:["paper",`paperScroll${ht(t)}`,`paperWidth${ht(String(i))}`,r&&"paperFullWidth",a&&"paperFullScreen"]};return Tn(o,RQ,e)},NQ=xt(hC,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),PQ=xt("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.container,e[`scroll${ht(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),UQ=xt(Zm,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`scrollPaper${ht(t.scroll)}`],e[`paperWidth${ht(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(Cn(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${gT.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${n.breakpoints.values[e]}${n.breakpoints.unit}`,[`&.${gT.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${gT.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),LQ=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiDialog"}),r=Qm(),a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":c,"aria-modal":f=!0,BackdropComponent:p,BackdropProps:m,children:g,className:y,disableEscapeKeyDown:b=!1,fullScreen:_=!1,fullWidth:E=!1,maxWidth:M="sm",onClick:x,onClose:D,open:A,PaperComponent:T=Zm,PaperProps:O={},scroll:N="paper",slots:z={},slotProps:F={},TransitionComponent:P=_A,transitionDuration:w=a,TransitionProps:L,...H}=i,V={...i,disableEscapeKeyDown:b,fullScreen:_,fullWidth:E,maxWidth:M,scroll:N},G=DQ(V),$=K.useRef(),B=nt=>{$.current=nt.target===nt.currentTarget},j=nt=>{x&&x(nt),$.current&&($.current=null,D&&D(nt,"backdropClick"))},q=Km(c),Q=K.useMemo(()=>({titleId:q}),[q]),W={transition:P,...z},ie={transition:L,paper:O,backdrop:m,...F},le={slots:W,slotProps:ie},[he,ae]=Xn("root",{elementType:NQ,shouldForwardComponentProp:!0,externalForwardedProps:le,ownerState:V,className:Lt(G.root,y),ref:t}),[se,me]=Xn("backdrop",{elementType:OQ,shouldForwardComponentProp:!0,externalForwardedProps:le,ownerState:V}),[xe,ke]=Xn("paper",{elementType:UQ,shouldForwardComponentProp:!0,externalForwardedProps:le,ownerState:V,className:Lt(G.paper,O.className)}),[Qe,Ee]=Xn("container",{elementType:PQ,externalForwardedProps:le,ownerState:V,className:G.container}),[Ge,et]=Xn("transition",{elementType:_A,externalForwardedProps:le,ownerState:V,additionalProps:{appear:!0,in:A,timeout:w,role:"presentation"}});return pe.jsx(he,{closeAfterTransition:!0,slots:{backdrop:se},slotProps:{backdrop:{transitionDuration:w,as:p,...me}},disableEscapeKeyDown:b,onClose:D,open:A,onClick:j,...ae,...H,children:pe.jsx(Ge,{...et,children:pe.jsx(Qe,{onMouseDown:B,...Ee,children:pe.jsx(xe,{as:T,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":q,"aria-modal":f,...ke,children:pe.jsx(QL.Provider,{value:Q,children:g})})})})})});function IQ(n){return En("MuiDialogActions",n)}hn("MuiDialogActions",["root","spacing"]);const zQ=n=>{const{classes:e,disableSpacing:t}=n;return Tn({root:["root",!t&&"spacing"]},IQ,e)},BQ=xt("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:n})=>!n.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),FQ=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:a=!1,...o}=i,c={...i,disableSpacing:a},f=zQ(c);return pe.jsx(BQ,{className:Lt(f.root,r),ownerState:c,ref:t,...o})});function HQ(n){return En("MuiDialogContent",n)}hn("MuiDialogContent",["root","dividers"]);function VQ(n){return En("MuiDialogTitle",n)}const kQ=hn("MuiDialogTitle",["root"]),GQ=n=>{const{classes:e,dividers:t}=n;return Tn({root:["root",t&&"dividers"]},HQ,e)},qQ=xt("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.dividers&&e.dividers]}})(Cn(({theme:n})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(n.vars||n).palette.divider}`,borderBottom:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${kQ.root} + &`]:{paddingTop:0}}}]}))),jQ=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiDialogContent"}),{className:r,dividers:a=!1,...o}=i,c={...i,dividers:a},f=GQ(c);return pe.jsx(qQ,{className:Lt(f.root,r),ownerState:c,ref:t,...o})}),WQ=n=>{const{classes:e}=n;return Tn({root:["root"]},VQ,e)},XQ=xt(Kc,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),YQ=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiDialogTitle"}),{className:r,id:a,...o}=i,c=i,f=WQ(c),{titleId:p=a}=K.useContext(QL);return pe.jsx(XQ,{component:"h2",className:Lt(f.root,r),ownerState:c,ref:t,variant:"h6",id:a??p,...o})}),r3=hn("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function $Q(n,e,t){const i=e.getBoundingClientRect(),r=t&&t.getBoundingClientRect(),a=ol(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const p=a.getComputedStyle(e);o=p.getPropertyValue("-webkit-transform")||p.getPropertyValue("transform")}let c=0,f=0;if(o&&o!=="none"&&typeof o=="string"){const p=o.split("(")[1].split(")")[0].split(",");c=parseInt(p[4],10),f=parseInt(p[5],10)}return n==="left"?r?`translateX(${r.right+c-i.left}px)`:`translateX(${a.innerWidth+c-i.left}px)`:n==="right"?r?`translateX(-${i.right-r.left-c}px)`:`translateX(-${i.left+i.width-c}px)`:n==="up"?r?`translateY(${r.bottom+f-i.top}px)`:`translateY(${a.innerHeight+f-i.top}px)`:r?`translateY(-${i.top-r.top+i.height-f}px)`:`translateY(-${i.top+i.height-f}px)`}function QQ(n){return typeof n=="function"?n():n}function rS(n,e,t){const i=QQ(t),r=$Q(n,e,i);r&&(e.style.webkitTransform=r,e.style.transform=r)}const KQ=K.forwardRef(function(e,t){const i=Qm(),r={enter:i.transitions.easing.easeOut,exit:i.transitions.easing.sharp},a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:o,appear:c=!0,children:f,container:p,direction:m="down",easing:g=r,in:y,onEnter:b,onEntered:_,onEntering:E,onExit:M,onExited:x,onExiting:D,style:A,timeout:T=a,TransitionComponent:O=cl,...N}=e,z=K.useRef(null),F=mr(Jm(f),z,t),P=q=>Q=>{q&&(Q===void 0?q(z.current):q(z.current,Q))},w=P((q,Q)=>{rS(m,q,p),iC(q),b&&b(q,Q)}),L=P((q,Q)=>{const W=Lm({timeout:T,style:A,easing:g},{mode:"enter"});q.style.webkitTransition=i.transitions.create("-webkit-transform",{...W}),q.style.transition=i.transitions.create("transform",{...W}),q.style.webkitTransform="none",q.style.transform="none",E&&E(q,Q)}),H=P(_),V=P(D),G=P(q=>{const Q=Lm({timeout:T,style:A,easing:g},{mode:"exit"});q.style.webkitTransition=i.transitions.create("-webkit-transform",Q),q.style.transition=i.transitions.create("transform",Q),rS(m,q,p),M&&M(q)}),$=P(q=>{q.style.webkitTransition="",q.style.transition="",x&&x(q)}),B=q=>{o&&o(z.current,q)},j=K.useCallback(()=>{z.current&&rS(m,z.current,p)},[m,p]);return K.useEffect(()=>{if(y||m==="down"||m==="right")return;const q=Jw(()=>{z.current&&rS(m,z.current,p)}),Q=ol(z.current);return Q.addEventListener("resize",q),()=>{q.clear(),Q.removeEventListener("resize",q)}},[m,y,p]),K.useEffect(()=>{y||j()},[y,j]),pe.jsx(O,{nodeRef:z,onEnter:w,onEntered:H,onEntering:L,onExit:G,onExited:$,onExiting:V,addEndListener:B,appear:c,in:y,timeout:T,...N,children:(q,{ownerState:Q,...W})=>K.cloneElement(f,{ref:F,style:{visibility:q==="exited"&&!y?"hidden":void 0,...A,...f.props.style},...W})})});function ZQ(n){return En("MuiDrawer",n)}hn("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const KL=(n,e)=>{const{ownerState:t}=n;return[e.root,(t.variant==="permanent"||t.variant==="persistent")&&e.docked,e.modal]},JQ=n=>{const{classes:e,anchor:t,variant:i}=n,r={root:["root",`anchor${ht(t)}`],docked:[(i==="permanent"||i==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${ht(t)}`,i!=="temporary"&&`paperAnchorDocked${ht(t)}`]};return Tn(r,ZQ,e)},eK=xt(hC,{name:"MuiDrawer",slot:"Root",overridesResolver:KL})(Cn(({theme:n})=>({zIndex:(n.vars||n).zIndex.drawer}))),tK=xt("div",{shouldForwardProp:ks,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:KL})({flex:"0 0 auto"}),nK=xt(Zm,{name:"MuiDrawer",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`paperAnchor${ht(t.anchor)}`],t.variant!=="temporary"&&e[`paperAnchorDocked${ht(t.anchor)}`]]}})(Cn(({theme:n})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(n.vars||n).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(n.vars||n).palette.divider}`}}]}))),ZL={left:"right",right:"left",top:"down",bottom:"up"};function iK(n){return["left","right"].includes(n)}function rK({direction:n},e){return n==="rtl"&&iK(e)?ZL[e]:e}const aK=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiDrawer"}),r=Qm(),a=$w(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{anchor:c="left",BackdropProps:f,children:p,className:m,elevation:g=16,hideBackdrop:y=!1,ModalProps:{BackdropProps:b,..._}={},onClose:E,open:M=!1,PaperProps:x={},SlideProps:D,TransitionComponent:A,transitionDuration:T=o,variant:O="temporary",slots:N={},slotProps:z={},...F}=i,P=K.useRef(!1);K.useEffect(()=>{P.current=!0},[]);const w=rK({direction:a?"rtl":"ltr"},c),H={...i,anchor:c,elevation:g,open:M,variant:O,...F},V=JQ(H),G={slots:{transition:A,...N},slotProps:{paper:x,transition:D,...z,backdrop:SL(z.backdrop||{...f,...b},{transitionDuration:T})}},[$,B]=Xn("root",{ref:t,elementType:eK,className:Lt(V.root,V.modal,m),shouldForwardComponentProp:!0,ownerState:H,externalForwardedProps:{...G,...F,..._},additionalProps:{open:M,onClose:E,hideBackdrop:y,slots:{backdrop:G.slots.backdrop},slotProps:{backdrop:G.slotProps.backdrop}}}),[j,q]=Xn("paper",{elementType:nK,shouldForwardComponentProp:!0,className:Lt(V.paper,x.className),ownerState:H,externalForwardedProps:G,additionalProps:{elevation:O==="temporary"?g:0,square:!0}}),[Q,W]=Xn("docked",{elementType:tK,ref:t,className:Lt(V.root,V.docked,m),ownerState:H,externalForwardedProps:G,additionalProps:F}),[ie,le]=Xn("transition",{elementType:KQ,ownerState:H,externalForwardedProps:G,additionalProps:{in:M,direction:ZL[w],timeout:T,appear:P.current}}),he=pe.jsx(j,{...q,children:p});if(O==="permanent")return pe.jsx(Q,{...W,children:he});const ae=pe.jsx(ie,{...le,children:he});return O==="persistent"?pe.jsx(Q,{...W,children:ae}):pe.jsx($,{...B,children:ae})}),sK=n=>{const{classes:e,disableUnderline:t,startAdornment:i,endAdornment:r,size:a,hiddenLabel:o,multiline:c}=n,f={root:["root",!t&&"underline",i&&"adornedStart",r&&"adornedEnd",a==="small"&&`size${ht(a)}`,o&&"hiddenLabel",c&&"multiline"],input:["input"]},p=Tn(f,L$,e);return{...e,...p}},oK=xt(Y1,{shouldForwardProp:n=>ks(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...W1(n,e),!t.disableUnderline&&e.underline]}})(Cn(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",r=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:r,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i}},[`&.${Ns.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i},[`&.${Ns.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:a},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ns.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ns.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ns.disabled}, .${Ns.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${Ns.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Us()).map(([o])=>{var c;return{props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(c=(n.vars||n).palette[o])==null?void 0:c.main}`}}}}),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:c})=>o.multiline&&c==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),lK=xt($1,{name:"MuiFilledInput",slot:"Input",overridesResolver:X1})(Cn(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),pC=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiFilledInput"}),{disableUnderline:r=!1,components:a={},componentsProps:o,fullWidth:c=!1,hiddenLabel:f,inputComponent:p="input",multiline:m=!1,slotProps:g,slots:y={},type:b="text",..._}=i,E={...i,disableUnderline:r,fullWidth:c,inputComponent:p,multiline:m,type:b},M=sK(i),x={root:{ownerState:E},input:{ownerState:E}},D=g??o?_a(x,g??o):x,A=y.root??a.Root??oK,T=y.input??a.Input??lK;return pe.jsx(dC,{slots:{root:A,input:T},slotProps:D,fullWidth:c,inputComponent:p,multiline:m,ref:t,type:b,..._,classes:M})});pC.muiName="Input";function cK(n){return En("MuiFormControl",n)}hn("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const uK=n=>{const{classes:e,margin:t,fullWidth:i}=n,r={root:["root",t!=="none"&&`margin${ht(t)}`,i&&"fullWidth"]};return Tn(r,cK,e)},fK=xt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${ht(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),JL=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiFormControl"}),{children:r,className:a,color:o="primary",component:c="div",disabled:f=!1,error:p=!1,focused:m,fullWidth:g=!1,hiddenLabel:y=!1,margin:b="none",required:_=!1,size:E="medium",variant:M="outlined",...x}=i,D={...i,color:o,component:c,disabled:f,error:p,fullWidth:g,hiddenLabel:y,margin:b,required:_,size:E,variant:M},A=uK(D),[T,O]=K.useState(()=>{let $=!1;return r&&K.Children.forEach(r,B=>{if(!TS(B,["Input","Select"]))return;const j=TS(B,["Select"])?B.props.input:B;j&&O$(j.props)&&($=!0)}),$}),[N,z]=K.useState(()=>{let $=!1;return r&&K.Children.forEach(r,B=>{TS(B,["Input","Select"])&&(D_(B.props,!0)||D_(B.props.inputProps,!0))&&($=!0)}),$}),[F,P]=K.useState(!1);f&&F&&P(!1);const w=m!==void 0&&!f?m:F;let L;K.useRef(!1);const H=K.useCallback(()=>{z(!0)},[]),V=K.useCallback(()=>{z(!1)},[]),G=K.useMemo(()=>({adornedStart:T,setAdornedStart:O,color:o,disabled:f,error:p,filled:N,focused:w,fullWidth:g,hiddenLabel:y,size:E,onBlur:()=>{P(!1)},onFocus:()=>{P(!0)},onEmpty:V,onFilled:H,registerEffect:L,required:_,variant:M}),[T,o,f,p,N,w,g,y,L,V,H,_,E,M]);return pe.jsx(fC.Provider,{value:G,children:pe.jsx(fK,{as:c,ownerState:D,className:Lt(A.root,a),ref:t,...x,children:r})})});function dK(n){return En("MuiFormHelperText",n)}const a3=hn("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var s3;const hK=n=>{const{classes:e,contained:t,size:i,disabled:r,error:a,filled:o,focused:c,required:f}=n,p={root:["root",r&&"disabled",a&&"error",i&&`size${ht(i)}`,t&&"contained",c&&"focused",o&&"filled",f&&"required"]};return Tn(p,dK,e)},pK=xt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${ht(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(Cn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${a3.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${a3.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),mK=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiFormHelperText"}),{children:r,className:a,component:o="p",disabled:c,error:f,filled:p,focused:m,margin:g,required:y,variant:b,..._}=i,E=tg(),M=eg({props:i,muiFormControl:E,states:["variant","size","disabled","error","filled","focused","required"]}),x={...i,component:o,contained:M.variant==="filled"||M.variant==="outlined",variant:M.variant,size:M.size,disabled:M.disabled,error:M.error,filled:M.filled,focused:M.focused,required:M.required};delete x.ownerState;const D=hK(x);return pe.jsx(pK,{as:o,className:Lt(D.root,a),ref:t,..._,ownerState:x,children:r===" "?s3||(s3=pe.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):r})});function gK(n){return En("MuiFormLabel",n)}const fv=hn("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),yK=n=>{const{classes:e,color:t,focused:i,disabled:r,error:a,filled:o,required:c}=n,f={root:["root",`color${ht(t)}`,r&&"disabled",a&&"error",o&&"filled",i&&"focused",c&&"required"],asterisk:["asterisk",a&&"error"]};return Tn(f,gK,e)},vK=xt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(Cn(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(Us()).map(([e])=>({props:{color:e},style:{[`&.${fv.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${fv.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${fv.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),bK=xt("span",{name:"MuiFormLabel",slot:"Asterisk"})(Cn(({theme:n})=>({[`&.${fv.error}`]:{color:(n.vars||n).palette.error.main}}))),xK=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiFormLabel"}),{children:r,className:a,color:o,component:c="label",disabled:f,error:p,filled:m,focused:g,required:y,...b}=i,_=tg(),E=eg({props:i,muiFormControl:_,states:["color","required","focused","disabled","error","filled"]}),M={...i,color:E.color||"primary",component:c,disabled:E.disabled,error:E.error,filled:E.filled,focused:E.focused,required:E.required},x=yK(M);return pe.jsxs(vK,{as:c,ownerState:M,className:Lt(x.root,a),ref:t,...b,children:[r,E.required&&pe.jsxs(bK,{ownerState:M,"aria-hidden":!0,className:x.asterisk,children:[" ","*"]})]})});function EA(n){return`scale(${n}, ${n**2})`}const SK={entering:{opacity:1,transform:EA(1)},entered:{opacity:1,transform:"none"}},yT=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),TA=K.forwardRef(function(e,t){const{addEndListener:i,appear:r=!0,children:a,easing:o,in:c,onEnter:f,onEntered:p,onEntering:m,onExit:g,onExited:y,onExiting:b,style:_,timeout:E="auto",TransitionComponent:M=cl,...x}=e,D=AL(),A=K.useRef(),T=Qm(),O=K.useRef(null),N=mr(O,Jm(a),t),z=$=>B=>{if($){const j=O.current;B===void 0?$(j):$(j,B)}},F=z(m),P=z(($,B)=>{iC($);const{duration:j,delay:q,easing:Q}=Lm({style:_,timeout:E,easing:o},{mode:"enter"});let W;E==="auto"?(W=T.transitions.getAutoHeightDuration($.clientHeight),A.current=W):W=j,$.style.transition=[T.transitions.create("opacity",{duration:W,delay:q}),T.transitions.create("transform",{duration:yT?W:W*.666,delay:q,easing:Q})].join(","),f&&f($,B)}),w=z(p),L=z(b),H=z($=>{const{duration:B,delay:j,easing:q}=Lm({style:_,timeout:E,easing:o},{mode:"exit"});let Q;E==="auto"?(Q=T.transitions.getAutoHeightDuration($.clientHeight),A.current=Q):Q=B,$.style.transition=[T.transitions.create("opacity",{duration:Q,delay:j}),T.transitions.create("transform",{duration:yT?Q:Q*.666,delay:yT?j:j||Q*.333,easing:q})].join(","),$.style.opacity=0,$.style.transform=EA(.75),g&&g($)}),V=z(y),G=$=>{E==="auto"&&D.start(A.current||0,$),i&&i(O.current,$)};return pe.jsx(M,{appear:r,in:c,nodeRef:O,onEnter:P,onEntered:w,onEntering:F,onExit:H,onExited:V,onExiting:L,addEndListener:G,timeout:E==="auto"?null:E,...x,children:($,{ownerState:B,...j})=>K.cloneElement(a,{style:{opacity:0,transform:EA(.75),visibility:$==="exited"&&!c?"hidden":void 0,...SK[$],..._,...a.props.style},ref:N,...j})})});TA&&(TA.muiSupportAuto=!0);const _K=n=>{const{classes:e,disableUnderline:t}=n,r=Tn({root:["root",!t&&"underline"],input:["input"]},P$,e);return{...e,...r}},MK=xt(Y1,{shouldForwardProp:n=>ks(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...W1(n,e),!t.disableUnderline&&e.underline]}})(Cn(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:i})=>i.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${df.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${df.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${df.disabled}, .${df.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${df.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Us()).map(([i])=>({props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[i].main}`}}}))]}})),EK=xt($1,{name:"MuiInput",slot:"Input",overridesResolver:X1})({}),mC=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiInput"}),{disableUnderline:r=!1,components:a={},componentsProps:o,fullWidth:c=!1,inputComponent:f="input",multiline:p=!1,slotProps:m,slots:g={},type:y="text",...b}=i,_=_K(i),M={root:{ownerState:{disableUnderline:r}}},x=m??o?_a(m??o,M):M,D=g.root??a.Root??MK,A=g.input??a.Input??EK;return pe.jsx(dC,{slots:{root:D,input:A},slotProps:x,fullWidth:c,inputComponent:f,multiline:p,ref:t,type:y,...b,classes:_})});mC.muiName="Input";function TK(n){return En("MuiInputLabel",n)}hn("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const AK=n=>{const{classes:e,formControl:t,size:i,shrink:r,disableAnimation:a,variant:o,required:c}=n,f={root:["root",t&&"formControl",!a&&"animated",r&&"shrink",i&&i!=="medium"&&`size${ht(i)}`,o],asterisk:[c&&"asterisk"]},p=Tn(f,TK,e);return{...e,...p}},wK=xt(xK,{shouldForwardProp:n=>ks(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${fv.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(Cn(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:i})=>e==="filled"&&t.shrink&&i==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),eI=K.forwardRef(function(e,t){const i=Rn({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,margin:a,shrink:o,variant:c,className:f,...p}=i,m=tg();let g=o;typeof g>"u"&&m&&(g=m.filled||m.focused||m.adornedStart);const y=eg({props:i,muiFormControl:m,states:["size","variant","required","focused"]}),b={...i,disableAnimation:r,formControl:m,shrink:g,size:y.size,variant:y.variant,required:y.required,focused:y.focused},_=AK(b);return pe.jsx(wK,{"data-shrink":g,ref:t,className:Lt(_.root,f),...p,ownerState:b,classes:_})}),gf=K.createContext({});function CK(n){return En("MuiList",n)}hn("MuiList",["root","padding","dense","subheader"]);const RK=n=>{const{classes:e,disablePadding:t,dense:i,subheader:r}=n;return Tn({root:["root",!t&&"padding",i&&"dense",r&&"subheader"]},CK,e)},OK=xt("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),tI=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiList"}),{children:r,className:a,component:o="ul",dense:c=!1,disablePadding:f=!1,subheader:p,...m}=i,g=K.useMemo(()=>({dense:c}),[c]),y={...i,component:o,dense:c,disablePadding:f},b=RK(y);return pe.jsx(gf.Provider,{value:g,children:pe.jsxs(OK,{as:o,className:Lt(b.root,a),ref:t,ownerState:y,...m,children:[p,r]})})});function DK(n){return En("MuiListItem",n)}hn("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const NK=hn("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function PK(n){return En("MuiListItemSecondaryAction",n)}hn("MuiListItemSecondaryAction",["root","disableGutters"]);const UK=n=>{const{disableGutters:e,classes:t}=n;return Tn({root:["root",e&&"disableGutters"]},PK,t)},LK=xt("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:n})=>n.disableGutters,style:{right:0}}]}),nI=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiListItemSecondaryAction"}),{className:r,...a}=i,o=K.useContext(gf),c={...i,disableGutters:o.disableGutters},f=UK(c);return pe.jsx(LK,{className:Lt(f.root,r),ownerState:c,ref:t,...a})});nI.muiName="ListItemSecondaryAction";const IK=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.alignItems==="flex-start"&&e.alignItemsFlexStart,t.divider&&e.divider,!t.disableGutters&&e.gutters,!t.disablePadding&&e.padding,t.hasSecondaryAction&&e.secondaryAction]},zK=n=>{const{alignItems:e,classes:t,dense:i,disableGutters:r,disablePadding:a,divider:o,hasSecondaryAction:c}=n;return Tn({root:["root",i&&"dense",!r&&"gutters",!a&&"padding",o&&"divider",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction"],container:["container"]},DK,t)},BK=xt("div",{name:"MuiListItem",slot:"Root",overridesResolver:IK})(Cn(({theme:n})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${NK.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),FK=xt("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),HK=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiListItem"}),{alignItems:r="center",children:a,className:o,component:c,components:f={},componentsProps:p={},ContainerComponent:m="li",ContainerProps:{className:g,...y}={},dense:b=!1,disableGutters:_=!1,disablePadding:E=!1,divider:M=!1,secondaryAction:x,slotProps:D={},slots:A={},...T}=i,O=K.useContext(gf),N=K.useMemo(()=>({dense:b||O.dense||!1,alignItems:r,disableGutters:_}),[r,O.dense,b,_]),z=K.useRef(null),F=K.Children.toArray(a),P=F.length&&TS(F[F.length-1],["ListItemSecondaryAction"]),w={...i,alignItems:r,dense:N.dense,disableGutters:_,disablePadding:E,divider:M,hasSecondaryAction:P},L=zK(w),H=mr(z,t),V=A.root||f.Root||BK,G=D.root||p.root||{},$={className:Lt(L.root,G.className,o),...T};let B=c||"li";return P?(B=!$.component&&!c?"div":B,m==="li"&&(B==="li"?B="div":$.component==="li"&&($.component="div")),pe.jsx(gf.Provider,{value:N,children:pe.jsxs(FK,{as:m,className:Lt(L.container,g),ref:H,ownerState:w,...y,children:[pe.jsx(V,{...G,...!kv(V)&&{as:B,ownerState:{...w,...G.ownerState}},...$,children:F}),F.pop()]})})):pe.jsx(gf.Provider,{value:N,children:pe.jsxs(V,{...G,as:B,ref:H,...!kv(V)&&{ownerState:{...w,...G.ownerState}},...$,children:[F,x&&pe.jsx(nI,{children:x})]})})}),o3=hn("MuiListItemIcon",["root","alignItemsFlexStart"]);function VK(n){return En("MuiListItemText",n)}const hm=hn("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),kK=n=>{const{classes:e,inset:t,primary:i,secondary:r,dense:a}=n;return Tn({root:["root",t&&"inset",a&&"dense",i&&r&&"multiline"],primary:["primary"],secondary:["secondary"]},VK,e)},GK=xt("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${hm.primary}`]:e.primary},{[`& .${hm.secondary}`]:e.secondary},e.root,t.inset&&e.inset,t.primary&&t.secondary&&e.multiline,t.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${PD.root}:where(& .${hm.primary})`]:{display:"block"},[`.${PD.root}:where(& .${hm.secondary})`]:{display:"block"},variants:[{props:({ownerState:n})=>n.primary&&n.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:n})=>n.inset,style:{paddingLeft:56}}]}),qK=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiListItemText"}),{children:r,className:a,disableTypography:o=!1,inset:c=!1,primary:f,primaryTypographyProps:p,secondary:m,secondaryTypographyProps:g,slots:y={},slotProps:b={},..._}=i,{dense:E}=K.useContext(gf);let M=f??r,x=m;const D={...i,disableTypography:o,inset:c,primary:!!M,secondary:!!x,dense:E},A=kK(D),T={slots:y,slotProps:{primary:p,secondary:g,...b}},[O,N]=Xn("root",{className:Lt(A.root,a),elementType:GK,externalForwardedProps:{...T,..._},ownerState:D,ref:t}),[z,F]=Xn("primary",{className:A.primary,elementType:Kc,externalForwardedProps:T,ownerState:D}),[P,w]=Xn("secondary",{className:A.secondary,elementType:Kc,externalForwardedProps:T,ownerState:D});return M!=null&&M.type!==Kc&&!o&&(M=pe.jsx(z,{variant:E?"body2":"body1",component:F!=null&&F.variant?void 0:"span",...F,children:M})),x!=null&&x.type!==Kc&&!o&&(x=pe.jsx(P,{variant:"body2",color:"textSecondary",...w,children:x})),pe.jsxs(O,{...N,children:[M,x]})});function vT(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function l3(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function iI(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function Py(n,e,t,i,r,a){let o=!1,c=r(n,e,e?t:!1);for(;c;){if(c===n.firstChild){if(o)return!1;o=!0}const f=i?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!iI(c,a)||f)c=r(n,c,t);else return c.focus(),!0}return!1}const jK=K.forwardRef(function(e,t){const{actions:i,autoFocus:r=!1,autoFocusItem:a=!1,children:o,className:c,disabledItemsFocusable:f=!1,disableListWrap:p=!1,onKeyDown:m,variant:g="selectedMenu",...y}=e,b=K.useRef(null),_=K.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});sc(()=>{r&&b.current.focus()},[r]),K.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(A,{direction:T})=>{const O=!b.current.style.width;if(A.clientHeight<b.current.clientHeight&&O){const N=`${$L(ol(A))}px`;b.current.style[T==="rtl"?"paddingLeft":"paddingRight"]=N,b.current.style.width=`calc(100% + ${N})`}return b.current}}),[]);const E=A=>{const T=b.current,O=A.key;if(A.ctrlKey||A.metaKey||A.altKey){m&&m(A);return}const z=Hs(T).activeElement;if(O==="ArrowDown")A.preventDefault(),Py(T,z,p,f,vT);else if(O==="ArrowUp")A.preventDefault(),Py(T,z,p,f,l3);else if(O==="Home")A.preventDefault(),Py(T,null,p,f,vT);else if(O==="End")A.preventDefault(),Py(T,null,p,f,l3);else if(O.length===1){const F=_.current,P=O.toLowerCase(),w=performance.now();F.keys.length>0&&(w-F.lastTime>500?(F.keys=[],F.repeating=!0,F.previousKeyMatched=!0):F.repeating&&P!==F.keys[0]&&(F.repeating=!1)),F.lastTime=w,F.keys.push(P);const L=z&&!F.repeating&&iI(z,F);F.previousKeyMatched&&(L||Py(T,z,!1,f,vT,F))?A.preventDefault():F.previousKeyMatched=!1}m&&m(A)},M=mr(b,t);let x=-1;K.Children.forEach(o,(A,T)=>{if(!K.isValidElement(A)){x===T&&(x+=1,x>=o.length&&(x=-1));return}A.props.disabled||(g==="selectedMenu"&&A.props.selected||x===-1)&&(x=T),x===T&&(A.props.disabled||A.props.muiSkipListHighlight||A.type.muiSkipListHighlight)&&(x+=1,x>=o.length&&(x=-1))});const D=K.Children.map(o,(A,T)=>{if(T===x){const O={};return a&&(O.autoFocus=!0),A.props.tabIndex===void 0&&g==="selectedMenu"&&(O.tabIndex=0),K.cloneElement(A,O)}return A});return pe.jsx(tI,{role:"menu",ref:M,className:c,onKeyDown:E,tabIndex:r?0:-1,...y,children:D})});function WK(n){return En("MuiPopover",n)}hn("MuiPopover",["root","paper"]);function c3(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function u3(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function f3(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function aS(n){return typeof n=="function"?n():n}const XK=n=>{const{classes:e}=n;return Tn({root:["root"],paper:["paper"]},WK,e)},YK=xt(hC,{name:"MuiPopover",slot:"Root"})({}),rI=xt(Zm,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),$K=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiPopover"}),{action:r,anchorEl:a,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:f="anchorEl",children:p,className:m,container:g,elevation:y=8,marginThreshold:b=16,open:_,PaperProps:E={},slots:M={},slotProps:x={},transformOrigin:D={vertical:"top",horizontal:"left"},TransitionComponent:A,transitionDuration:T="auto",TransitionProps:O={},disableScrollLock:N=!1,...z}=i,F=K.useRef(),P={...i,anchorOrigin:o,anchorReference:f,elevation:y,marginThreshold:b,transformOrigin:D,TransitionComponent:A,transitionDuration:T,TransitionProps:O},w=XK(P),L=K.useCallback(()=>{if(f==="anchorPosition")return c;const Ee=aS(a),et=(Ee&&Ee.nodeType===1?Ee:Hs(F.current).body).getBoundingClientRect();return{top:et.top+c3(et,o.vertical),left:et.left+u3(et,o.horizontal)}},[a,o.horizontal,o.vertical,c,f]),H=K.useCallback(Ee=>({vertical:c3(Ee,D.vertical),horizontal:u3(Ee,D.horizontal)}),[D.horizontal,D.vertical]),V=K.useCallback(Ee=>{const Ge={width:Ee.offsetWidth,height:Ee.offsetHeight},et=H(Ge);if(f==="none")return{top:null,left:null,transformOrigin:f3(et)};const nt=L();let J=nt.top-et.vertical,We=nt.left-et.horizontal;const Re=J+Ge.height,ze=We+Ge.width,ve=ol(aS(a)),ot=ve.innerHeight-b,Ae=ve.innerWidth-b;if(b!==null&&J<b){const te=J-b;J-=te,et.vertical+=te}else if(b!==null&&Re>ot){const te=Re-ot;J-=te,et.vertical+=te}if(b!==null&&We<b){const te=We-b;We-=te,et.horizontal+=te}else if(ze>Ae){const te=ze-Ae;We-=te,et.horizontal+=te}return{top:`${Math.round(J)}px`,left:`${Math.round(We)}px`,transformOrigin:f3(et)}},[a,f,L,H,b]),[G,$]=K.useState(_),B=K.useCallback(()=>{const Ee=F.current;if(!Ee)return;const Ge=V(Ee);Ge.top!==null&&Ee.style.setProperty("top",Ge.top),Ge.left!==null&&(Ee.style.left=Ge.left),Ee.style.transformOrigin=Ge.transformOrigin,$(!0)},[V]);K.useEffect(()=>(N&&window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B)),[a,N,B]);const j=()=>{B()},q=()=>{$(!1)};K.useEffect(()=>{_&&B()}),K.useImperativeHandle(r,()=>_?{updatePosition:()=>{B()}}:null,[_,B]),K.useEffect(()=>{if(!_)return;const Ee=Jw(()=>{B()}),Ge=ol(aS(a));return Ge.addEventListener("resize",Ee),()=>{Ee.clear(),Ge.removeEventListener("resize",Ee)}},[a,_,B]);let Q=T;const W={slots:{transition:A,...M},slotProps:{transition:O,paper:E,...x}},[ie,le]=Xn("transition",{elementType:TA,externalForwardedProps:W,ownerState:P,getSlotProps:Ee=>({...Ee,onEntering:(Ge,et)=>{var nt;(nt=Ee.onEntering)==null||nt.call(Ee,Ge,et),j()},onExited:Ge=>{var et;(et=Ee.onExited)==null||et.call(Ee,Ge),q()}}),additionalProps:{appear:!0,in:_}});T==="auto"&&!ie.muiSupportAuto&&(Q=void 0);const he=g||(a?Hs(aS(a)).body:void 0),[ae,{slots:se,slotProps:me,...xe}]=Xn("root",{ref:t,elementType:YK,externalForwardedProps:{...W,...z},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:M.backdrop},slotProps:{backdrop:SL(typeof x.backdrop=="function"?x.backdrop(P):x.backdrop,{invisible:!0})},container:he,open:_},ownerState:P,className:Lt(w.root,m)}),[ke,Qe]=Xn("paper",{ref:F,className:w.paper,elementType:rI,externalForwardedProps:W,shouldForwardComponentProp:!0,additionalProps:{elevation:y,style:G?void 0:{opacity:0}},ownerState:P});return pe.jsx(ae,{...xe,...!kv(ae)&&{slots:se,slotProps:me,disableScrollLock:N},children:pe.jsx(ie,{...le,timeout:Q,children:pe.jsx(ke,{...Qe,children:p})})})});function QK(n){return En("MuiMenu",n)}hn("MuiMenu",["root","paper","list"]);const KK={vertical:"top",horizontal:"right"},ZK={vertical:"top",horizontal:"left"},JK=n=>{const{classes:e}=n;return Tn({root:["root"],paper:["paper"],list:["list"]},QK,e)},eZ=xt($K,{shouldForwardProp:n=>ks(n)||n==="classes",name:"MuiMenu",slot:"Root"})({}),tZ=xt(rI,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),nZ=xt(jK,{name:"MuiMenu",slot:"List"})({outline:0}),iZ=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiMenu"}),{autoFocus:r=!0,children:a,className:o,disableAutoFocusItem:c=!1,MenuListProps:f={},onClose:p,open:m,PaperProps:g={},PopoverClasses:y,transitionDuration:b="auto",TransitionProps:{onEntering:_,...E}={},variant:M="selectedMenu",slots:x={},slotProps:D={},...A}=i,T=$w(),O={...i,autoFocus:r,disableAutoFocusItem:c,MenuListProps:f,onEntering:_,PaperProps:g,transitionDuration:b,TransitionProps:E,variant:M},N=JK(O),z=r&&!c&&m,F=K.useRef(null),P=(Q,W)=>{F.current&&F.current.adjustStyleForScrollbar(Q,{direction:T?"rtl":"ltr"}),_&&_(Q,W)},w=Q=>{Q.key==="Tab"&&(Q.preventDefault(),p&&p(Q,"tabKeyDown"))};let L=-1;K.Children.map(a,(Q,W)=>{K.isValidElement(Q)&&(Q.props.disabled||(M==="selectedMenu"&&Q.props.selected||L===-1)&&(L=W))});const H={slots:x,slotProps:{list:f,transition:E,paper:g,...D}},V=kL({elementType:x.root,externalSlotProps:D.root,ownerState:O,className:[N.root,o]}),[G,$]=Xn("paper",{className:N.paper,elementType:tZ,externalForwardedProps:H,shouldForwardComponentProp:!0,ownerState:O}),[B,j]=Xn("list",{className:Lt(N.list,f.className),elementType:nZ,shouldForwardComponentProp:!0,externalForwardedProps:H,getSlotProps:Q=>({...Q,onKeyDown:W=>{var ie;w(W),(ie=Q.onKeyDown)==null||ie.call(Q,W)}}),ownerState:O}),q=typeof H.slotProps.transition=="function"?H.slotProps.transition(O):H.slotProps.transition;return pe.jsx(eZ,{onClose:p,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?KK:ZK,slots:{root:x.root,paper:G,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:V,paper:$,backdrop:typeof D.backdrop=="function"?D.backdrop(O):D.backdrop,transition:{...q,onEntering:(...Q)=>{var W;P(...Q),(W=q==null?void 0:q.onEntering)==null||W.call(q,...Q)}}},open:m,ref:t,transitionDuration:b,ownerState:O,...A,classes:y,children:pe.jsx(B,{actions:F,autoFocus:r&&(L===-1||c),autoFocusItem:z,variant:M,...j,children:a})})});function rZ(n){return En("MuiMenuItem",n)}const Uy=hn("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),aZ=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.divider&&e.divider,!t.disableGutters&&e.gutters]},sZ=n=>{const{disabled:e,dense:t,divider:i,disableGutters:r,selected:a,classes:o}=n,f=Tn({root:["root",t&&"dense",e&&"disabled",!r&&"gutters",i&&"divider",a&&"selected"]},rZ,o);return{...o,...f}},oZ=xt(Fv,{shouldForwardProp:n=>ks(n)||n==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:aZ})(Cn(({theme:n})=>({...n.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Uy.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:yi(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${Uy.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:yi(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${Uy.selected}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:yi(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:yi(n.palette.primary.main,n.palette.action.selectedOpacity)}},[`&.${Uy.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${Uy.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`& + .${r3.root}`]:{marginTop:n.spacing(1),marginBottom:n.spacing(1)},[`& + .${r3.inset}`]:{marginLeft:52},[`& .${hm.root}`]:{marginTop:0,marginBottom:0},[`& .${hm.inset}`]:{paddingLeft:36},[`& .${o3.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[n.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...n.typography.body2,[`& .${o3.root} svg`]:{fontSize:"1.25rem"}}}]}))),d3=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:a="li",dense:o=!1,divider:c=!1,disableGutters:f=!1,focusVisibleClassName:p,role:m="menuitem",tabIndex:g,className:y,...b}=i,_=K.useContext(gf),E=K.useMemo(()=>({dense:o||_.dense||!1,disableGutters:f}),[_.dense,o,f]),M=K.useRef(null);sc(()=>{r&&M.current&&M.current.focus()},[r]);const x={...i,dense:E.dense,divider:c,disableGutters:f},D=sZ(i),A=mr(M,t);let T;return i.disabled||(T=g!==void 0?g:-1),pe.jsx(gf.Provider,{value:E,children:pe.jsx(oZ,{ref:A,role:m,tabIndex:T,component:a,focusVisibleClassName:Lt(D.focusVisible,p),className:Lt(D.root,y),...b,ownerState:x,classes:D})})});function lZ(n){return En("MuiNativeSelect",n)}const gC=hn("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),cZ=n=>{const{classes:e,variant:t,disabled:i,multiple:r,open:a,error:o}=n,c={select:["select",t,i&&"disabled",r&&"multiple",o&&"error"],icon:["icon",`icon${ht(t)}`,a&&"iconOpen",i&&"disabled"]};return Tn(c,lZ,e)},aI=xt("select")(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${gC.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),uZ=xt(aI,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ks,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${gC.multiple}`]:e.multiple}]}})({}),sI=xt("svg")(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${gC.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),fZ=xt(sI,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${ht(t.variant)}`],t.open&&e.iconOpen]}})({}),dZ=K.forwardRef(function(e,t){const{className:i,disabled:r,error:a,IconComponent:o,inputRef:c,variant:f="standard",...p}=e,m={...e,disabled:r,variant:f,error:a},g=cZ(m);return pe.jsxs(K.Fragment,{children:[pe.jsx(uZ,{ownerState:m,className:Lt(g.select,i),disabled:r,ref:c||t,...p}),e.multiple?null:pe.jsx(fZ,{as:o,ownerState:m,className:g.icon})]})});var h3;const hZ=xt("fieldset",{shouldForwardProp:ks})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),pZ=xt("legend",{shouldForwardProp:ks})(Cn(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function mZ(n){const{children:e,classes:t,className:i,label:r,notched:a,...o}=n,c=r!=null&&r!=="",f={...n,notched:a,withLabel:c};return pe.jsx(hZ,{"aria-hidden":!0,className:i,ownerState:f,...o,children:pe.jsx(pZ,{ownerState:f,children:c?pe.jsx("span",{children:r}):h3||(h3=pe.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const gZ=n=>{const{classes:e}=n,i=Tn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},U$,e);return{...e,...i}},yZ=xt(Y1,{shouldForwardProp:n=>ks(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:W1})(Cn(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${fo.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${fo.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${fo.focused} .${fo.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(Us()).map(([t])=>({props:{color:t},style:{[`&.${fo.focused} .${fo.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${fo.error} .${fo.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${fo.disabled} .${fo.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:i})=>t.multiline&&i==="small",style:{padding:"8.5px 14px"}}]}})),vZ=xt(mZ,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Cn(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),bZ=xt($1,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:X1})(Cn(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),yC=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiOutlinedInput"}),{components:r={},fullWidth:a=!1,inputComponent:o="input",label:c,multiline:f=!1,notched:p,slots:m={},slotProps:g={},type:y="text",...b}=i,_=gZ(i),E=tg(),M=eg({props:i,muiFormControl:E,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...i,color:M.color||"primary",disabled:M.disabled,error:M.error,focused:M.focused,formControl:E,fullWidth:a,hiddenLabel:M.hiddenLabel,multiline:f,size:M.size,type:y},D=m.root??r.Root??yZ,A=m.input??r.Input??bZ,[T,O]=Xn("notchedOutline",{elementType:vZ,className:_.notchedOutline,shouldForwardComponentProp:!0,ownerState:x,externalForwardedProps:{slots:m,slotProps:g},additionalProps:{label:c!=null&&c!==""&&M.required?pe.jsxs(K.Fragment,{children:[c," ","*"]}):c}});return pe.jsx(dC,{slots:{root:D,input:A},slotProps:g,renderSuffix:N=>pe.jsx(T,{...O,notched:typeof p<"u"?p:!!(N.startAdornment||N.filled||N.focused)}),fullWidth:a,inputComponent:o,multiline:f,ref:t,type:y,...b,classes:{..._,notchedOutline:null}})});yC.muiName="Input";function oI(n){return En("MuiSelect",n)}const Ly=hn("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var p3;const xZ=xt(aI,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${Ly.select}`]:e.select},{[`&.${Ly.select}`]:e[t.variant]},{[`&.${Ly.error}`]:e.error},{[`&.${Ly.multiple}`]:e.multiple}]}})({[`&.${Ly.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SZ=xt(sI,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${ht(t.variant)}`],t.open&&e.iconOpen]}})({}),_Z=xt("input",{shouldForwardProp:n=>xL(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function m3(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function MZ(n){return n==null||typeof n=="string"&&!n.trim()}const EZ=n=>{const{classes:e,variant:t,disabled:i,multiple:r,open:a,error:o}=n,c={select:["select",t,i&&"disabled",r&&"multiple",o&&"error"],icon:["icon",`icon${ht(t)}`,a&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return Tn(c,oI,e)},TZ=K.forwardRef(function(e,t){var Mt;const{"aria-describedby":i,"aria-label":r,autoFocus:a,autoWidth:o,children:c,className:f,defaultOpen:p,defaultValue:m,disabled:g,displayEmpty:y,error:b=!1,IconComponent:_,inputRef:E,labelId:M,MenuProps:x={},multiple:D,name:A,onBlur:T,onChange:O,onClose:N,onFocus:z,onOpen:F,open:P,readOnly:w,renderValue:L,required:H,SelectDisplayProps:V={},tabIndex:G,type:$,value:B,variant:j="standard",...q}=e,[Q,W]=ov({controlled:B,default:m,name:"Select"}),[ie,le]=ov({controlled:P,default:p,name:"Select"}),he=K.useRef(null),ae=K.useRef(null),[se,me]=K.useState(null),{current:xe}=K.useRef(P!=null),[ke,Qe]=K.useState(),Ee=mr(t,E),Ge=K.useCallback(qe=>{ae.current=qe,qe&&me(qe)},[]),et=se==null?void 0:se.parentNode;K.useImperativeHandle(Ee,()=>({focus:()=>{ae.current.focus()},node:he.current,value:Q}),[Q]),K.useEffect(()=>{p&&ie&&se&&!xe&&(Qe(o?null:et.clientWidth),ae.current.focus())},[se,o]),K.useEffect(()=>{a&&ae.current.focus()},[a]),K.useEffect(()=>{if(!M)return;const qe=Hs(ae.current).getElementById(M);if(qe){const oe=()=>{getSelection().isCollapsed&&ae.current.focus()};return qe.addEventListener("click",oe),()=>{qe.removeEventListener("click",oe)}}},[M]);const nt=(qe,oe)=>{qe?F&&F(oe):N&&N(oe),xe||(Qe(o?null:et.clientWidth),le(qe))},J=qe=>{qe.button===0&&(qe.preventDefault(),ae.current.focus(),nt(!0,qe))},We=qe=>{nt(!1,qe)},Re=K.Children.toArray(c),ze=qe=>{const oe=Re.find(Oe=>Oe.props.value===qe.target.value);oe!==void 0&&(W(oe.props.value),O&&O(qe,oe))},ve=qe=>oe=>{let Oe;if(oe.currentTarget.hasAttribute("tabindex")){if(D){Oe=Array.isArray(Q)?Q.slice():[];const ft=Q.indexOf(qe.props.value);ft===-1?Oe.push(qe.props.value):Oe.splice(ft,1)}else Oe=qe.props.value;if(qe.props.onClick&&qe.props.onClick(oe),Q!==Oe&&(W(Oe),O)){const ft=oe.nativeEvent||oe,fe=new ft.constructor(ft.type,ft);Object.defineProperty(fe,"target",{writable:!0,value:{value:Oe,name:A}}),O(fe,qe)}D||nt(!1,oe)}},ot=qe=>{w||[" ","ArrowUp","ArrowDown","Enter"].includes(qe.key)&&(qe.preventDefault(),nt(!0,qe))},Ae=se!==null&&ie,te=qe=>{!Ae&&T&&(Object.defineProperty(qe,"target",{writable:!0,value:{value:Q,name:A}}),T(qe))};delete q["aria-invalid"];let Y,be;const we=[];let Xe=!1;(D_({value:Q})||y)&&(L?Y=L(Q):Xe=!0);const Le=Re.map(qe=>{if(!K.isValidElement(qe))return null;let oe;if(D){if(!Array.isArray(Q))throw new Error(ru(2));oe=Q.some(Oe=>m3(Oe,qe.props.value)),oe&&Xe&&we.push(qe.props.children)}else oe=m3(Q,qe.props.value),oe&&Xe&&(be=qe.props.children);return K.cloneElement(qe,{"aria-selected":oe?"true":"false",onClick:ve(qe),onKeyUp:Oe=>{Oe.key===" "&&Oe.preventDefault(),qe.props.onKeyUp&&qe.props.onKeyUp(Oe)},role:"option",selected:oe,value:void 0,"data-value":qe.props.value})});Xe&&(D?we.length===0?Y=null:Y=we.reduce((qe,oe,Oe)=>(qe.push(oe),Oe<we.length-1&&qe.push(", "),qe),[]):Y=be);let ct=ke;!o&&xe&&se&&(ct=et.clientWidth);let at;typeof G<"u"?at=G:at=g?null:0;const bt=V.id||(A?`mui-component-select-${A}`:void 0),St={...e,variant:j,value:Q,open:Ae,error:b},Be=EZ(St),ut={...x.PaperProps,...(Mt=x.slotProps)==null?void 0:Mt.paper},_t=Km();return pe.jsxs(K.Fragment,{children:[pe.jsx(xZ,{as:"div",ref:Ge,tabIndex:at,role:"combobox","aria-controls":Ae?_t:void 0,"aria-disabled":g?"true":void 0,"aria-expanded":Ae?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[M,bt].filter(Boolean).join(" ")||void 0,"aria-describedby":i,"aria-required":H?"true":void 0,"aria-invalid":b?"true":void 0,onKeyDown:ot,onMouseDown:g||w?null:J,onBlur:te,onFocus:z,...V,ownerState:St,className:Lt(V.className,Be.select,f),id:bt,children:MZ(Y)?p3||(p3=pe.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):Y}),pe.jsx(_Z,{"aria-invalid":b,value:Array.isArray(Q)?Q.join(","):Q,name:A,ref:he,"aria-hidden":!0,onChange:ze,tabIndex:-1,disabled:g,className:Be.nativeInput,autoFocus:a,required:H,...q,ownerState:St}),pe.jsx(SZ,{as:_,className:Be.icon,ownerState:St}),pe.jsx(iZ,{id:`menu-${A||""}`,anchorEl:et,open:Ae,onClose:We,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":M,role:"listbox","aria-multiselectable":D?"true":void 0,disableListWrap:!0,id:_t,...x.MenuListProps},paper:{...ut,style:{minWidth:ct,...ut!=null?ut.style:null}}},children:Le})]})}),AZ=n=>{const{classes:e}=n,i=Tn({root:["root"]},oI,e);return{...e,...i}},vC={name:"MuiSelect",slot:"Root",shouldForwardProp:n=>ks(n)&&n!=="variant"},wZ=xt(mC,vC)(""),CZ=xt(yC,vC)(""),RZ=xt(pC,vC)(""),bC=K.forwardRef(function(e,t){const i=Rn({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:a,classes:o={},className:c,defaultOpen:f=!1,displayEmpty:p=!1,IconComponent:m=WL,id:g,input:y,inputProps:b,label:_,labelId:E,MenuProps:M,multiple:x=!1,native:D=!1,onClose:A,onOpen:T,open:O,renderValue:N,SelectDisplayProps:z,variant:F="outlined",...P}=i,w=D?dZ:TZ,L=tg(),H=eg({props:i,muiFormControl:L,states:["variant","error"]}),V=H.variant||F,G={...i,variant:V,classes:o},$=AZ(G),{root:B,...j}=$,q=y||{standard:pe.jsx(wZ,{ownerState:G}),outlined:pe.jsx(CZ,{label:_,ownerState:G}),filled:pe.jsx(RZ,{ownerState:G})}[V],Q=mr(t,Jm(q));return pe.jsx(K.Fragment,{children:K.cloneElement(q,{inputComponent:w,inputProps:{children:a,error:H.error,IconComponent:m,variant:V,type:void 0,multiple:x,...D?{id:g}:{autoWidth:r,defaultOpen:f,displayEmpty:p,labelId:E,MenuProps:M,onClose:A,onOpen:T,open:O,renderValue:N,SelectDisplayProps:{id:g,...z}},...b,classes:b?_a(j,b.classes):j,...y?y.props.inputProps:{}},...(x&&D||p)&&V==="outlined"?{notched:!0}:{},ref:Q,className:Lt(q.props.className,c,$.root),...!y&&{variant:V},...P})})});bC.muiName="Select";function OZ(n){return En("MuiTextField",n)}hn("MuiTextField",["root"]);const DZ={standard:mC,filled:pC,outlined:yC},NZ=n=>{const{classes:e}=n;return Tn({root:["root"]},OZ,e)},PZ=xt(JL,{name:"MuiTextField",slot:"Root"})({}),UZ=K.forwardRef(function(e,t){const i=Rn({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:a=!1,children:o,className:c,color:f="primary",defaultValue:p,disabled:m=!1,error:g=!1,FormHelperTextProps:y,fullWidth:b=!1,helperText:_,id:E,InputLabelProps:M,inputProps:x,InputProps:D,inputRef:A,label:T,maxRows:O,minRows:N,multiline:z=!1,name:F,onBlur:P,onChange:w,onFocus:L,placeholder:H,required:V=!1,rows:G,select:$=!1,SelectProps:B,slots:j={},slotProps:q={},type:Q,value:W,variant:ie="outlined",...le}=i,he={...i,autoFocus:a,color:f,disabled:m,error:g,fullWidth:b,multiline:z,required:V,select:$,variant:ie},ae=NZ(he),se=Km(E),me=_&&se?`${se}-helper-text`:void 0,xe=T&&se?`${se}-label`:void 0,ke=DZ[ie],Qe={slots:j,slotProps:{input:D,inputLabel:M,htmlInput:x,formHelperText:y,select:B,...q}},Ee={},Ge=Qe.slotProps.inputLabel;ie==="outlined"&&(Ge&&typeof Ge.shrink<"u"&&(Ee.notched=Ge.shrink),Ee.label=T),$&&((!B||!B.native)&&(Ee.id=void 0),Ee["aria-describedby"]=void 0);const[et,nt]=Xn("root",{elementType:PZ,shouldForwardComponentProp:!0,externalForwardedProps:{...Qe,...le},ownerState:he,className:Lt(ae.root,c),ref:t,additionalProps:{disabled:m,error:g,fullWidth:b,required:V,color:f,variant:ie}}),[J,We]=Xn("input",{elementType:ke,externalForwardedProps:Qe,additionalProps:Ee,ownerState:he}),[Re,ze]=Xn("inputLabel",{elementType:eI,externalForwardedProps:Qe,ownerState:he}),[ve,ot]=Xn("htmlInput",{elementType:"input",externalForwardedProps:Qe,ownerState:he}),[Ae,te]=Xn("formHelperText",{elementType:mK,externalForwardedProps:Qe,ownerState:he}),[Y,be]=Xn("select",{elementType:bC,externalForwardedProps:Qe,ownerState:he}),we=pe.jsx(J,{"aria-describedby":me,autoComplete:r,autoFocus:a,defaultValue:p,fullWidth:b,multiline:z,name:F,rows:G,maxRows:O,minRows:N,type:Q,value:W,id:se,inputRef:A,onBlur:P,onChange:w,onFocus:L,placeholder:H,inputProps:ot,slots:{input:j.htmlInput?ve:void 0},...We});return pe.jsxs(et,{...nt,children:[T!=null&&T!==""&&pe.jsx(Re,{htmlFor:se,id:xe,...ze,children:T}),$?pe.jsx(Y,{"aria-describedby":me,id:se,labelId:xe,value:W,input:we,...be,children:o}):we,_&&pe.jsx(Ae,{id:me,...te,children:_})]})}),LZ=({onClose:n,blueprint:e,onConfirm:t,availableParts:i})=>{const[r,a]=K.useState([]),[o,c]=K.useState({}),[f,p]=K.useState({}),[m,g]=K.useState({});K.useEffect(()=>{open&&e&&(async()=>{var T;const M=((T=e.blueprint_config)==null?void 0:T.parts)||[],x=await Promise.all(M.map(async O=>{var P,w;const N=((P=O.tags)==null?void 0:P.require)||[],z=((w=O.tags)==null?void 0:w.deny)||[],F={require:N,deny:z};try{const H=await(await fetch("https://openforge-proxy.vercel.app/api/blueprints/tags",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)})).json(),V=H.blueprints||[],G=H.tag_counts||{},$=Object.keys(G).filter(B=>G[B]>0&&!N.some(j=>j.tag===B));return{slot:O.name,originalRequire:N,originalDeny:z,options:V,filterTags:$}}catch(L){return console.error(`Error fetching options for part ${O.name}:`,L),{slot:O.name,originalRequire:N,originalDeny:z,options:[],filterTags:[]}}}));a(x);const D={};x.forEach(O=>{var N;D[O.slot]=((N=O.options[0])==null?void 0:N.storage_address)||null}),c(D);const A={};x.forEach(O=>{A[O.slot]=O.filterTags}),g(A),p({})})()},[open,e]);const y=(E,M,x)=>{p(T=>({...T,[E]:x}));const D=r.find(T=>T.slot===E);if(!D)return;(async()=>{const T={require:[...D.originalRequire,...x.map(O=>({tag:O}))],deny:D.originalDeny};try{const N=await(await fetch("/api/blueprints/tags",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)})).json(),z=N.blueprints||[],F=N.tag_counts||{},P=Object.keys(F).filter(L=>F[L]>0&&!T.require.some(H=>H.tag===L));g(L=>({...L,[E]:P}));const w=r.map(L=>L.slot===E?{...L,options:z,filterTags:P}:L);a(w),o[E]&&!z.some(L=>L.storage_address===o[E])&&c(L=>{var H;return{...L,[E]:((H=z[0])==null?void 0:H.storage_address)||null}})}catch(O){console.error(`Error fetching filtered options for part ${E}:`,O)}})()},b=(E,M)=>{c(x=>({...x,[E]:M}))},_=()=>{const E=Object.values(o).filter(Boolean);t(E.map(M=>(M==null?void 0:M.replace("https://objects.openforge.tools","https://openforge-proxy.vercel.app"))||"")),n()};return pe.jsxs(LQ,{open:!0,onClose:n,maxWidth:"md",fullWidth:!0,children:[pe.jsxs(YQ,{children:["Select Parts for ",(e==null?void 0:e.blueprint_name)||"Tile"]}),pe.jsx(jQ,{children:r.map(E=>pe.jsxs(MA,{sx:{mb:3,border:"1px solid #ddd",p:2,borderRadius:2},children:[pe.jsx(Kc,{variant:"h6",gutterBottom:!0,children:E.slot}),pe.jsx($$,{multiple:!0,options:m[E.slot]||[],value:f[E.slot]||[],onChange:(M,x)=>y(E.slot,M,x),renderInput:M=>pe.jsx(UZ,{...M,label:`Filter Options for ${E.slot}`,placeholder:"Select filters"}),renderTags:(M,x)=>M.map((D,A)=>pe.jsx(jL,{label:D,...x({index:A})})),sx:{mb:2}}),pe.jsxs(JL,{fullWidth:!0,margin:"dense",children:[pe.jsx(eI,{children:"Select Blueprint"}),pe.jsx(bC,{value:o[E.slot]||"",onChange:M=>b(E.slot,M.target.value),label:"Select Blueprint",children:E.options.length===0?pe.jsx(d3,{value:"",disabled:!0,children:"No blueprints available"}):E.options.map(M=>pe.jsx(d3,{value:M.storage_address,children:M.blueprint_name},M.storage_address))})]})]},E.slot))}),pe.jsxs(FQ,{children:[pe.jsx(e3,{onClick:n,children:"Cancel"}),pe.jsx(e3,{onClick:_,variant:"contained",color:"primary",children:"Confirm"})]})]})};var lI=class extends Error{constructor(e){super(e[0].message);ss(this,"issues");this.name="SchemaError",this.issues=e}},cI=Object.defineProperty,IZ=Object.getOwnPropertyDescriptor,zZ=Object.getOwnPropertyNames,BZ=Object.prototype.hasOwnProperty,FZ=(n,e)=>{for(var t in e)cI(n,t,{get:e[t],enumerable:!0})},HZ=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of zZ(e))!BZ.call(n,r)&&r!==t&&cI(n,r,{get:()=>e[r],enumerable:!(i=IZ(e,r))||i.enumerable});return n},VZ=(n,e,t)=>(HZ(n,e,"default"),t);function g3(n){return{status:n,isUninitialized:n==="uninitialized",isLoading:n==="pending",isSuccess:n==="fulfilled",isError:n==="rejected"}}function sS(n){return n.replace(n[0],n[0].toUpperCase())}var ou={};FZ(ou,{ReducerType:()=>EI,SHOULD_AUTOBATCH:()=>v0,TaskAbortError:()=>S0,Tuple:()=>xC,addListener:()=>MC,asyncThunkCreator:()=>rJ,autoBatchEnhancer:()=>yI,buildCreateSlice:()=>TI,clearAllListeners:()=>II,combineSlices:()=>kJ,configureStore:()=>JZ,createAction:()=>ea,createActionCreatorInvariantMiddleware:()=>WZ,createAsyncThunk:()=>P_,createDraftSafeSelector:()=>fI,createDraftSafeSelectorCreator:()=>uI,createDynamicMiddleware:()=>PJ,createEntityAdapter:()=>xJ,createImmutableStateInvariantMiddleware:()=>YZ,createListenerMiddleware:()=>OJ,createNextState:()=>Ta,createReducer:()=>bI,createSelector:()=>Ym,createSelectorCreator:()=>c0,createSerializableStateInvariantMiddleware:()=>$Z,createSlice:()=>Vd,current:()=>wh,findNonSerializableValue:()=>mI,formatProdErrorMessage:()=>zr,freeze:()=>l0,isActionCreator:()=>qZ,isAllOf:()=>th,isAnyOf:()=>lc,isAsyncThunkAction:()=>N_,isDraft:()=>er,isFluxStandardAction:()=>hI,isFulfilled:()=>lu,isImmutableDefault:()=>XZ,isPending:()=>K1,isPlain:()=>pI,isRejected:()=>bh,isRejectedWithValue:()=>x0,lruMemoize:()=>UU,miniSerializeError:()=>SI,nanoid:()=>Ch,original:()=>R1,prepareAutoBatched:()=>om,removeListener:()=>EC,unwrapResult:()=>_I,weakMapMemoize:()=>ac});VZ(ou,wU);var uI=(...n)=>{const e=c0(...n),t=Object.assign((...i)=>{const r=e(...i),a=(o,...c)=>r(er(o)?wh(o):o,...c);return Object.assign(a,r),a},{withTypes:()=>t});return t},fI=uI(ac),kZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bs:Bs.apply(null,arguments)},dI=n=>n&&typeof n.match=="function";function GZ(n,e){return n.catch(e)}function ea(n,e){function t(...i){if(e){let r=e(...i);if(!r)throw new Error(zr(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>wf(i)&&i.type===n,t}function qZ(n){return typeof n=="function"&&"type"in n&&dI(n)}function hI(n){return wf(n)&&Object.keys(n).every(jZ)}function jZ(n){return["type","payload","error","meta"].indexOf(n)>-1}function WZ(n={}){return()=>e=>t=>e(t)}var xC=class jy extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,jy.prototype)}static get[Symbol.species](){return jy}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new jy(...e[0].concat(this)):new jy(...e.concat(this))}};function y3(n){return Ma(n)?Ta(n,()=>{}):n}function $d(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function XZ(n){return typeof n!="object"||n==null||Object.isFrozen(n)}function YZ(n={}){return()=>e=>t=>e(t)}function pI(n){const e=typeof n;return n==null||e==="string"||e==="boolean"||e==="number"||Array.isArray(n)||Af(n)}function mI(n,e="",t=pI,i,r=[],a){let o;if(!t(n))return{keyPath:e||"<root>",value:n};if(typeof n!="object"||n===null||a!=null&&a.has(n))return!1;const c=i!=null?i(n):Object.entries(n),f=r.length>0;for(const[p,m]of c){const g=e?e+"."+p:p;if(!(f&&r.some(b=>b instanceof RegExp?b.test(g):g===b))){if(!t(m))return{keyPath:g,value:m};if(typeof m=="object"&&(o=mI(m,g,t,i,r,a),o))return o}}return a&&gI(n)&&a.add(n),!1}function gI(n){if(!Object.isFrozen(n))return!1;for(const e of Object.values(n))if(!(typeof e!="object"||e===null)&&!gI(e))return!1;return!0}function $Z(n={}){return()=>e=>t=>e(t)}function QZ(n){return typeof n=="boolean"}var KZ=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let o=new xC;return t&&(QZ(t)?o.push(Ow):o.push(Dw(t.extraArgument))),o},v0="RTK_autoBatch",om=()=>n=>({payload:n,meta:{[v0]:!0}}),v3=n=>e=>{setTimeout(e,n)},yI=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let r=!0,a=!1,o=!1;const c=new Set,f=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:v3(10):n.type==="callback"?n.queueNotification:v3(n.timeout),p=()=>{o=!1,a&&(a=!1,c.forEach(m=>m()))};return Object.assign({},i,{subscribe(m){const g=()=>r&&m(),y=i.subscribe(g);return c.add(m),()=>{y(),c.delete(m)}},dispatch(m){var g;try{return r=!((g=m==null?void 0:m.meta)!=null&&g[v0]),a=!r,a&&(o||(o=!0,f(p))),i.dispatch(m)}finally{r=!0}}})},ZZ=n=>function(t){const{autoBatch:i=!0}=t??{};let r=new xC(n);return i&&r.push(yI(typeof i=="object"?i:void 0)),r};function JZ(n){const e=KZ(),{reducer:t=void 0,middleware:i,devTools:r=!0,duplicateMiddlewareCheck:a=!0,preloadedState:o=void 0,enhancers:c=void 0}=n||{};let f;if(typeof t=="function")f=t;else if(Af(t))f=Xm(t);else throw new Error(zr(1));let p;typeof i=="function"?p=i(e):p=e();let m=Bs;r&&(m=kZ({trace:!1,...typeof r=="object"&&r}));const g=C1(...p),y=ZZ(g);let b=typeof c=="function"?c(y):y();const _=m(...b);return Wm(f,o,_)}function vI(n){const e={},t=[];let i;const r={addCase(a,o){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(zr(28));if(c in e)throw new Error(zr(29));return e[c]=o,r},addMatcher(a,o){return t.push({matcher:a,reducer:o}),r},addDefaultCase(a){return i=a,r}};return n(r),[e,t,i]}function eJ(n){return typeof n=="function"}function bI(n,e){let[t,i,r]=vI(e),a;if(eJ(n))a=()=>y3(n());else{const c=y3(n);a=()=>c}function o(c=a(),f){let p=[t[f.type],...i.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return p.filter(m=>!!m).length===0&&(p=[r]),p.reduce((m,g)=>{if(g)if(er(m)){const b=g(m,f);return b===void 0?m:b}else{if(Ma(m))return Ta(m,y=>g(y,f));{const y=g(m,f);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},c)}return o.getInitialState=a,o}var xI=(n,e)=>dI(n)?n.match(e):n(e);function lc(...n){return e=>n.some(t=>xI(t,e))}function th(...n){return e=>n.every(t=>xI(t,e))}function Q1(n,e){if(!n||!n.meta)return!1;const t=typeof n.meta.requestId=="string",i=e.indexOf(n.meta.requestStatus)>-1;return t&&i}function b0(n){return typeof n[0]=="function"&&"pending"in n[0]&&"fulfilled"in n[0]&&"rejected"in n[0]}function K1(...n){return n.length===0?e=>Q1(e,["pending"]):b0(n)?lc(...n.map(e=>e.pending)):K1()(n[0])}function bh(...n){return n.length===0?e=>Q1(e,["rejected"]):b0(n)?lc(...n.map(e=>e.rejected)):bh()(n[0])}function x0(...n){const e=t=>t&&t.meta&&t.meta.rejectedWithValue;return n.length===0?th(bh(...n),e):b0(n)?th(bh(...n),e):x0()(n[0])}function lu(...n){return n.length===0?e=>Q1(e,["fulfilled"]):b0(n)?lc(...n.map(e=>e.fulfilled)):lu()(n[0])}function N_(...n){return n.length===0?e=>Q1(e,["pending","fulfilled","rejected"]):b0(n)?lc(...n.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):N_()(n[0])}var tJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ch=(n=21)=>{let e="",t=n;for(;t--;)e+=tJ[Math.random()*64|0];return e},nJ=["name","message","stack","code"],bT=class{constructor(e,t){ss(this,"_type");this.payload=e,this.meta=t}},b3=class{constructor(e,t){ss(this,"_type");this.payload=e,this.meta=t}},SI=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of nJ)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},x3="External signal was aborted",P_=(()=>{function n(e,t,i){const r=ea(e+"/fulfilled",(f,p,m,g)=>({payload:f,meta:{...g||{},arg:m,requestId:p,requestStatus:"fulfilled"}})),a=ea(e+"/pending",(f,p,m)=>({payload:void 0,meta:{...m||{},arg:p,requestId:f,requestStatus:"pending"}})),o=ea(e+"/rejected",(f,p,m,g,y)=>({payload:g,error:(i&&i.serializeError||SI)(f||"Rejected"),meta:{...y||{},arg:m,requestId:p,rejectedWithValue:!!g,requestStatus:"rejected",aborted:(f==null?void 0:f.name)==="AbortError",condition:(f==null?void 0:f.name)==="ConditionError"}}));function c(f,{signal:p}={}){return(m,g,y)=>{const b=i!=null&&i.idGenerator?i.idGenerator(f):Ch(),_=new AbortController;let E,M;function x(A){M=A,_.abort()}p&&(p.aborted?x(x3):p.addEventListener("abort",()=>x(x3),{once:!0}));const D=async function(){var O,N;let A;try{let z=(O=i==null?void 0:i.condition)==null?void 0:O.call(i,f,{getState:g,extra:y});if(iJ(z)&&(z=await z),z===!1||_.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const F=new Promise((P,w)=>{E=()=>{w({name:"AbortError",message:M||"Aborted"})},_.signal.addEventListener("abort",E)});m(a(b,f,(N=i==null?void 0:i.getPendingMeta)==null?void 0:N.call(i,{requestId:b,arg:f},{getState:g,extra:y}))),A=await Promise.race([F,Promise.resolve(t(f,{dispatch:m,getState:g,extra:y,requestId:b,signal:_.signal,abort:x,rejectWithValue:(P,w)=>new bT(P,w),fulfillWithValue:(P,w)=>new b3(P,w)})).then(P=>{if(P instanceof bT)throw P;return P instanceof b3?r(P.payload,b,f,P.meta):r(P,b,f)})])}catch(z){A=z instanceof bT?o(null,b,f,z.payload,z.meta):o(z,b,f)}finally{E&&_.signal.removeEventListener("abort",E)}return i&&!i.dispatchConditionRejection&&o.match(A)&&A.meta.condition||m(A),A}();return Object.assign(D,{abort:x,requestId:b,arg:f,unwrap(){return D.then(_I)}})}}return Object.assign(c,{pending:a,rejected:o,fulfilled:r,settled:lc(o,r),typePrefix:e})}return n.withTypes=()=>n,n})();function _I(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function iJ(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var MI=Symbol.for("rtk-slice-createasyncthunk"),rJ={[MI]:P_},EI=(n=>(n.reducer="reducer",n.reducerWithPrepare="reducerWithPrepare",n.asyncThunk="asyncThunk",n))(EI||{});function aJ(n,e){return`${n}/${e}`}function TI({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[MI];return function(r){const{name:a,reducerPath:o=a}=r;if(!a)throw new Error(zr(11));const c=(typeof r.reducers=="function"?r.reducers(oJ()):r.reducers)||{},f=Object.keys(c),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(T,O){const N=typeof T=="string"?T:T.type;if(!N)throw new Error(zr(12));if(N in p.sliceCaseReducersByType)throw new Error(zr(13));return p.sliceCaseReducersByType[N]=O,m},addMatcher(T,O){return p.sliceMatchers.push({matcher:T,reducer:O}),m},exposeAction(T,O){return p.actionCreators[T]=O,m},exposeCaseReducer(T,O){return p.sliceCaseReducersByName[T]=O,m}};f.forEach(T=>{const O=c[T],N={reducerName:T,type:aJ(a,T),createNotation:typeof r.reducers=="function"};cJ(O)?fJ(N,O,m,e):lJ(N,O,m)});function g(){const[T={},O=[],N=void 0]=typeof r.extraReducers=="function"?vI(r.extraReducers):[r.extraReducers],z={...T,...p.sliceCaseReducersByType};return bI(r.initialState,F=>{for(let P in z)F.addCase(P,z[P]);for(let P of p.sliceMatchers)F.addMatcher(P.matcher,P.reducer);for(let P of O)F.addMatcher(P.matcher,P.reducer);N&&F.addDefaultCase(N)})}const y=T=>T,b=new Map,_=new WeakMap;let E;function M(T,O){return E||(E=g()),E(T,O)}function x(){return E||(E=g()),E.getInitialState()}function D(T,O=!1){function N(F){let P=F[T];return typeof P>"u"&&O&&(P=$d(_,N,x)),P}function z(F=y){const P=$d(b,O,()=>new WeakMap);return $d(P,F,()=>{const w={};for(const[L,H]of Object.entries(r.selectors??{}))w[L]=sJ(H,F,()=>$d(_,F,x),O);return w})}return{reducerPath:T,getSelectors:z,get selectors(){return z(N)},selectSlice:N}}const A={name:a,reducer:M,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:x,...D(o),injectInto(T,{reducerPath:O,...N}={}){const z=O??o;return T.inject({reducerPath:z,reducer:M},N),{...A,...D(z,!0)}}};return A}}function sJ(n,e,t,i){function r(a,...o){let c=e(a);return typeof c>"u"&&i&&(c=t()),n(c,...o)}return r.unwrapped=n,r}var Vd=TI();function oJ(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function lJ({type:n,reducerName:e,createNotation:t},i,r){let a,o;if("reducer"in i){if(t&&!uJ(i))throw new Error(zr(17));a=i.reducer,o=i.prepare}else a=i;r.addCase(n,a).exposeCaseReducer(e,a).exposeAction(e,o?ea(n,o):ea(n))}function cJ(n){return n._reducerDefinitionType==="asyncThunk"}function uJ(n){return n._reducerDefinitionType==="reducerWithPrepare"}function fJ({type:n,reducerName:e},t,i,r){if(!r)throw new Error(zr(18));const{payloadCreator:a,fulfilled:o,pending:c,rejected:f,settled:p,options:m}=t,g=r(n,a,m);i.exposeAction(e,g),o&&i.addCase(g.fulfilled,o),c&&i.addCase(g.pending,c),f&&i.addCase(g.rejected,f),p&&i.addMatcher(g.settled,p),i.exposeCaseReducer(e,{fulfilled:o||oS,pending:c||oS,rejected:f||oS,settled:p||oS})}function oS(){}function dJ(){return{ids:[],entities:{}}}function hJ(n){function e(t={},i){const r=Object.assign(dJ(),t);return i?n.setAll(r,i):r}return{getInitialState:e}}function pJ(){function n(e,t={}){const{createSelector:i=fI}=t,r=g=>g.ids,a=g=>g.entities,o=i(r,a,(g,y)=>g.map(b=>y[b])),c=(g,y)=>y,f=(g,y)=>g[y],p=i(r,g=>g.length);if(!e)return{selectIds:r,selectEntities:a,selectAll:o,selectTotal:p,selectById:i(a,c,f)};const m=i(e,a);return{selectIds:i(e,r),selectEntities:m,selectAll:i(e,o),selectTotal:i(e,p),selectById:i(m,c,f)}}return{getSelectors:n}}var mJ=er;function gJ(n){const e=Ki((t,i)=>n(i));return function(i){return e(i,void 0)}}function Ki(n){return function(t,i){function r(o){return hI(o)}const a=o=>{r(i)?n(i.payload,o):n(i,o)};return mJ(t)?(a(t),t):Ta(t,a)}}function pm(n,e){return e(n)}function nh(n){return Array.isArray(n)||(n=Object.values(n)),n}function wS(n){return er(n)?wh(n):n}function AI(n,e,t){n=nh(n);const i=wS(t.ids),r=new Set(i),a=[],o=new Set([]),c=[];for(const f of n){const p=pm(f,e);r.has(p)||o.has(p)?c.push({id:p,changes:f}):(o.add(p),a.push(f))}return[a,c,i]}function wI(n){function e(_,E){const M=pm(_,n);M in E.entities||(E.ids.push(M),E.entities[M]=_)}function t(_,E){_=nh(_);for(const M of _)e(M,E)}function i(_,E){const M=pm(_,n);M in E.entities||E.ids.push(M),E.entities[M]=_}function r(_,E){_=nh(_);for(const M of _)i(M,E)}function a(_,E){_=nh(_),E.ids=[],E.entities={},t(_,E)}function o(_,E){return c([_],E)}function c(_,E){let M=!1;_.forEach(x=>{x in E.entities&&(delete E.entities[x],M=!0)}),M&&(E.ids=E.ids.filter(x=>x in E.entities))}function f(_){Object.assign(_,{ids:[],entities:{}})}function p(_,E,M){const x=M.entities[E.id];if(x===void 0)return!1;const D=Object.assign({},x,E.changes),A=pm(D,n),T=A!==E.id;return T&&(_[E.id]=A,delete M.entities[E.id]),M.entities[A]=D,T}function m(_,E){return g([_],E)}function g(_,E){const M={},x={};_.forEach(A=>{var T;A.id in E.entities&&(x[A.id]={id:A.id,changes:{...(T=x[A.id])==null?void 0:T.changes,...A.changes}})}),_=Object.values(x),_.length>0&&_.filter(T=>p(M,T,E)).length>0&&(E.ids=Object.values(E.entities).map(T=>pm(T,n)))}function y(_,E){return b([_],E)}function b(_,E){const[M,x]=AI(_,n,E);t(M,E),g(x,E)}return{removeAll:gJ(f),addOne:Ki(e),addMany:Ki(t),setOne:Ki(i),setMany:Ki(r),setAll:Ki(a),updateOne:Ki(m),updateMany:Ki(g),upsertOne:Ki(y),upsertMany:Ki(b),removeOne:Ki(o),removeMany:Ki(c)}}function yJ(n,e,t){let i=0,r=n.length;for(;i<r;){let a=i+r>>>1;const o=n[a];t(e,o)>=0?i=a+1:r=a}return i}function vJ(n,e,t){const i=yJ(n,e,t);return n.splice(i,0,e),n}function bJ(n,e){const{removeOne:t,removeMany:i,removeAll:r}=wI(n);function a(M,x){return o([M],x)}function o(M,x,D){M=nh(M);const A=new Set(D??wS(x.ids)),T=M.filter(O=>!A.has(pm(O,n)));T.length!==0&&E(x,T)}function c(M,x){return f([M],x)}function f(M,x){if(M=nh(M),M.length!==0){for(const D of M)delete x.entities[n(D)];E(x,M)}}function p(M,x){M=nh(M),x.entities={},x.ids=[],o(M,x,[])}function m(M,x){return g([M],x)}function g(M,x){let D=!1,A=!1;for(let T of M){const O=x.entities[T.id];if(!O)continue;D=!0,Object.assign(O,T.changes);const N=n(O);if(T.id!==N){A=!0,delete x.entities[T.id];const z=x.ids.indexOf(T.id);x.ids[z]=N,x.entities[N]=O}}D&&E(x,[],D,A)}function y(M,x){return b([M],x)}function b(M,x){const[D,A,T]=AI(M,n,x);D.length&&o(D,x,T),A.length&&g(A,x)}function _(M,x){if(M.length!==x.length)return!1;for(let D=0;D<M.length;D++)if(M[D]!==x[D])return!1;return!0}const E=(M,x,D,A)=>{const T=wS(M.entities),O=wS(M.ids),N=M.entities;let z=O;A&&(z=new Set(O));let F=[];for(const L of z){const H=T[L];H&&F.push(H)}const P=F.length===0;for(const L of x)N[n(L)]=L,P||vJ(F,L,e);P?F=x.slice().sort(e):D&&F.sort(e);const w=F.map(n);_(O,w)||(M.ids=w)};return{removeOne:t,removeMany:i,removeAll:r,addOne:Ki(a),updateOne:Ki(m),upsertOne:Ki(y),setOne:Ki(c),setMany:Ki(f),setAll:Ki(p),addMany:Ki(o),updateMany:Ki(g),upsertMany:Ki(b)}}function xJ(n={}){const{selectId:e,sortComparer:t}={sortComparer:!1,selectId:o=>o.id,...n},i=t?bJ(e,t):wI(e),r=hJ(i),a=pJ();return{selectId:e,sortComparer:t,...r,...a,...i}}var SJ="task",CI="listener",RI="completed",SC="cancelled",_J=`task-${SC}`,MJ=`task-${RI}`,AA=`${CI}-${SC}`,EJ=`${CI}-${RI}`,S0=class{constructor(e){ss(this,"name","TaskAbortError");ss(this,"message");this.code=e,this.message=`${SJ} ${SC} (reason: ${e})`}},_C=(n,e)=>{if(typeof n!="function")throw new TypeError(zr(32))},U_=()=>{},OI=(n,e=U_)=>(n.catch(e),n),DI=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),ih=(n,e)=>{const t=n.signal;t.aborted||("reason"in t||Object.defineProperty(t,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),n.abort(e))},rh=n=>{if(n.aborted){const{reason:e}=n;throw new S0(e)}};function NI(n,e){let t=U_;return new Promise((i,r)=>{const a=()=>r(new S0(n.reason));if(n.aborted){a();return}t=DI(n,a),e.finally(()=>t()).then(i,r)}).finally(()=>{t=U_})}var TJ=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof S0?"cancelled":"rejected",error:t}}finally{e==null||e()}},L_=n=>e=>OI(NI(n,e).then(t=>(rh(n),t))),PI=n=>{const e=L_(n);return t=>e(new Promise(i=>setTimeout(i,t)))},{assign:xm}=Object,S3={},Z1="listenerMiddleware",AJ=(n,e)=>{const t=i=>DI(n,()=>ih(i,n.reason));return(i,r)=>{_C(i);const a=new AbortController;t(a);const o=TJ(async()=>{rh(n),rh(a.signal);const c=await i({pause:L_(a.signal),delay:PI(a.signal),signal:a.signal});return rh(a.signal),c},()=>ih(a,MJ));return r!=null&&r.autoJoin&&e.push(o.catch(U_)),{result:L_(n)(o),cancel(){ih(a,_J)}}}},wJ=(n,e)=>{const t=async(i,r)=>{rh(e);let a=()=>{};const c=[new Promise((f,p)=>{let m=n({predicate:i,effect:(g,y)=>{y.unsubscribe(),f([g,y.getState(),y.getOriginalState()])}});a=()=>{m(),p()}})];r!=null&&c.push(new Promise(f=>setTimeout(f,r,null)));try{const f=await NI(e,Promise.race(c));return rh(e),f}finally{a()}};return(i,r)=>OI(t(i,r))},UI=n=>{let{type:e,actionCreator:t,matcher:i,predicate:r,effect:a}=n;if(e)r=ea(e).match;else if(t)e=t.type,r=t.match;else if(i)r=i;else if(!r)throw new Error(zr(21));return _C(a),{predicate:r,type:e,effect:a}},LI=xm(n=>{const{type:e,predicate:t,effect:i}=UI(n);return{id:Ch(),effect:i,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(zr(22))}}},{withTypes:()=>LI}),_3=(n,e)=>{const{type:t,effect:i,predicate:r}=UI(e);return Array.from(n.values()).find(a=>(typeof t=="string"?a.type===t:a.predicate===r)&&a.effect===i)},wA=n=>{n.pending.forEach(e=>{ih(e,AA)})},CJ=n=>()=>{n.forEach(wA),n.clear()},M3=(n,e,t)=>{try{n(e,t)}catch(i){setTimeout(()=>{throw i},0)}},MC=xm(ea(`${Z1}/add`),{withTypes:()=>MC}),II=ea(`${Z1}/removeAll`),EC=xm(ea(`${Z1}/remove`),{withTypes:()=>EC}),RJ=(...n)=>{console.error(`${Z1}/error`,...n)},OJ=(n={})=>{const e=new Map,{extra:t,onError:i=RJ}=n;_C(i);const r=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&wA(m)}),a=m=>{const g=_3(e,m)??LI(m);return r(g)};xm(a,{withTypes:()=>a});const o=m=>{const g=_3(e,m);return g&&(g.unsubscribe(),m.cancelActive&&wA(g)),!!g};xm(o,{withTypes:()=>o});const c=async(m,g,y,b)=>{const _=new AbortController,E=wJ(a,_.signal),M=[];try{m.pending.add(_),await Promise.resolve(m.effect(g,xm({},y,{getOriginalState:b,condition:(x,D)=>E(x,D).then(Boolean),take:E,delay:PI(_.signal),pause:L_(_.signal),extra:t,signal:_.signal,fork:AJ(_.signal,M),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((x,D,A)=>{x!==_&&(ih(x,AA),A.delete(x))})},cancel:()=>{ih(_,AA),m.pending.delete(_)},throwIfCancelled:()=>{rh(_.signal)}})))}catch(x){x instanceof S0||M3(i,x,{raisedBy:"effect"})}finally{await Promise.all(M),ih(_,EJ),m.pending.delete(_)}},f=CJ(e);return{middleware:m=>g=>y=>{if(!wf(y))return g(y);if(MC.match(y))return a(y.payload);if(II.match(y)){f();return}if(EC.match(y))return o(y.payload);let b=m.getState();const _=()=>{if(b===S3)throw new Error(zr(23));return b};let E;try{if(E=g(y),e.size>0){const M=m.getState(),x=Array.from(e.values());for(const D of x){let A=!1;try{A=D.predicate(y,M,b)}catch(T){A=!1,M3(i,T,{raisedBy:"predicate"})}A&&c(D,y,m,_)}}}finally{b=S3}return E},startListening:a,stopListening:o,clearListeners:f}},DJ=n=>({middleware:n,applied:new Map}),NJ=n=>e=>{var t;return((t=e==null?void 0:e.meta)==null?void 0:t.instanceId)===n},PJ=()=>{const n=Ch(),e=new Map,t=Object.assign(ea("dynamicMiddleware/add",(...c)=>({payload:c,meta:{instanceId:n}})),{withTypes:()=>t}),i=Object.assign(function(...f){f.forEach(p=>{$d(e,p,DJ)})},{withTypes:()=>i}),r=c=>{const f=Array.from(e.values()).map(p=>$d(p.applied,c,p.middleware));return Bs(...f)},a=th(t,NJ(n));return{middleware:c=>f=>p=>a(p)?(i(...p.payload),c.dispatch):r(c)(f)(p),addMiddleware:i,withMiddleware:t,instanceId:n}},UJ=n=>"reducerPath"in n&&typeof n.reducerPath=="string",LJ=n=>n.flatMap(e=>UJ(e)?[[e.reducerPath,e.reducer]]:Object.entries(e)),TC=Symbol.for("rtk-state-proxy-original"),IJ=n=>!!n&&!!n[TC],zJ=new WeakMap,BJ=(n,e,t)=>$d(zJ,n,()=>new Proxy(n,{get:(i,r,a)=>{if(r===TC)return i;const o=Reflect.get(i,r,a);if(typeof o>"u"){const c=t[r];if(typeof c<"u")return c;const f=e[r];if(f){const p=f(void 0,{type:Ch()});if(typeof p>"u")throw new Error(zr(24));return t[r]=p,p}}return o}})),FJ=n=>{if(!IJ(n))throw new Error(zr(25));return n[TC]},HJ={},VJ=(n=HJ)=>n;function kJ(...n){const e=Object.fromEntries(LJ(n)),t=()=>Object.keys(e).length?Xm(e):VJ;let i=t();function r(f,p){return i(f,p)}r.withLazyLoadedSlices=()=>r;const a={},o=(f,p={})=>{const{reducerPath:m,reducer:g}=f,y=e[m];return!p.overrideExisting&&y&&y!==g||(p.overrideExisting&&y!==g&&delete a[m],e[m]=g,i=t()),r},c=Object.assign(function(p,m){return function(y,...b){return p(BJ(m?m(y,...b):y,e,a),...b)}},{original:FJ});return Object.assign(r,{inject:o,selector:c})}function zr(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var E3=ou.isPlainObject;function zI(n,e){if(n===e||!(E3(n)&&E3(e)||Array.isArray(n)&&Array.isArray(e)))return e;const t=Object.keys(e),i=Object.keys(n);let r=t.length===i.length;const a=Array.isArray(e)?[]:{};for(const o of t)a[o]=zI(n[o],e[o]),r&&(r=n[o]===a[o]);return r?n:a}function Sm(n){let e=0;for(const t in n)e++;return e}var T3=n=>[].concat(...n);function GJ(n){return new RegExp("(^|:)//").test(n)}function qJ(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function I_(n){return n!=null}function jJ(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var WJ=n=>n.replace(/\/$/,""),XJ=n=>n.replace(/^\//,"");function YJ(n,e){if(!n)return e;if(!e)return n;if(GJ(e))return e;const t=n.endsWith("/")||!e.startsWith("?")?"/":"";return n=WJ(n),e=XJ(e),`${n}${t}${e}`}function $J(n,e,t){return n.has(e)?n.get(e):n.set(e,t).get(e)}var A3=(...n)=>fetch(...n),QJ=n=>n.status>=200&&n.status<=299,KJ=n=>/ion\/(vnd\.api\+)?json/.test(n.get("content-type")||"");function w3(n){if(!(0,ou.isPlainObject)(n))return n;const e={...n};for(const[t,i]of Object.entries(e))i===void 0&&delete e[t];return e}function ZJ({baseUrl:n,prepareHeaders:e=g=>g,fetchFn:t=A3,paramsSerializer:i,isJsonContentType:r=KJ,jsonContentType:a="application/json",jsonReplacer:o,timeout:c,responseHandler:f,validateStatus:p,...m}={}){return typeof fetch>"u"&&t===A3&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(y,b,_)=>{const{getState:E,extra:M,endpoint:x,forced:D,type:A}=b;let T,{url:O,headers:N=new Headers(m.headers),params:z=void 0,responseHandler:F=f??"json",validateStatus:P=p??QJ,timeout:w=c,...L}=typeof y=="string"?{url:y}:y,H,V=b.signal;w&&(H=new AbortController,b.signal.addEventListener("abort",H.abort),V=H.signal);let G={...m,signal:V,...L};N=new Headers(w3(N)),G.headers=await e(N,{getState:E,arg:y,extra:M,endpoint:x,forced:D,type:A,extraOptions:_})||N;const $=ae=>typeof ae=="object"&&((0,ou.isPlainObject)(ae)||Array.isArray(ae)||typeof ae.toJSON=="function");if(!G.headers.has("content-type")&&$(G.body)&&G.headers.set("content-type",a),$(G.body)&&r(G.headers)&&(G.body=JSON.stringify(G.body,o)),z){const ae=~O.indexOf("?")?"&":"?",se=i?i(z):new URLSearchParams(w3(z));O+=ae+se}O=YJ(n,O);const B=new Request(O,G);T={request:new Request(O,G)};let q,Q=!1,W=H&&setTimeout(()=>{Q=!0,H.abort()},w);try{q=await t(B)}catch(ae){return{error:{status:Q?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(ae)},meta:T}}finally{W&&clearTimeout(W),H==null||H.signal.removeEventListener("abort",H.abort)}const ie=q.clone();T.response=ie;let le,he="";try{let ae;if(await Promise.all([g(q,F).then(se=>le=se,se=>ae=se),ie.text().then(se=>he=se,()=>{})]),ae)throw ae}catch(ae){return{error:{status:"PARSING_ERROR",originalStatus:q.status,data:he,error:String(ae)},meta:T}}return P(q,le)?{data:le,meta:T}:{error:{status:q.status,data:le},meta:T}};async function g(y,b){if(typeof b=="function")return b(y);if(b==="content-type"&&(b=r(y.headers)?"json":"text"),b==="json"){const _=await y.text();return _.length?JSON.parse(_):null}return y.text()}}var C3=class{constructor(e,t=void 0){this.value=e,this.meta=t}},AC=ea("__rtkq/focused"),BI=ea("__rtkq/unfocused"),wC=ea("__rtkq/online"),FI=ea("__rtkq/offline");function _0(n){return n.type==="query"}function HI(n){return n.type==="mutation"}function ng(n){return n.type==="infinitequery"}function z_(n){return _0(n)||ng(n)}function CC(n,e,t,i,r,a){return JJ(n)?n(e,t,i,r).filter(I_).map(CA).map(a):Array.isArray(n)?n.map(CA).map(a):[]}function JJ(n){return typeof n=="function"}function CA(n){return typeof n=="string"?{type:n}:n}var Gv=Symbol("forceQueryFn"),RA=n=>typeof n[Gv]=="function";function eee({serializeQueryArgs:n,queryThunk:e,infiniteQueryThunk:t,mutationThunk:i,api:r,context:a}){const o=new Map,c=new Map,{unsubscribeQueryResult:f,removeMutationResult:p,updateSubscriptionOptions:m}=r.internalActions;return{buildInitiateQuery:M,buildInitiateInfiniteQuery:x,buildInitiateMutation:D,getRunningQueryThunk:g,getRunningMutationThunk:y,getRunningQueriesThunk:b,getRunningMutationsThunk:_};function g(A,T){return O=>{var F;const N=a.endpointDefinitions[A],z=n({queryArgs:T,endpointDefinition:N,endpointName:A});return(F=o.get(O))==null?void 0:F[z]}}function y(A,T){return O=>{var N;return(N=c.get(O))==null?void 0:N[T]}}function b(){return A=>Object.values(o.get(A)||{}).filter(I_)}function _(){return A=>Object.values(c.get(A)||{}).filter(I_)}function E(A,T){const O=(N,{subscribe:z=!0,forceRefetch:F,subscriptionOptions:P,[Gv]:w,...L}={})=>(H,V)=>{var me;const G=n({queryArgs:N,endpointDefinition:T,endpointName:A});let $;const B={...L,type:"query",subscribe:z,forceRefetch:F,subscriptionOptions:P,endpointName:A,originalArgs:N,queryCacheKey:G,[Gv]:w};if(_0(T))$=e(B);else{const{direction:xe,initialPageParam:ke}=L;$=t({...B,direction:xe,initialPageParam:ke})}const j=r.endpoints[A].select(N),q=H($),Q=j(V()),{requestId:W,abort:ie}=q,le=Q.requestId!==W,he=(me=o.get(H))==null?void 0:me[G],ae=()=>j(V()),se=Object.assign(w?q.then(ae):le&&!he?Promise.resolve(Q):Promise.all([he,q]).then(ae),{arg:N,requestId:W,subscriptionOptions:P,queryCacheKey:G,abort:ie,async unwrap(){const xe=await se;if(xe.isError)throw xe.error;return xe.data},refetch:()=>H(O(N,{subscribe:!1,forceRefetch:!0})),unsubscribe(){z&&H(f({queryCacheKey:G,requestId:W}))},updateSubscriptionOptions(xe){se.subscriptionOptions=xe,H(m({endpointName:A,requestId:W,queryCacheKey:G,options:xe}))}});if(!he&&!le&&!w){const xe=$J(o,H,{});xe[G]=se,se.then(()=>{delete xe[G],Sm(xe)||o.delete(H)})}return se};return O}function M(A,T){return E(A,T)}function x(A,T){return E(A,T)}function D(A){return(T,{track:O=!0,fixedCacheKey:N}={})=>(z,F)=>{const P=i({type:"mutation",endpointName:A,originalArgs:T,track:O,fixedCacheKey:N}),w=z(P),{requestId:L,abort:H,unwrap:V}=w,G=GZ(w.unwrap().then(q=>({data:q})),q=>({error:q})),$=()=>{z(p({requestId:L,fixedCacheKey:N}))},B=Object.assign(G,{arg:w.arg,requestId:L,abort:H,unwrap:V,reset:$}),j=c.get(z)||{};return c.set(z,j),j[L]=B,B.then(()=>{delete j[L],Sm(j)||c.delete(z)}),N&&(j[N]=B,B.then(()=>{j[N]===B&&(delete j[N],Sm(j)||c.delete(z))})),B}}}var VI=class extends lI{constructor(e,t,i,r){super(e),this.value=t,this.schemaName=i,this._bqMeta=r}};async function Ud(n,e,t,i){const r=await n["~standard"].validate(e);if(r.issues)throw new VI(r.issues,e,t,i);return r.value}function tee(n){return n}var Iy=(n={})=>({...n,[v0]:!0});function nee({reducerPath:n,baseQuery:e,context:{endpointDefinitions:t},serializeQueryArgs:i,api:r,assertTagType:a,selectors:o,onSchemaFailure:c,catchSchemaFailure:f,skipSchemaValidation:p}){const m=(L,H,V,G)=>($,B)=>{const j=t[L],q=i({queryArgs:H,endpointDefinition:j,endpointName:L});if($(r.internalActions.queryResultPatched({queryCacheKey:q,patches:V})),!G)return;const Q=r.endpoints[L].select(H)(B()),W=CC(j.providesTags,Q.data,void 0,H,{},a);$(r.internalActions.updateProvidedBy([{queryCacheKey:q,providedTags:W}]))};function g(L,H,V=0){const G=[H,...L];return V&&G.length>V?G.slice(0,-1):G}function y(L,H,V=0){const G=[...L,H];return V&&G.length>V?G.slice(1):G}const b=(L,H,V,G=!0)=>($,B)=>{const q=r.endpoints[L].select(H)(B()),Q={patches:[],inversePatches:[],undo:()=>$(r.util.patchQueryData(L,H,Q.inversePatches,G))};if(q.status==="uninitialized")return Q;let W;if("data"in q)if(Ma(q.data)){const[ie,le,he]=D1(q.data,V);Q.patches.push(...le),Q.inversePatches.push(...he),W=ie}else W=V(q.data),Q.patches.push({op:"replace",path:[],value:W}),Q.inversePatches.push({op:"replace",path:[],value:q.data});return Q.patches.length===0||$(r.util.patchQueryData(L,H,Q.patches,G)),Q},_=(L,H,V)=>G=>G(r.endpoints[L].initiate(H,{subscribe:!1,forceRefetch:!0,[Gv]:()=>({data:V})})),E=(L,H)=>L.query&&L[H]?L[H]:tee,M=async(L,{signal:H,abort:V,rejectWithValue:G,fulfillWithValue:$,dispatch:B,getState:j,extra:q})=>{var le,he;const Q=t[L.endpointName],{metaSchema:W,skipSchemaValidation:ie=p}=Q;try{let ae=E(Q,"transformResponse");const se={signal:H,abort:V,dispatch:B,getState:j,extra:q,endpoint:L.endpointName,type:L.type,forced:L.type==="query"?x(L,j()):void 0,queryCacheKey:L.type==="query"?L.queryCacheKey:void 0},me=L.type==="query"?L[Gv]:void 0;let xe;const ke=async(Ee,Ge,et,nt)=>{if(Ge==null&&Ee.pages.length)return Promise.resolve({data:Ee});const J={queryArg:L.originalArgs,pageParam:Ge},We=await Qe(J),Re=nt?g:y;return{data:{pages:Re(Ee.pages,We.data,et),pageParams:Re(Ee.pageParams,Ge,et)},meta:We.meta}};async function Qe(Ee){let Ge;const{extraOptions:et,argSchema:nt,rawResponseSchema:J,responseSchema:We}=Q;if(nt&&!ie&&(Ee=await Ud(nt,Ee,"argSchema",{})),me?Ge=me():Q.query?Ge=await e(Q.query(Ee),se,et):Ge=await Q.queryFn(Ee,se,et,ve=>e(ve,se,et)),typeof process<"u",Ge.error)throw new C3(Ge.error,Ge.meta);let{data:Re}=Ge;J&&!ie&&(Re=await Ud(J,Ge.data,"rawResponseSchema",Ge.meta));let ze=await ae(Re,Ge.meta,Ee);return We&&!ie&&(ze=await Ud(We,ze,"responseSchema",Ge.meta)),{...Ge,data:ze}}if(L.type==="query"&&"infiniteQueryOptions"in Q){const{infiniteQueryOptions:Ee}=Q,{maxPages:Ge=1/0}=Ee;let et;const nt={pages:[],pageParams:[]},J=(le=o.selectQueryEntry(j(),L.queryCacheKey))==null?void 0:le.data,Re=x(L,j())&&!L.direction||!J?nt:J;if("direction"in L&&L.direction&&Re.pages.length){const ze=L.direction==="backward",ot=(ze?kI:OA)(Ee,Re,L.originalArgs);et=await ke(Re,ot,Ge,ze)}else{const{initialPageParam:ze=Ee.initialPageParam}=L,ve=(J==null?void 0:J.pageParams)??[],ot=ve[0]??ze,Ae=ve.length;et=await ke(Re,ot,Ge),me&&(et={data:et.data.pages[0]});for(let te=1;te<Ae;te++){const Y=OA(Ee,et.data,L.originalArgs);et=await ke(et.data,Y,Ge)}}xe=et}else xe=await Qe(L.originalArgs);return W&&!ie&&xe.meta&&(xe.meta=await Ud(W,xe.meta,"metaSchema",xe.meta)),$(xe.data,Iy({fulfilledTimeStamp:Date.now(),baseQueryMeta:xe.meta}))}catch(ae){let se=ae;if(se instanceof C3){let me=E(Q,"transformErrorResponse");const{rawErrorResponseSchema:xe,errorResponseSchema:ke}=Q;let{value:Qe,meta:Ee}=se;try{xe&&!ie&&(Qe=await Ud(xe,Qe,"rawErrorResponseSchema",Ee)),W&&!ie&&(Ee=await Ud(W,Ee,"metaSchema",Ee));let Ge=await me(Qe,Ee,L.originalArgs);return ke&&!ie&&(Ge=await Ud(ke,Ge,"errorResponseSchema",Ee)),G(Ge,Iy({baseQueryMeta:Ee}))}catch(Ge){se=Ge}}try{if(se instanceof VI){const me={endpoint:L.endpointName,arg:L.originalArgs,type:L.type,queryCacheKey:L.type==="query"?L.queryCacheKey:void 0};(he=Q.onSchemaFailure)==null||he.call(Q,se,me),c==null||c(se,me);const{catchSchemaFailure:xe=f}=Q;if(xe)return G(xe(se,me),Iy({baseQueryMeta:se._bqMeta}))}}catch(me){se=me}throw console.error(se),se}};function x(L,H){const V=o.selectQueryEntry(H,L.queryCacheKey),G=o.selectConfig(H).refetchOnMountOrArgChange,$=V==null?void 0:V.fulfilledTimeStamp,B=L.forceRefetch??(L.subscribe&&G);return B?B===!0||(Number(new Date)-Number($))/1e3>=B:!1}const D=()=>P_(`${n}/executeQuery`,M,{getPendingMeta({arg:H}){const V=t[H.endpointName];return Iy({startedTimeStamp:Date.now(),...ng(V)?{direction:H.direction}:{}})},condition(H,{getState:V}){var ie;const G=V(),$=o.selectQueryEntry(G,H.queryCacheKey),B=$==null?void 0:$.fulfilledTimeStamp,j=H.originalArgs,q=$==null?void 0:$.originalArgs,Q=t[H.endpointName],W=H.direction;return RA(H)?!0:($==null?void 0:$.status)==="pending"?!1:x(H,G)||_0(Q)&&((ie=Q==null?void 0:Q.forceRefetch)!=null&&ie.call(Q,{currentArg:j,previousArg:q,endpointState:$,state:G}))?!0:!(B&&!W)},dispatchConditionRejection:!0}),A=D(),T=D(),O=P_(`${n}/executeMutation`,M,{getPendingMeta(){return Iy({startedTimeStamp:Date.now()})}}),N=L=>"force"in L,z=L=>"ifOlderThan"in L,F=(L,H,V)=>(G,$)=>{const B=N(V)&&V.force,j=z(V)&&V.ifOlderThan,q=(W=!0)=>{const ie={forceRefetch:W,isPrefetch:!0};return r.endpoints[L].initiate(H,ie)},Q=r.endpoints[L].select(H)($());if(B)G(q());else if(j){const W=Q==null?void 0:Q.fulfilledTimeStamp;if(!W){G(q());return}(Number(new Date)-Number(new Date(W)))/1e3>=j&&G(q())}else G(q(!1))};function P(L){return H=>{var V,G;return((G=(V=H==null?void 0:H.meta)==null?void 0:V.arg)==null?void 0:G.endpointName)===L}}function w(L,H){return{matchPending:th(K1(L),P(H)),matchFulfilled:th(lu(L),P(H)),matchRejected:th(bh(L),P(H))}}return{queryThunk:A,mutationThunk:O,infiniteQueryThunk:T,prefetch:F,updateQueryData:b,upsertQueryData:_,patchQueryData:m,buildMatchThunkActions:w}}function OA(n,{pages:e,pageParams:t},i){const r=e.length-1;return n.getNextPageParam(e[r],e,t[r],t,i)}function kI(n,{pages:e,pageParams:t},i){var r;return(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t,i)}function GI(n,e,t,i){return CC(t[n.meta.arg.endpointName][e],lu(n)?n.payload:void 0,x0(n)?n.payload:void 0,n.meta.arg.originalArgs,"baseQueryMeta"in n.meta?n.meta.baseQueryMeta:void 0,i)}function lS(n,e,t){const i=n[e];i&&t(i)}function qv(n){return("arg"in n?n.arg.fixedCacheKey:n.fixedCacheKey)??n.requestId}function R3(n,e,t){const i=n[qv(e)];i&&t(i)}var cS={};function iee({reducerPath:n,queryThunk:e,mutationThunk:t,serializeQueryArgs:i,context:{endpointDefinitions:r,apiUid:a,extractRehydrationInfo:o,hasRehydrationInfo:c},assertTagType:f,config:p}){const m=ea(`${n}/resetApiState`);function g(P,w,L,H){var V;P[V=w.queryCacheKey]??(P[V]={status:"uninitialized",endpointName:w.endpointName}),lS(P,w.queryCacheKey,G=>{G.status="pending",G.requestId=L&&G.requestId?G.requestId:H.requestId,w.originalArgs!==void 0&&(G.originalArgs=w.originalArgs),G.startedTimeStamp=H.startedTimeStamp;const $=r[H.arg.endpointName];ng($)&&"direction"in w&&(G.direction=w.direction)})}function y(P,w,L,H){lS(P,w.arg.queryCacheKey,V=>{if(V.requestId!==w.requestId&&!H)return;const{merge:G}=r[w.arg.endpointName];if(V.status="fulfilled",G)if(V.data!==void 0){const{fulfilledTimeStamp:$,arg:B,baseQueryMeta:j,requestId:q}=w;let Q=Ta(V.data,W=>G(W,L,{arg:B.originalArgs,baseQueryMeta:j,fulfilledTimeStamp:$,requestId:q}));V.data=Q}else V.data=L;else V.data=r[w.arg.endpointName].structuralSharing??!0?zI(er(V.data)?R1(V.data):V.data,L):L;delete V.error,V.fulfilledTimeStamp=w.fulfilledTimeStamp})}const b=Vd({name:`${n}/queries`,initialState:cS,reducers:{removeQueryResult:{reducer(P,{payload:{queryCacheKey:w}}){delete P[w]},prepare:om()},cacheEntriesUpserted:{reducer(P,w){for(const L of w.payload){const{queryDescription:H,value:V}=L;g(P,H,!0,{arg:H,requestId:w.meta.requestId,startedTimeStamp:w.meta.timestamp}),y(P,{arg:H,requestId:w.meta.requestId,fulfilledTimeStamp:w.meta.timestamp,baseQueryMeta:{}},V,!0)}},prepare:P=>({payload:P.map(H=>{const{endpointName:V,arg:G,value:$}=H,B=r[V];return{queryDescription:{type:"query",endpointName:V,originalArgs:H.arg,queryCacheKey:i({queryArgs:G,endpointDefinition:B,endpointName:V})},value:$}}),meta:{[v0]:!0,requestId:Ch(),timestamp:Date.now()}})},queryResultPatched:{reducer(P,{payload:{queryCacheKey:w,patches:L}}){lS(P,w,H=>{H.data=__(H.data,L.concat())})},prepare:om()}},extraReducers(P){P.addCase(e.pending,(w,{meta:L,meta:{arg:H}})=>{const V=RA(H);g(w,H,V,L)}).addCase(e.fulfilled,(w,{meta:L,payload:H})=>{const V=RA(L.arg);y(w,L,H,V)}).addCase(e.rejected,(w,{meta:{condition:L,arg:H,requestId:V},error:G,payload:$})=>{lS(w,H.queryCacheKey,B=>{if(!L){if(B.requestId!==V)return;B.status="rejected",B.error=$??G}})}).addMatcher(c,(w,L)=>{const{queries:H}=o(L);for(const[V,G]of Object.entries(H))((G==null?void 0:G.status)==="fulfilled"||(G==null?void 0:G.status)==="rejected")&&(w[V]=G)})}}),_=Vd({name:`${n}/mutations`,initialState:cS,reducers:{removeMutationResult:{reducer(P,{payload:w}){const L=qv(w);L in P&&delete P[L]},prepare:om()}},extraReducers(P){P.addCase(t.pending,(w,{meta:L,meta:{requestId:H,arg:V,startedTimeStamp:G}})=>{V.track&&(w[qv(L)]={requestId:H,status:"pending",endpointName:V.endpointName,startedTimeStamp:G})}).addCase(t.fulfilled,(w,{payload:L,meta:H})=>{H.arg.track&&R3(w,H,V=>{V.requestId===H.requestId&&(V.status="fulfilled",V.data=L,V.fulfilledTimeStamp=H.fulfilledTimeStamp)})}).addCase(t.rejected,(w,{payload:L,error:H,meta:V})=>{V.arg.track&&R3(w,V,G=>{G.requestId===V.requestId&&(G.status="rejected",G.error=L??H)})}).addMatcher(c,(w,L)=>{const{mutations:H}=o(L);for(const[V,G]of Object.entries(H))((G==null?void 0:G.status)==="fulfilled"||(G==null?void 0:G.status)==="rejected")&&V!==(G==null?void 0:G.requestId)&&(w[V]=G)})}}),E={tags:{},keys:{}},M=Vd({name:`${n}/invalidation`,initialState:E,reducers:{updateProvidedBy:{reducer(P,w){var L,H,V;for(const{queryCacheKey:G,providedTags:$}of w.payload){x(P,G);for(const{type:B,id:j}of $){const q=(H=(L=P.tags)[B]??(L[B]={}))[V=j||"__internal_without_id"]??(H[V]=[]);q.includes(G)||q.push(G)}P.keys[G]=$}},prepare:om()}},extraReducers(P){P.addCase(b.actions.removeQueryResult,(w,{payload:{queryCacheKey:L}})=>{x(w,L)}).addMatcher(c,(w,L)=>{var V,G,$;const{provided:H}=o(L);for(const[B,j]of Object.entries(H))for(const[q,Q]of Object.entries(j)){const W=(G=(V=w.tags)[B]??(V[B]={}))[$=q||"__internal_without_id"]??(G[$]=[]);for(const ie of Q)W.includes(ie)||W.push(ie)}}).addMatcher(lc(lu(e),x0(e)),(w,L)=>{D(w,[L])}).addMatcher(b.actions.cacheEntriesUpserted.match,(w,L)=>{const H=L.payload.map(({queryDescription:V,value:G})=>({type:"UNKNOWN",payload:G,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:V}}));D(w,H)})}});function x(P,w){var H;const L=P.keys[w]??[];for(const V of L){const G=V.type,$=V.id??"__internal_without_id",B=(H=P.tags[G])==null?void 0:H[$];B&&(P.tags[G][$]=B.filter(j=>j!==w))}delete P.keys[w]}function D(P,w){const L=w.map(H=>{const V=GI(H,"providesTags",r,f),{queryCacheKey:G}=H.meta.arg;return{queryCacheKey:G,providedTags:V}});M.caseReducers.updateProvidedBy(P,M.actions.updateProvidedBy(L))}const A=Vd({name:`${n}/subscriptions`,initialState:cS,reducers:{updateSubscriptionOptions(P,w){},unsubscribeQueryResult(P,w){},internal_getRTKQSubscriptions(){}}}),T=Vd({name:`${n}/internalSubscriptions`,initialState:cS,reducers:{subscriptionsUpdated:{reducer(P,w){return __(P,w.payload)},prepare:om()}}}),O=Vd({name:`${n}/config`,initialState:{online:jJ(),focused:qJ(),middlewareRegistered:!1,...p},reducers:{middlewareRegistered(P,{payload:w}){P.middlewareRegistered=P.middlewareRegistered==="conflict"||a!==w?"conflict":!0}},extraReducers:P=>{P.addCase(wC,w=>{w.online=!0}).addCase(FI,w=>{w.online=!1}).addCase(AC,w=>{w.focused=!0}).addCase(BI,w=>{w.focused=!1}).addMatcher(c,w=>({...w}))}}),N=(0,ou.combineReducers)({queries:b.reducer,mutations:_.reducer,provided:M.reducer,subscriptions:T.reducer,config:O.reducer}),z=(P,w)=>N(m.match(w)?void 0:P,w),F={...O.actions,...b.actions,...A.actions,...T.actions,..._.actions,...M.actions,resetApiState:m};return{reducer:z,actions:F}}var tl=Symbol.for("RTKQ/skipToken"),qI={status:"uninitialized"},O3=Ta(qI,()=>{}),D3=Ta(qI,()=>{});function ree({serializeQueryArgs:n,reducerPath:e,createSelector:t}){const i=A=>O3,r=A=>D3;return{buildQuerySelector:y,buildInfiniteQuerySelector:b,buildMutationSelector:_,selectInvalidatedBy:E,selectCachedArgsForQuery:M,selectApiState:o,selectQueries:c,selectMutations:p,selectQueryEntry:f,selectConfig:m};function a(A){return{...A,...g3(A.status)}}function o(A){return A[e]}function c(A){var T;return(T=o(A))==null?void 0:T.queries}function f(A,T){var O;return(O=c(A))==null?void 0:O[T]}function p(A){var T;return(T=o(A))==null?void 0:T.mutations}function m(A){var T;return(T=o(A))==null?void 0:T.config}function g(A,T,O){return N=>{if(N===tl)return t(i,O);const z=n({queryArgs:N,endpointDefinition:T,endpointName:A});return t(P=>f(P,z)??O3,O)}}function y(A,T){return g(A,T,a)}function b(A,T){const{infiniteQueryOptions:O}=T;function N(z){const F={...z,...g3(z.status)},{isLoading:P,isError:w,direction:L}=F,H=L==="forward",V=L==="backward";return{...F,hasNextPage:x(O,F.data,F.originalArgs),hasPreviousPage:D(O,F.data,F.originalArgs),isFetchingNextPage:P&&H,isFetchingPreviousPage:P&&V,isFetchNextPageError:w&&H,isFetchPreviousPageError:w&&V}}return g(A,T,N)}function _(){return A=>{let T;return typeof A=="object"?T=qv(A)??tl:T=A,t(T===tl?r:z=>{var F,P;return((P=(F=o(z))==null?void 0:F.mutations)==null?void 0:P[T])??D3},a)}}function E(A,T){const O=A[e],N=new Set;for(const z of T.filter(I_).map(CA)){const F=O.provided.tags[z.type];if(!F)continue;let P=(z.id!==void 0?F[z.id]:T3(Object.values(F)))??[];for(const w of P)N.add(w)}return T3(Array.from(N.values()).map(z=>{const F=O.queries[z];return F?[{queryCacheKey:z,endpointName:F.endpointName,originalArgs:F.originalArgs}]:[]}))}function M(A,T){return Object.values(c(A)).filter(O=>(O==null?void 0:O.endpointName)===T&&O.status!=="uninitialized").map(O=>O.originalArgs)}function x(A,T,O){return T?OA(A,T,O)!=null:!1}function D(A,T,O){return!T||!A.getPreviousPageParam?!1:kI(A,T,O)!=null}}var rm=WeakMap?new WeakMap:void 0,B_=({endpointName:n,queryArgs:e})=>{let t="";const i=rm==null?void 0:rm.get(e);if(typeof i=="string")t=i;else{const r=JSON.stringify(e,(a,o)=>(o=typeof o=="bigint"?{$bigint:o.toString()}:o,o=(0,ou.isPlainObject)(o)?Object.keys(o).sort().reduce((c,f)=>(c[f]=o[f],c),{}):o,o));(0,ou.isPlainObject)(e)&&(rm==null||rm.set(e,r)),t=r}return`${n}(${t})`};function jI(...n){return function(t){const i=ac(p=>{var m;return(m=t.extractRehydrationInfo)==null?void 0:m.call(t,p,{reducerPath:t.reducerPath??"api"})}),r={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...t,extractRehydrationInfo:i,serializeQueryArgs(p){let m=B_;if("serializeQueryArgs"in p.endpointDefinition){const g=p.endpointDefinition.serializeQueryArgs;m=y=>{const b=g(y);return typeof b=="string"?b:B_({...y,queryArgs:b})}}else t.serializeQueryArgs&&(m=t.serializeQueryArgs);return m(p)},tagTypes:[...t.tagTypes||[]]},a={endpointDefinitions:{},batch(p){p()},apiUid:Ch(),extractRehydrationInfo:i,hasRehydrationInfo:ac(p=>i(p)!=null)},o={injectEndpoints:f,enhanceEndpoints({addTagTypes:p,endpoints:m}){if(p)for(const g of p)r.tagTypes.includes(g)||r.tagTypes.push(g);if(m)for(const[g,y]of Object.entries(m))typeof y=="function"?y(a.endpointDefinitions[g]):Object.assign(a.endpointDefinitions[g]||{},y);return o}},c=n.map(p=>p.init(o,r,a));function f(p){const m=p.endpoints({query:g=>({...g,type:"query"}),mutation:g=>({...g,type:"mutation"}),infiniteQuery:g=>({...g,type:"infinitequery"})});for(const[g,y]of Object.entries(m)){if(p.overrideExisting!==!0&&g in a.endpointDefinitions){if(p.overrideExisting==="throw")throw new Error(zr(39));continue}a.endpointDefinitions[g]=y;for(const b of c)b.injectEndpoint(g,y)}return o}return o.injectEndpoints({endpoints:t.endpoints})}}function cs(n,...e){return Object.assign(n,...e)}var aee=({api:n,queryThunk:e,internalState:t})=>{const i=`${n.reducerPath}/subscriptions`;let r=null,a=null;const{updateSubscriptionOptions:o,unsubscribeQueryResult:c}=n.internalActions,f=(b,_)=>{var M,x,D;if(o.match(_)){const{queryCacheKey:A,requestId:T,options:O}=_.payload;return(M=b==null?void 0:b[A])!=null&&M[T]&&(b[A][T]=O),!0}if(c.match(_)){const{queryCacheKey:A,requestId:T}=_.payload;return b[A]&&delete b[A][T],!0}if(n.internalActions.removeQueryResult.match(_))return delete b[_.payload.queryCacheKey],!0;if(e.pending.match(_)){const{meta:{arg:A,requestId:T}}=_,O=b[x=A.queryCacheKey]??(b[x]={});return O[`${T}_running`]={},A.subscribe&&(O[T]=A.subscriptionOptions??O[T]??{}),!0}let E=!1;if(e.fulfilled.match(_)||e.rejected.match(_)){const A=b[_.meta.arg.queryCacheKey]||{},T=`${_.meta.requestId}_running`;E||(E=!!A[T]),delete A[T]}if(e.rejected.match(_)){const{meta:{condition:A,arg:T,requestId:O}}=_;if(A&&T.subscribe){const N=b[D=T.queryCacheKey]??(b[D]={});N[O]=T.subscriptionOptions??N[O]??{},E=!0}}return E},p=()=>t.currentSubscriptions,y={getSubscriptions:p,getSubscriptionCount:b=>{const E=p()[b]??{};return Sm(E)},isRequestSubscribed:(b,_)=>{var M;const E=p();return!!((M=E==null?void 0:E[b])!=null&&M[_])}};return(b,_)=>{if(r||(r=JSON.parse(JSON.stringify(t.currentSubscriptions))),n.util.resetApiState.match(b))return r=t.currentSubscriptions={},a=null,[!0,!1];if(n.internalActions.internal_getRTKQSubscriptions.match(b))return[!1,y];const E=f(t.currentSubscriptions,b);let M=!0;if(E){a||(a=setTimeout(()=>{const A=JSON.parse(JSON.stringify(t.currentSubscriptions)),[,T]=D1(r,()=>A);_.next(n.internalActions.subscriptionsUpdated(T)),r=A,a=null},500));const x=typeof b.type=="string"&&!!b.type.startsWith(i),D=e.rejected.match(b)&&b.meta.condition&&!!b.meta.arg.subscribe;M=!x&&!D}return[M,!1]}};function see(n){for(const e in n)return!1;return!0}var oee=2147483647/1e3-1,lee=({reducerPath:n,api:e,queryThunk:t,context:i,internalState:r,selectors:{selectQueryEntry:a,selectConfig:o}})=>{const{removeQueryResult:c,unsubscribeQueryResult:f,cacheEntriesUpserted:p}=e.internalActions,m=lc(f.match,t.fulfilled,t.rejected,p.match);function g(M){const x=r.currentSubscriptions[M];return!!x&&!see(x)}const y={},b=(M,x,D)=>{const A=x.getState(),T=o(A);if(m(M)){let O;if(p.match(M))O=M.payload.map(N=>N.queryDescription.queryCacheKey);else{const{queryCacheKey:N}=f.match(M)?M.payload:M.meta.arg;O=[N]}_(O,x,T)}if(e.util.resetApiState.match(M))for(const[O,N]of Object.entries(y))N&&clearTimeout(N),delete y[O];if(i.hasRehydrationInfo(M)){const{queries:O}=i.extractRehydrationInfo(M);_(Object.keys(O),x,T)}};function _(M,x,D){const A=x.getState();for(const T of M){const O=a(A,T);E(T,O==null?void 0:O.endpointName,x,D)}}function E(M,x,D,A){const T=i.endpointDefinitions[x],O=(T==null?void 0:T.keepUnusedDataFor)??A.keepUnusedDataFor;if(O===1/0)return;const N=Math.max(0,Math.min(O,oee));if(!g(M)){const z=y[M];z&&clearTimeout(z),y[M]=setTimeout(()=>{g(M)||D.dispatch(c({queryCacheKey:M})),delete y[M]},N*1e3)}}return b},N3=new Error("Promise never resolved before cacheEntryRemoved."),cee=({api:n,reducerPath:e,context:t,queryThunk:i,mutationThunk:r,internalState:a,selectors:{selectQueryEntry:o,selectApiState:c}})=>{const f=N_(i),p=N_(r),m=lu(i,r),g={};function y(x,D,A){const T=g[x];T!=null&&T.valueResolved&&(T.valueResolved({data:D,meta:A}),delete T.valueResolved)}function b(x){const D=g[x];D&&(delete g[x],D.cacheEntryRemoved())}const _=(x,D,A)=>{const T=E(x);function O(N,z,F,P){const w=o(A,z),L=o(D.getState(),z);!w&&L&&M(N,P,z,D,F)}if(i.pending.match(x))O(x.meta.arg.endpointName,T,x.meta.requestId,x.meta.arg.originalArgs);else if(n.internalActions.cacheEntriesUpserted.match(x))for(const{queryDescription:N,value:z}of x.payload){const{endpointName:F,originalArgs:P,queryCacheKey:w}=N;O(F,w,x.meta.requestId,P),y(w,z,{})}else if(r.pending.match(x))D.getState()[e].mutations[T]&&M(x.meta.arg.endpointName,x.meta.arg.originalArgs,T,D,x.meta.requestId);else if(m(x))y(T,x.payload,x.meta.baseQueryMeta);else if(n.internalActions.removeQueryResult.match(x)||n.internalActions.removeMutationResult.match(x))b(T);else if(n.util.resetApiState.match(x))for(const N of Object.keys(g))b(N)};function E(x){return f(x)?x.meta.arg.queryCacheKey:p(x)?x.meta.arg.fixedCacheKey??x.meta.requestId:n.internalActions.removeQueryResult.match(x)?x.payload.queryCacheKey:n.internalActions.removeMutationResult.match(x)?qv(x.payload):""}function M(x,D,A,T,O){const N=t.endpointDefinitions[x],z=N==null?void 0:N.onCacheEntryAdded;if(!z)return;const F={},P=new Promise($=>{F.cacheEntryRemoved=$}),w=Promise.race([new Promise($=>{F.valueResolved=$}),P.then(()=>{throw N3})]);w.catch(()=>{}),g[A]=F;const L=n.endpoints[x].select(z_(N)?D:A),H=T.dispatch(($,B,j)=>j),V={...T,getCacheEntry:()=>L(T.getState()),requestId:O,extra:H,updateCachedData:z_(N)?$=>T.dispatch(n.util.updateQueryData(x,D,$)):void 0,cacheDataLoaded:w,cacheEntryRemoved:P},G=z(D,V);Promise.resolve(G).catch($=>{if($!==N3)throw $})}return _},uee=({api:n,context:{apiUid:e},reducerPath:t})=>(i,r)=>{n.util.resetApiState.match(i)&&r.dispatch(n.internalActions.middlewareRegistered(e))},fee=({reducerPath:n,context:e,context:{endpointDefinitions:t},mutationThunk:i,queryThunk:r,api:a,assertTagType:o,refetchQuery:c,internalState:f})=>{const{removeQueryResult:p}=a.internalActions,m=lc(lu(i),x0(i)),g=lc(lu(i,r),bh(i,r));let y=[];const b=(M,x)=>{m(M)?E(GI(M,"invalidatesTags",t,o),x):g(M)?E([],x):a.util.invalidateTags.match(M)&&E(CC(M.payload,void 0,void 0,void 0,void 0,o),x)};function _(M){var A;const{queries:x,mutations:D}=M;for(const T of[x,D])for(const O in T)if(((A=T[O])==null?void 0:A.status)==="pending")return!0;return!1}function E(M,x){const D=x.getState(),A=D[n];if(y.push(...M),A.config.invalidationBehavior==="delayed"&&_(A))return;const T=y;if(y=[],T.length===0)return;const O=a.util.selectInvalidatedBy(D,T);e.batch(()=>{const N=Array.from(O.values());for(const{queryCacheKey:z}of N){const F=A.queries[z],P=f.currentSubscriptions[z]??{};F&&(Sm(P)===0?x.dispatch(p({queryCacheKey:z})):F.status!=="uninitialized"&&x.dispatch(c(F)))}})}return b},dee=({reducerPath:n,queryThunk:e,api:t,refetchQuery:i,internalState:r})=>{const a={},o=(y,b)=>{(t.internalActions.updateSubscriptionOptions.match(y)||t.internalActions.unsubscribeQueryResult.match(y))&&f(y.payload,b),(e.pending.match(y)||e.rejected.match(y)&&y.meta.condition)&&f(y.meta.arg,b),(e.fulfilled.match(y)||e.rejected.match(y)&&!y.meta.condition)&&c(y.meta.arg,b),t.util.resetApiState.match(y)&&m()};function c({queryCacheKey:y},b){const _=b.getState()[n],E=_.queries[y],M=r.currentSubscriptions[y];if(!E||E.status==="uninitialized")return;const{lowestPollingInterval:x,skipPollingIfUnfocused:D}=g(M);if(!Number.isFinite(x))return;const A=a[y];A!=null&&A.timeout&&(clearTimeout(A.timeout),A.timeout=void 0);const T=Date.now()+x;a[y]={nextPollTimestamp:T,pollingInterval:x,timeout:setTimeout(()=>{(_.config.focused||!D)&&b.dispatch(i(E)),c({queryCacheKey:y},b)},x)}}function f({queryCacheKey:y},b){const E=b.getState()[n].queries[y],M=r.currentSubscriptions[y];if(!E||E.status==="uninitialized")return;const{lowestPollingInterval:x}=g(M);if(!Number.isFinite(x)){p(y);return}const D=a[y],A=Date.now()+x;(!D||A<D.nextPollTimestamp)&&c({queryCacheKey:y},b)}function p(y){const b=a[y];b!=null&&b.timeout&&clearTimeout(b.timeout),delete a[y]}function m(){for(const y of Object.keys(a))p(y)}function g(y={}){let b=!1,_=Number.POSITIVE_INFINITY;for(let E in y)y[E].pollingInterval&&(_=Math.min(y[E].pollingInterval,_),b=y[E].skipPollingIfUnfocused||b);return{lowestPollingInterval:_,skipPollingIfUnfocused:b}}return o},hee=({api:n,context:e,queryThunk:t,mutationThunk:i})=>{const r=K1(t,i),a=bh(t,i),o=lu(t,i),c={};return(p,m)=>{var g,y;if(r(p)){const{requestId:b,arg:{endpointName:_,originalArgs:E}}=p.meta,M=e.endpointDefinitions[_],x=M==null?void 0:M.onQueryStarted;if(x){const D={},A=new Promise((z,F)=>{D.resolve=z,D.reject=F});A.catch(()=>{}),c[b]=D;const T=n.endpoints[_].select(z_(M)?E:b),O=m.dispatch((z,F,P)=>P),N={...m,getCacheEntry:()=>T(m.getState()),requestId:b,extra:O,updateCachedData:z_(M)?z=>m.dispatch(n.util.updateQueryData(_,E,z)):void 0,queryFulfilled:A};x(E,N)}}else if(o(p)){const{requestId:b,baseQueryMeta:_}=p.meta;(g=c[b])==null||g.resolve({data:p.payload,meta:_}),delete c[b]}else if(a(p)){const{requestId:b,rejectedWithValue:_,baseQueryMeta:E}=p.meta;(y=c[b])==null||y.reject({error:p.payload??p.error,isUnhandledError:!_,meta:E}),delete c[b]}}},pee=({reducerPath:n,context:e,api:t,refetchQuery:i,internalState:r})=>{const{removeQueryResult:a}=t.internalActions,o=(f,p)=>{AC.match(f)&&c(p,"refetchOnFocus"),wC.match(f)&&c(p,"refetchOnReconnect")};function c(f,p){const m=f.getState()[n],g=m.queries,y=r.currentSubscriptions;e.batch(()=>{for(const b of Object.keys(y)){const _=g[b],E=y[b];if(!E||!_)continue;(Object.values(E).some(x=>x[p]===!0)||Object.values(E).every(x=>x[p]===void 0)&&m.config[p])&&(Sm(E)===0?f.dispatch(a({queryCacheKey:b})):_.status!=="uninitialized"&&f.dispatch(i(_)))}})}return o};function mee(n){const{reducerPath:e,queryThunk:t,api:i,context:r}=n,{apiUid:a}=r,o={invalidateTags:ea(`${e}/invalidateTags`)},c=g=>g.type.startsWith(`${e}/`),f=[uee,lee,fee,dee,cee,hee];return{middleware:g=>{let y=!1;const _={...n,internalState:{currentSubscriptions:{}},refetchQuery:m,isThisApiSliceAction:c},E=f.map(D=>D(_)),M=aee(_),x=pee(_);return D=>A=>{if(!(0,ou.isAction)(A))return D(A);y||(y=!0,g.dispatch(i.internalActions.middlewareRegistered(a)));const T={...g,next:D},O=g.getState(),[N,z]=M(A,T,O);let F;if(N?F=D(A):F=z,g.getState()[e]&&(x(A,T,O),c(A)||r.hasRehydrationInfo(A)))for(const P of E)P(A,T,O);return F}},actions:o};function m(g){return n.api.endpoints[g.endpointName].initiate(g.originalArgs,{subscribe:!1,forceRefetch:!0})}}var P3=Symbol(),WI=({createSelector:n=Ym}={})=>({name:P3,init(e,{baseQuery:t,tagTypes:i,reducerPath:r,serializeQueryArgs:a,keepUnusedDataFor:o,refetchOnMountOrArgChange:c,refetchOnFocus:f,refetchOnReconnect:p,invalidationBehavior:m,onSchemaFailure:g,catchSchemaFailure:y,skipSchemaValidation:b},_){PU();const E=se=>se;Object.assign(e,{reducerPath:r,endpoints:{},internalActions:{onOnline:wC,onOffline:FI,onFocus:AC,onFocusLost:BI},util:{}});const M=ree({serializeQueryArgs:a,reducerPath:r,createSelector:n}),{selectInvalidatedBy:x,selectCachedArgsForQuery:D,buildQuerySelector:A,buildInfiniteQuerySelector:T,buildMutationSelector:O}=M;cs(e.util,{selectInvalidatedBy:x,selectCachedArgsForQuery:D});const{queryThunk:N,infiniteQueryThunk:z,mutationThunk:F,patchQueryData:P,updateQueryData:w,upsertQueryData:L,prefetch:H,buildMatchThunkActions:V}=nee({baseQuery:t,reducerPath:r,context:_,api:e,serializeQueryArgs:a,assertTagType:E,selectors:M,onSchemaFailure:g,catchSchemaFailure:y,skipSchemaValidation:b}),{reducer:G,actions:$}=iee({context:_,queryThunk:N,mutationThunk:F,serializeQueryArgs:a,reducerPath:r,assertTagType:E,config:{refetchOnFocus:f,refetchOnReconnect:p,refetchOnMountOrArgChange:c,keepUnusedDataFor:o,reducerPath:r,invalidationBehavior:m}});cs(e.util,{patchQueryData:P,updateQueryData:w,upsertQueryData:L,prefetch:H,resetApiState:$.resetApiState,upsertQueryEntries:$.cacheEntriesUpserted}),cs(e.internalActions,$);const{middleware:B,actions:j}=mee({reducerPath:r,context:_,queryThunk:N,mutationThunk:F,infiniteQueryThunk:z,api:e,assertTagType:E,selectors:M});cs(e.util,j),cs(e,{reducer:G,middleware:B});const{buildInitiateQuery:q,buildInitiateInfiniteQuery:Q,buildInitiateMutation:W,getRunningMutationThunk:ie,getRunningMutationsThunk:le,getRunningQueriesThunk:he,getRunningQueryThunk:ae}=eee({queryThunk:N,mutationThunk:F,infiniteQueryThunk:z,api:e,serializeQueryArgs:a,context:_});return cs(e.util,{getRunningMutationThunk:ie,getRunningMutationsThunk:le,getRunningQueryThunk:ae,getRunningQueriesThunk:he}),{name:P3,injectEndpoint(se,me){var Qe;const ke=(Qe=e.endpoints)[se]??(Qe[se]={});_0(me)&&cs(ke,{name:se,select:A(se,me),initiate:q(se,me)},V(N,se)),HI(me)&&cs(ke,{name:se,select:O(),initiate:W(se)},V(F,se)),ng(me)&&cs(ke,{name:se,select:T(se,me),initiate:Q(se,me)},V(N,se))}}}});WI();var xT=Symbol();function ST(n,e,t,i){const r=K.useMemo(()=>({queryArgs:n,serialized:typeof n=="object"?e({queryArgs:n,endpointDefinition:t,endpointName:i}):n}),[n,e,t,i]),a=K.useRef(r);return K.useEffect(()=>{a.current.serialized!==r.serialized&&(a.current=r)},[r]),a.current.serialized===r.serialized?a.current.queryArgs:n}function uS(n){const e=K.useRef(n);return K.useEffect(()=>{Xy(e.current,n)||(e.current=n)},[n]),Xy(e.current,n)?e.current:n}var gee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yee=gee(),vee=()=>typeof navigator<"u"&&navigator.product==="ReactNative",bee=vee(),xee=()=>yee||bee?K.useLayoutEffect:K.useEffect,See=xee(),U3=n=>n.isUninitialized?{...n,isUninitialized:!1,isFetching:!0,isLoading:n.data===void 0,status:"pending"}:n;function _T(n,...e){const t={};return e.forEach(i=>{t[i]=n[i]}),t}var MT=["data","status","isLoading","isSuccess","isError","error"];function _ee({api:n,moduleOptions:{batch:e,hooks:{useDispatch:t,useSelector:i,useStore:r},unstable__sideEffectsInRender:a,createSelector:o},serializeQueryArgs:c,context:f}){const p=a?T=>T():K.useEffect;return{buildQueryHooks:x,buildInfiniteQueryHooks:D,buildMutationHook:A,usePrefetch:y};function m(T,O,N){if(O!=null&&O.endpointName&&T.isUninitialized){const{endpointName:H}=O,V=f.endpointDefinitions[H];N!==tl&&c({queryArgs:O.originalArgs,endpointDefinition:V,endpointName:H})===c({queryArgs:N,endpointDefinition:V,endpointName:H})&&(O=void 0)}let z=T.isSuccess?T.data:O==null?void 0:O.data;z===void 0&&(z=T.data);const F=z!==void 0,P=T.isLoading,w=(!O||O.isLoading||O.isUninitialized)&&!F&&P,L=T.isSuccess||F&&(P&&!(O!=null&&O.isError)||T.isUninitialized);return{...T,data:z,currentData:T.data,isFetching:P,isLoading:w,isSuccess:L}}function g(T,O,N){if(O!=null&&O.endpointName&&T.isUninitialized){const{endpointName:H}=O,V=f.endpointDefinitions[H];N!==tl&&c({queryArgs:O.originalArgs,endpointDefinition:V,endpointName:H})===c({queryArgs:N,endpointDefinition:V,endpointName:H})&&(O=void 0)}let z=T.isSuccess?T.data:O==null?void 0:O.data;z===void 0&&(z=T.data);const F=z!==void 0,P=T.isLoading,w=(!O||O.isLoading||O.isUninitialized)&&!F&&P,L=T.isSuccess||P&&F;return{...T,data:z,currentData:T.data,isFetching:P,isLoading:w,isSuccess:L}}function y(T,O){const N=t(),z=uS(O);return K.useCallback((F,P)=>N(n.util.prefetch(T,F,{...z,...P})),[T,N,z])}function b(T,O,{refetchOnReconnect:N,refetchOnFocus:z,refetchOnMountOrArgChange:F,skip:P=!1,pollingInterval:w=0,skipPollingIfUnfocused:L=!1,...H}={}){const{initiate:V}=n.endpoints[T],G=t(),$=K.useRef(void 0);if(!$.current){const se=G(n.internalActions.internal_getRTKQSubscriptions());$.current=se}const B=ST(P?tl:O,B_,f.endpointDefinitions[T],T),j=uS({refetchOnReconnect:N,refetchOnFocus:z,pollingInterval:w,skipPollingIfUnfocused:L}),q=H.initialPageParam,Q=uS(q),W=K.useRef(void 0);let{queryCacheKey:ie,requestId:le}=W.current||{},he=!1;ie&&le&&(he=$.current.isRequestSubscribed(ie,le));const ae=!he&&W.current!==void 0;return p(()=>{ae&&(W.current=void 0)},[ae]),p(()=>{var xe;const se=W.current;if(B===tl){se==null||se.unsubscribe(),W.current=void 0;return}const me=(xe=W.current)==null?void 0:xe.subscriptionOptions;if(!se||se.arg!==B){se==null||se.unsubscribe();const ke=G(V(B,{subscriptionOptions:j,forceRefetch:F,...ng(f.endpointDefinitions[T])?{initialPageParam:Q}:{}}));W.current=ke}else j!==me&&se.updateSubscriptionOptions(j)},[G,V,F,B,j,ae,Q,T]),[W,G,V,j]}function _(T,O){return(z,{skip:F=!1,selectFromResult:P}={})=>{const{select:w}=n.endpoints[T],L=ST(F?tl:z,c,f.endpointDefinitions[T],T),H=K.useRef(void 0),V=K.useMemo(()=>o([w(L),(q,Q)=>Q,q=>L],O,{memoizeOptions:{resultEqualityCheck:Xy}}),[w,L]),G=K.useMemo(()=>P?o([V],P,{devModeChecks:{identityFunctionCheck:"never"}}):V,[V,P]),$=i(q=>G(q,H.current),Xy),B=r(),j=V(B.getState(),H.current);return See(()=>{H.current=j},[j]),$}}function E(T){K.useEffect(()=>()=>{var O,N;(N=(O=T.current)==null?void 0:O.unsubscribe)==null||N.call(O),T.current=void 0},[T])}function M(T){if(!T.current)throw new Error(zr(38));return T.current.refetch()}function x(T){const O=(F,P={})=>{const[w]=b(T,F,P);return E(w),K.useMemo(()=>({refetch:()=>M(w)}),[w])},N=({refetchOnReconnect:F,refetchOnFocus:P,pollingInterval:w=0,skipPollingIfUnfocused:L=!1}={})=>{const{initiate:H}=n.endpoints[T],V=t(),[G,$]=K.useState(xT),B=K.useRef(void 0),j=uS({refetchOnReconnect:F,refetchOnFocus:P,pollingInterval:w,skipPollingIfUnfocused:L});p(()=>{var le,he;const ie=(le=B.current)==null?void 0:le.subscriptionOptions;j!==ie&&((he=B.current)==null||he.updateSubscriptionOptions(j))},[j]);const q=K.useRef(j);p(()=>{q.current=j},[j]);const Q=K.useCallback(function(ie,le=!1){let he;return e(()=>{var ae;(ae=B.current)==null||ae.unsubscribe(),B.current=he=V(H(ie,{subscriptionOptions:q.current,forceRefetch:!le})),$(ie)}),he},[V,H]),W=K.useCallback(()=>{var ie,le;(ie=B.current)!=null&&ie.queryCacheKey&&V(n.internalActions.removeQueryResult({queryCacheKey:(le=B.current)==null?void 0:le.queryCacheKey}))},[V]);return K.useEffect(()=>()=>{var ie;(ie=B==null?void 0:B.current)==null||ie.unsubscribe()},[]),K.useEffect(()=>{G!==xT&&!B.current&&Q(G,!0)},[G,Q]),K.useMemo(()=>[Q,G,{reset:W}],[Q,G,W])},z=_(T,m);return{useQueryState:z,useQuerySubscription:O,useLazyQuerySubscription:N,useLazyQuery(F){const[P,w,{reset:L}]=N(F),H=z(w,{...F,skip:w===xT}),V=K.useMemo(()=>({lastArg:w}),[w]);return K.useMemo(()=>[P,{...H,reset:L},V],[P,H,L,V])},useQuery(F,P){const w=O(F,P),L=z(F,{selectFromResult:F===tl||P!=null&&P.skip?void 0:U3,...P}),H=_T(L,...MT);return K.useDebugValue(H),K.useMemo(()=>({...L,...w}),[L,w])}}}function D(T){const O=(z,F={})=>{const[P,w,L,H]=b(T,z,F),V=K.useRef(H);p(()=>{V.current=H},[H]);const G=K.useCallback(function(j,q){let Q;return e(()=>{var W;(W=P.current)==null||W.unsubscribe(),P.current=Q=w(L(j,{subscriptionOptions:V.current,direction:q}))}),Q},[P,w,L]);E(P);const $=ST(F.skip?tl:z,B_,f.endpointDefinitions[T],T),B=K.useCallback(()=>M(P),[P]);return K.useMemo(()=>({trigger:G,refetch:B,fetchNextPage:()=>G($,"forward"),fetchPreviousPage:()=>G($,"backward")}),[B,G,$])},N=_(T,g);return{useInfiniteQueryState:N,useInfiniteQuerySubscription:O,useInfiniteQuery(z,F){const{refetch:P,fetchNextPage:w,fetchPreviousPage:L}=O(z,F),H=N(z,{selectFromResult:z===tl||F!=null&&F.skip?void 0:U3,...F}),V=_T(H,...MT,"hasNextPage","hasPreviousPage");return K.useDebugValue(V),K.useMemo(()=>({...H,fetchNextPage:w,fetchPreviousPage:L,refetch:P}),[H,w,L,P])}}}function A(T){return({selectFromResult:O,fixedCacheKey:N}={})=>{const{select:z,initiate:F}=n.endpoints[T],P=t(),[w,L]=K.useState();K.useEffect(()=>()=>{w!=null&&w.arg.fixedCacheKey||w==null||w.reset()},[w]);const H=K.useCallback(function(ie){const le=P(F(ie,{fixedCacheKey:N}));return L(le),le},[P,F,N]),{requestId:V}=w||{},G=K.useMemo(()=>z({fixedCacheKey:N,requestId:w==null?void 0:w.requestId}),[N,w,z]),$=K.useMemo(()=>O?o([G],O):G,[O,G]),B=i($,Xy),j=N==null?w==null?void 0:w.arg.originalArgs:void 0,q=K.useCallback(()=>{e(()=>{w&&L(void 0),N&&P(n.internalActions.removeMutationResult({requestId:V,fixedCacheKey:N}))})},[P,N,w,V]),Q=_T(B,...MT,"endpointName");K.useDebugValue(Q);const W=K.useMemo(()=>({...B,originalArgs:j,reset:q}),[B,j,q]);return K.useMemo(()=>[H,W],[H,W])}}}var Mee=Symbol(),Eee=({batch:n=GB,hooks:e={useDispatch:zA,useSelector:iN,useStore:nN},createSelector:t=Ym,unstable__sideEffectsInRender:i=!1,...r}={})=>({name:Mee,init(a,{serializeQueryArgs:o},c){const f=a,{buildQueryHooks:p,buildInfiniteQueryHooks:m,buildMutationHook:g,usePrefetch:y}=_ee({api:a,moduleOptions:{batch:n,hooks:e,unstable__sideEffectsInRender:i,createSelector:t},serializeQueryArgs:o,context:c});return cs(f,{usePrefetch:y}),cs(c,{batch:n}),{injectEndpoint(b,_){if(_0(_)){const{useQuery:E,useLazyQuery:M,useLazyQuerySubscription:x,useQueryState:D,useQuerySubscription:A}=p(b);cs(f.endpoints[b],{useQuery:E,useLazyQuery:M,useLazyQuerySubscription:x,useQueryState:D,useQuerySubscription:A}),a[`use${sS(b)}Query`]=E,a[`useLazy${sS(b)}Query`]=M}if(HI(_)){const E=g(b);cs(f.endpoints[b],{useMutation:E}),a[`use${sS(b)}Mutation`]=E}else if(ng(_)){const{useInfiniteQuery:E,useInfiniteQuerySubscription:M,useInfiniteQueryState:x}=m(b);cs(f.endpoints[b],{useInfiniteQuery:E,useInfiniteQuerySubscription:M,useInfiniteQueryState:x}),a[`use${sS(b)}InfiniteQuery`]=E}}}}}),Tee=jI(WI(),Eee());const CS=Tee({reducerPath:"openforgeApi",baseQuery:ZJ({baseUrl:"https://openforge-proxy.vercel.app/api"}),endpoints:n=>({getBlueprints:n.query({query:()=>({url:"blueprints/tags",method:"POST",params:{models:!1,blueprints:!0}})}),getPartOptions:n.query({query:({require:e,deny:t,constrain:i})=>({url:"blueprints/tags",method:"POST",body:{require:e,deny:t,constrain:i}})})})}),{useGetBlueprintsQuery:XI}=CS;function Aee(){const n=zA(),{data:e,isLoading:t,error:i}=XI(),{blueprints:r}=e||{},[a,o]=K.useState(!1),[c,f]=K.useState(null),[p,m]=K.useState(null),g=(b,_)=>{f(b),m(_),o(!0)},y=()=>{o(!1),f(null),m(null)};return pe.jsxs(pe.Fragment,{children:[pe.jsxs(x7,{style:{height:"100vh"},camera:{position:[0,10,10],fov:75,near:.1,far:1e3},shadows:!0,children:[pe.jsx("ambientLight",{intensity:.2}),pe.jsx("hemisphereLight",{skyColor:16777215,groundColor:4473924,intensity:.6}),pe.jsx("directionalLight",{position:[5,10,5],intensity:.8,castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-camera-near":.5,"shadow-camera-far":50,"shadow-camera-left":-10,"shadow-camera-right":10,"shadow-camera-top":10,"shadow-camera-bottom":-10}),pe.jsx(G9,{blueprints:r,onDrop:g})]}),a&&pe.jsx(LZ,{open:a,onClose:y,blueprint:c,onConfirm:b=>{if(c&&b.length>0){const _={id:T7(),blueprintId:c.id,position:p||{x:2,y:2,z:0},rotation:0,stlUrls:b};n(v9(_)),console.log("Dropped Tile with Selected Parts:",_)}y()}})]})}function wee(){const{data:n,isLoading:e,error:t}=XI(),i=(r,a)=>{r.dataTransfer.setData("blueprintId",a.id)};return e?pe.jsx(Kc,{children:"Loading..."}):t?pe.jsxs(Kc,{children:["Error: ",t.message]}):pe.jsxs(aK,{variant:"permanent",sx:{width:240,flexShrink:0},children:[pe.jsx(Kc,{variant:"h6",sx:{p:2},children:"Tile Palette"}),pe.jsx(tI,{children:n==null?void 0:n.blueprints.map(r=>pe.jsx(HK,{button:!0,draggable:!0,onDragStart:a=>i(a,r),children:pe.jsx(qK,{primary:r.blueprint_name})},r.id))})]})}function Cee(){return pe.jsxs(MA,{sx:{display:"flex"},children:[pe.jsx(wee,{}),pe.jsxs(MA,{sx:{flexGrow:1},children:[pe.jsx("h1",{children:"OpenForge Dungeon Designer"}),pe.jsx(Aee,{})]})]})}var YI=Object.defineProperty,Ree=Object.getOwnPropertyDescriptor,Oee=Object.getOwnPropertyNames,Dee=Object.prototype.hasOwnProperty,Nee=(n,e)=>{for(var t in e)YI(n,t,{get:e[t],enumerable:!0})},Pee=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Oee(e))!Dee.call(n,r)&&r!==t&&YI(n,r,{get:()=>e[r],enumerable:!(i=Ree(e,r))||i.enumerable});return n},Uee=(n,e,t)=>(Pee(n,e,"default"),t);function L3(n){return{status:n,isUninitialized:n==="uninitialized",isLoading:n==="pending",isSuccess:n==="fulfilled",isError:n==="rejected"}}var xh={};Nee(xh,{ReducerType:()=>cz,SHOULD_AUTOBATCH:()=>M0,TaskAbortError:()=>A0,Tuple:()=>RC,addListener:()=>NC,asyncThunkCreator:()=>Kee,autoBatchEnhancer:()=>nz,buildCreateSlice:()=>uz,clearAllListeners:()=>Sz,combineSlices:()=>Lte,configureStore:()=>Wee,createAction:()=>ta,createActionCreatorInvariantMiddleware:()=>Fee,createAsyncThunk:()=>H_,createDraftSafeSelector:()=>QI,createDraftSafeSelectorCreator:()=>$I,createDynamicMiddleware:()=>Ate,createEntityAdapter:()=>hte,createImmutableStateInvariantMiddleware:()=>Vee,createListenerMiddleware:()=>Mte,createNextState:()=>Ta,createReducer:()=>rz,createSelector:()=>Ym,createSelectorCreator:()=>c0,createSerializableStateInvariantMiddleware:()=>kee,createSlice:()=>kd,current:()=>wh,findNonSerializableValue:()=>ez,formatProdErrorMessage:()=>na,freeze:()=>l0,isActionCreator:()=>zee,isAllOf:()=>ah,isAnyOf:()=>cc,isAsyncThunkAction:()=>F_,isDraft:()=>er,isFluxStandardAction:()=>ZI,isFulfilled:()=>cu,isImmutableDefault:()=>Hee,isPending:()=>eM,isPlain:()=>JI,isRejected:()=>Sh,isRejectedWithValue:()=>T0,lruMemoize:()=>UU,miniSerializeError:()=>sz,nanoid:()=>Rh,original:()=>R1,prepareAutoBatched:()=>lm,removeListener:()=>PC,unwrapResult:()=>oz,weakMapMemoize:()=>ac});Uee(xh,wU);var $I=(...n)=>{const e=c0(...n),t=Object.assign((...i)=>{const r=e(...i),a=(o,...c)=>r(er(o)?wh(o):o,...c);return Object.assign(a,r),a},{withTypes:()=>t});return t},QI=$I(ac),Lee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Bs:Bs.apply(null,arguments)},KI=n=>n&&typeof n.match=="function";function Iee(n,e){return n.catch(e)}function ta(n,e){function t(...i){if(e){let r=e(...i);if(!r)throw new Error(na(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>wf(i)&&i.type===n,t}function zee(n){return typeof n=="function"&&"type"in n&&KI(n)}function ZI(n){return wf(n)&&Object.keys(n).every(Bee)}function Bee(n){return["type","payload","error","meta"].indexOf(n)>-1}function Fee(n={}){return()=>e=>t=>e(t)}var RC=class Wy extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Wy.prototype)}static get[Symbol.species](){return Wy}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Wy(...e[0].concat(this)):new Wy(...e.concat(this))}};function I3(n){return Ma(n)?Ta(n,()=>{}):n}function Qd(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function Hee(n){return typeof n!="object"||n==null||Object.isFrozen(n)}function Vee(n={}){return()=>e=>t=>e(t)}function JI(n){const e=typeof n;return n==null||e==="string"||e==="boolean"||e==="number"||Array.isArray(n)||Af(n)}function ez(n,e="",t=JI,i,r=[],a){let o;if(!t(n))return{keyPath:e||"<root>",value:n};if(typeof n!="object"||n===null||a!=null&&a.has(n))return!1;const c=i!=null?i(n):Object.entries(n),f=r.length>0;for(const[p,m]of c){const g=e?e+"."+p:p;if(!(f&&r.some(b=>b instanceof RegExp?b.test(g):g===b))){if(!t(m))return{keyPath:g,value:m};if(typeof m=="object"&&(o=ez(m,g,t,i,r,a),o))return o}}return a&&tz(n)&&a.add(n),!1}function tz(n){if(!Object.isFrozen(n))return!1;for(const e of Object.values(n))if(!(typeof e!="object"||e===null)&&!tz(e))return!1;return!0}function kee(n={}){return()=>e=>t=>e(t)}function Gee(n){return typeof n=="boolean"}var qee=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let o=new RC;return t&&(Gee(t)?o.push(Ow):o.push(Dw(t.extraArgument))),o},M0="RTK_autoBatch",lm=()=>n=>({payload:n,meta:{[M0]:!0}}),z3=n=>e=>{setTimeout(e,n)},nz=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let r=!0,a=!1,o=!1;const c=new Set,f=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:z3(10):n.type==="callback"?n.queueNotification:z3(n.timeout),p=()=>{o=!1,a&&(a=!1,c.forEach(m=>m()))};return Object.assign({},i,{subscribe(m){const g=()=>r&&m(),y=i.subscribe(g);return c.add(m),()=>{y(),c.delete(m)}},dispatch(m){var g;try{return r=!((g=m==null?void 0:m.meta)!=null&&g[M0]),a=!r,a&&(o||(o=!0,f(p))),i.dispatch(m)}finally{r=!0}}})},jee=n=>function(t){const{autoBatch:i=!0}=t??{};let r=new RC(n);return i&&r.push(nz(typeof i=="object"?i:void 0)),r};function Wee(n){const e=qee(),{reducer:t=void 0,middleware:i,devTools:r=!0,duplicateMiddlewareCheck:a=!0,preloadedState:o=void 0,enhancers:c=void 0}=n||{};let f;if(typeof t=="function")f=t;else if(Af(t))f=Xm(t);else throw new Error(na(1));let p;typeof i=="function"?p=i(e):p=e();let m=Bs;r&&(m=Lee({trace:!1,...typeof r=="object"&&r}));const g=C1(...p),y=jee(g);let b=typeof c=="function"?c(y):y();const _=m(...b);return Wm(f,o,_)}function iz(n){const e={},t=[];let i;const r={addCase(a,o){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(na(28));if(c in e)throw new Error(na(29));return e[c]=o,r},addMatcher(a,o){return t.push({matcher:a,reducer:o}),r},addDefaultCase(a){return i=a,r}};return n(r),[e,t,i]}function Xee(n){return typeof n=="function"}function rz(n,e){let[t,i,r]=iz(e),a;if(Xee(n))a=()=>I3(n());else{const c=I3(n);a=()=>c}function o(c=a(),f){let p=[t[f.type],...i.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return p.filter(m=>!!m).length===0&&(p=[r]),p.reduce((m,g)=>{if(g)if(er(m)){const b=g(m,f);return b===void 0?m:b}else{if(Ma(m))return Ta(m,y=>g(y,f));{const y=g(m,f);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},c)}return o.getInitialState=a,o}var az=(n,e)=>KI(n)?n.match(e):n(e);function cc(...n){return e=>n.some(t=>az(t,e))}function ah(...n){return e=>n.every(t=>az(t,e))}function J1(n,e){if(!n||!n.meta)return!1;const t=typeof n.meta.requestId=="string",i=e.indexOf(n.meta.requestStatus)>-1;return t&&i}function E0(n){return typeof n[0]=="function"&&"pending"in n[0]&&"fulfilled"in n[0]&&"rejected"in n[0]}function eM(...n){return n.length===0?e=>J1(e,["pending"]):E0(n)?cc(...n.map(e=>e.pending)):eM()(n[0])}function Sh(...n){return n.length===0?e=>J1(e,["rejected"]):E0(n)?cc(...n.map(e=>e.rejected)):Sh()(n[0])}function T0(...n){const e=t=>t&&t.meta&&t.meta.rejectedWithValue;return n.length===0?ah(Sh(...n),e):E0(n)?ah(Sh(...n),e):T0()(n[0])}function cu(...n){return n.length===0?e=>J1(e,["fulfilled"]):E0(n)?cc(...n.map(e=>e.fulfilled)):cu()(n[0])}function F_(...n){return n.length===0?e=>J1(e,["pending","fulfilled","rejected"]):E0(n)?cc(...n.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):F_()(n[0])}var Yee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Rh=(n=21)=>{let e="",t=n;for(;t--;)e+=Yee[Math.random()*64|0];return e},$ee=["name","message","stack","code"],ET=class{constructor(n,e){ss(this,"_type");this.payload=n,this.meta=e}},B3=class{constructor(n,e){ss(this,"_type");this.payload=n,this.meta=e}},sz=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of $ee)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},F3="External signal was aborted",H_=(()=>{function n(e,t,i){const r=ta(e+"/fulfilled",(f,p,m,g)=>({payload:f,meta:{...g||{},arg:m,requestId:p,requestStatus:"fulfilled"}})),a=ta(e+"/pending",(f,p,m)=>({payload:void 0,meta:{...m||{},arg:p,requestId:f,requestStatus:"pending"}})),o=ta(e+"/rejected",(f,p,m,g,y)=>({payload:g,error:(i&&i.serializeError||sz)(f||"Rejected"),meta:{...y||{},arg:m,requestId:p,rejectedWithValue:!!g,requestStatus:"rejected",aborted:(f==null?void 0:f.name)==="AbortError",condition:(f==null?void 0:f.name)==="ConditionError"}}));function c(f,{signal:p}={}){return(m,g,y)=>{const b=i!=null&&i.idGenerator?i.idGenerator(f):Rh(),_=new AbortController;let E,M;function x(A){M=A,_.abort()}p&&(p.aborted?x(F3):p.addEventListener("abort",()=>x(F3),{once:!0}));const D=async function(){var O,N;let A;try{let z=(O=i==null?void 0:i.condition)==null?void 0:O.call(i,f,{getState:g,extra:y});if(Qee(z)&&(z=await z),z===!1||_.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const F=new Promise((P,w)=>{E=()=>{w({name:"AbortError",message:M||"Aborted"})},_.signal.addEventListener("abort",E)});m(a(b,f,(N=i==null?void 0:i.getPendingMeta)==null?void 0:N.call(i,{requestId:b,arg:f},{getState:g,extra:y}))),A=await Promise.race([F,Promise.resolve(t(f,{dispatch:m,getState:g,extra:y,requestId:b,signal:_.signal,abort:x,rejectWithValue:(P,w)=>new ET(P,w),fulfillWithValue:(P,w)=>new B3(P,w)})).then(P=>{if(P instanceof ET)throw P;return P instanceof B3?r(P.payload,b,f,P.meta):r(P,b,f)})])}catch(z){A=z instanceof ET?o(null,b,f,z.payload,z.meta):o(z,b,f)}finally{E&&_.signal.removeEventListener("abort",E)}return i&&!i.dispatchConditionRejection&&o.match(A)&&A.meta.condition||m(A),A}();return Object.assign(D,{abort:x,requestId:b,arg:f,unwrap(){return D.then(oz)}})}}return Object.assign(c,{pending:a,rejected:o,fulfilled:r,settled:cc(o,r),typePrefix:e})}return n.withTypes=()=>n,n})();function oz(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function Qee(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var lz=Symbol.for("rtk-slice-createasyncthunk"),Kee={[lz]:H_},cz=(n=>(n.reducer="reducer",n.reducerWithPrepare="reducerWithPrepare",n.asyncThunk="asyncThunk",n))(cz||{});function Zee(n,e){return`${n}/${e}`}function uz({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[lz];return function(r){const{name:a,reducerPath:o=a}=r;if(!a)throw new Error(na(11));const c=(typeof r.reducers=="function"?r.reducers(ete()):r.reducers)||{},f=Object.keys(c),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(T,O){const N=typeof T=="string"?T:T.type;if(!N)throw new Error(na(12));if(N in p.sliceCaseReducersByType)throw new Error(na(13));return p.sliceCaseReducersByType[N]=O,m},addMatcher(T,O){return p.sliceMatchers.push({matcher:T,reducer:O}),m},exposeAction(T,O){return p.actionCreators[T]=O,m},exposeCaseReducer(T,O){return p.sliceCaseReducersByName[T]=O,m}};f.forEach(T=>{const O=c[T],N={reducerName:T,type:Zee(a,T),createNotation:typeof r.reducers=="function"};nte(O)?rte(N,O,m,e):tte(N,O,m)});function g(){const[T={},O=[],N=void 0]=typeof r.extraReducers=="function"?iz(r.extraReducers):[r.extraReducers],z={...T,...p.sliceCaseReducersByType};return rz(r.initialState,F=>{for(let P in z)F.addCase(P,z[P]);for(let P of p.sliceMatchers)F.addMatcher(P.matcher,P.reducer);for(let P of O)F.addMatcher(P.matcher,P.reducer);N&&F.addDefaultCase(N)})}const y=T=>T,b=new Map,_=new WeakMap;let E;function M(T,O){return E||(E=g()),E(T,O)}function x(){return E||(E=g()),E.getInitialState()}function D(T,O=!1){function N(F){let P=F[T];return typeof P>"u"&&O&&(P=Qd(_,N,x)),P}function z(F=y){const P=Qd(b,O,()=>new WeakMap);return Qd(P,F,()=>{const w={};for(const[L,H]of Object.entries(r.selectors??{}))w[L]=Jee(H,F,()=>Qd(_,F,x),O);return w})}return{reducerPath:T,getSelectors:z,get selectors(){return z(N)},selectSlice:N}}const A={name:a,reducer:M,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:x,...D(o),injectInto(T,{reducerPath:O,...N}={}){const z=O??o;return T.inject({reducerPath:z,reducer:M},N),{...A,...D(z,!0)}}};return A}}function Jee(n,e,t,i){function r(a,...o){let c=e(a);return typeof c>"u"&&i&&(c=t()),n(c,...o)}return r.unwrapped=n,r}var kd=uz();function ete(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function tte({type:n,reducerName:e,createNotation:t},i,r){let a,o;if("reducer"in i){if(t&&!ite(i))throw new Error(na(17));a=i.reducer,o=i.prepare}else a=i;r.addCase(n,a).exposeCaseReducer(e,a).exposeAction(e,o?ta(n,o):ta(n))}function nte(n){return n._reducerDefinitionType==="asyncThunk"}function ite(n){return n._reducerDefinitionType==="reducerWithPrepare"}function rte({type:n,reducerName:e},t,i,r){if(!r)throw new Error(na(18));const{payloadCreator:a,fulfilled:o,pending:c,rejected:f,settled:p,options:m}=t,g=r(n,a,m);i.exposeAction(e,g),o&&i.addCase(g.fulfilled,o),c&&i.addCase(g.pending,c),f&&i.addCase(g.rejected,f),p&&i.addMatcher(g.settled,p),i.exposeCaseReducer(e,{fulfilled:o||fS,pending:c||fS,rejected:f||fS,settled:p||fS})}function fS(){}function ate(){return{ids:[],entities:{}}}function ste(n){function e(t={},i){const r=Object.assign(ate(),t);return i?n.setAll(r,i):r}return{getInitialState:e}}function ote(){function n(e,t={}){const{createSelector:i=QI}=t,r=g=>g.ids,a=g=>g.entities,o=i(r,a,(g,y)=>g.map(b=>y[b])),c=(g,y)=>y,f=(g,y)=>g[y],p=i(r,g=>g.length);if(!e)return{selectIds:r,selectEntities:a,selectAll:o,selectTotal:p,selectById:i(a,c,f)};const m=i(e,a);return{selectIds:i(e,r),selectEntities:m,selectAll:i(e,o),selectTotal:i(e,p),selectById:i(m,c,f)}}return{getSelectors:n}}var lte=er;function cte(n){const e=Zi((t,i)=>n(i));return function(i){return e(i,void 0)}}function Zi(n){return function(t,i){function r(o){return ZI(o)}const a=o=>{r(i)?n(i.payload,o):n(i,o)};return lte(t)?(a(t),t):Ta(t,a)}}function mm(n,e){return e(n)}function sh(n){return Array.isArray(n)||(n=Object.values(n)),n}function RS(n){return er(n)?wh(n):n}function fz(n,e,t){n=sh(n);const i=RS(t.ids),r=new Set(i),a=[],o=new Set([]),c=[];for(const f of n){const p=mm(f,e);r.has(p)||o.has(p)?c.push({id:p,changes:f}):(o.add(p),a.push(f))}return[a,c,i]}function dz(n){function e(_,E){const M=mm(_,n);M in E.entities||(E.ids.push(M),E.entities[M]=_)}function t(_,E){_=sh(_);for(const M of _)e(M,E)}function i(_,E){const M=mm(_,n);M in E.entities||E.ids.push(M),E.entities[M]=_}function r(_,E){_=sh(_);for(const M of _)i(M,E)}function a(_,E){_=sh(_),E.ids=[],E.entities={},t(_,E)}function o(_,E){return c([_],E)}function c(_,E){let M=!1;_.forEach(x=>{x in E.entities&&(delete E.entities[x],M=!0)}),M&&(E.ids=E.ids.filter(x=>x in E.entities))}function f(_){Object.assign(_,{ids:[],entities:{}})}function p(_,E,M){const x=M.entities[E.id];if(x===void 0)return!1;const D=Object.assign({},x,E.changes),A=mm(D,n),T=A!==E.id;return T&&(_[E.id]=A,delete M.entities[E.id]),M.entities[A]=D,T}function m(_,E){return g([_],E)}function g(_,E){const M={},x={};_.forEach(A=>{var T;A.id in E.entities&&(x[A.id]={id:A.id,changes:{...(T=x[A.id])==null?void 0:T.changes,...A.changes}})}),_=Object.values(x),_.length>0&&_.filter(T=>p(M,T,E)).length>0&&(E.ids=Object.values(E.entities).map(T=>mm(T,n)))}function y(_,E){return b([_],E)}function b(_,E){const[M,x]=fz(_,n,E);t(M,E),g(x,E)}return{removeAll:cte(f),addOne:Zi(e),addMany:Zi(t),setOne:Zi(i),setMany:Zi(r),setAll:Zi(a),updateOne:Zi(m),updateMany:Zi(g),upsertOne:Zi(y),upsertMany:Zi(b),removeOne:Zi(o),removeMany:Zi(c)}}function ute(n,e,t){let i=0,r=n.length;for(;i<r;){let a=i+r>>>1;const o=n[a];t(e,o)>=0?i=a+1:r=a}return i}function fte(n,e,t){const i=ute(n,e,t);return n.splice(i,0,e),n}function dte(n,e){const{removeOne:t,removeMany:i,removeAll:r}=dz(n);function a(M,x){return o([M],x)}function o(M,x,D){M=sh(M);const A=new Set(D??RS(x.ids)),T=M.filter(O=>!A.has(mm(O,n)));T.length!==0&&E(x,T)}function c(M,x){return f([M],x)}function f(M,x){if(M=sh(M),M.length!==0){for(const D of M)delete x.entities[n(D)];E(x,M)}}function p(M,x){M=sh(M),x.entities={},x.ids=[],o(M,x,[])}function m(M,x){return g([M],x)}function g(M,x){let D=!1,A=!1;for(let T of M){const O=x.entities[T.id];if(!O)continue;D=!0,Object.assign(O,T.changes);const N=n(O);if(T.id!==N){A=!0,delete x.entities[T.id];const z=x.ids.indexOf(T.id);x.ids[z]=N,x.entities[N]=O}}D&&E(x,[],D,A)}function y(M,x){return b([M],x)}function b(M,x){const[D,A,T]=fz(M,n,x);D.length&&o(D,x,T),A.length&&g(A,x)}function _(M,x){if(M.length!==x.length)return!1;for(let D=0;D<M.length;D++)if(M[D]!==x[D])return!1;return!0}const E=(M,x,D,A)=>{const T=RS(M.entities),O=RS(M.ids),N=M.entities;let z=O;A&&(z=new Set(O));let F=[];for(const L of z){const H=T[L];H&&F.push(H)}const P=F.length===0;for(const L of x)N[n(L)]=L,P||fte(F,L,e);P?F=x.slice().sort(e):D&&F.sort(e);const w=F.map(n);_(O,w)||(M.ids=w)};return{removeOne:t,removeMany:i,removeAll:r,addOne:Zi(a),updateOne:Zi(m),upsertOne:Zi(y),setOne:Zi(c),setMany:Zi(f),setAll:Zi(p),addMany:Zi(o),updateMany:Zi(g),upsertMany:Zi(b)}}function hte(n={}){const{selectId:e,sortComparer:t}={sortComparer:!1,selectId:o=>o.id,...n},i=t?dte(e,t):dz(e),r=ste(i),a=ote();return{selectId:e,sortComparer:t,...r,...a,...i}}var pte="task",hz="listener",pz="completed",OC="cancelled",mte=`task-${OC}`,gte=`task-${pz}`,DA=`${hz}-${OC}`,yte=`${hz}-${pz}`,A0=class{constructor(n){ss(this,"name","TaskAbortError");ss(this,"message");this.code=n,this.message=`${pte} ${OC} (reason: ${n})`}},DC=(n,e)=>{if(typeof n!="function")throw new TypeError(na(32))},V_=()=>{},mz=(n,e=V_)=>(n.catch(e),n),gz=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),oh=(n,e)=>{const t=n.signal;t.aborted||("reason"in t||Object.defineProperty(t,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),n.abort(e))},lh=n=>{if(n.aborted){const{reason:e}=n;throw new A0(e)}};function yz(n,e){let t=V_;return new Promise((i,r)=>{const a=()=>r(new A0(n.reason));if(n.aborted){a();return}t=gz(n,a),e.finally(()=>t()).then(i,r)}).finally(()=>{t=V_})}var vte=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof A0?"cancelled":"rejected",error:t}}finally{e==null||e()}},k_=n=>e=>mz(yz(n,e).then(t=>(lh(n),t))),vz=n=>{const e=k_(n);return t=>e(new Promise(i=>setTimeout(i,t)))},{assign:_m}=Object,H3={},tM="listenerMiddleware",bte=(n,e)=>{const t=i=>gz(n,()=>oh(i,n.reason));return(i,r)=>{DC(i);const a=new AbortController;t(a);const o=vte(async()=>{lh(n),lh(a.signal);const c=await i({pause:k_(a.signal),delay:vz(a.signal),signal:a.signal});return lh(a.signal),c},()=>oh(a,gte));return r!=null&&r.autoJoin&&e.push(o.catch(V_)),{result:k_(n)(o),cancel(){oh(a,mte)}}}},xte=(n,e)=>{const t=async(i,r)=>{lh(e);let a=()=>{};const c=[new Promise((f,p)=>{let m=n({predicate:i,effect:(g,y)=>{y.unsubscribe(),f([g,y.getState(),y.getOriginalState()])}});a=()=>{m(),p()}})];r!=null&&c.push(new Promise(f=>setTimeout(f,r,null)));try{const f=await yz(e,Promise.race(c));return lh(e),f}finally{a()}};return(i,r)=>mz(t(i,r))},bz=n=>{let{type:e,actionCreator:t,matcher:i,predicate:r,effect:a}=n;if(e)r=ta(e).match;else if(t)e=t.type,r=t.match;else if(i)r=i;else if(!r)throw new Error(na(21));return DC(a),{predicate:r,type:e,effect:a}},xz=_m(n=>{const{type:e,predicate:t,effect:i}=bz(n);return{id:Rh(),effect:i,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(na(22))}}},{withTypes:()=>xz}),V3=(n,e)=>{const{type:t,effect:i,predicate:r}=bz(e);return Array.from(n.values()).find(a=>(typeof t=="string"?a.type===t:a.predicate===r)&&a.effect===i)},NA=n=>{n.pending.forEach(e=>{oh(e,DA)})},Ste=n=>()=>{n.forEach(NA),n.clear()},k3=(n,e,t)=>{try{n(e,t)}catch(i){setTimeout(()=>{throw i},0)}},NC=_m(ta(`${tM}/add`),{withTypes:()=>NC}),Sz=ta(`${tM}/removeAll`),PC=_m(ta(`${tM}/remove`),{withTypes:()=>PC}),_te=(...n)=>{console.error(`${tM}/error`,...n)},Mte=(n={})=>{const e=new Map,{extra:t,onError:i=_te}=n;DC(i);const r=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&NA(m)}),a=m=>{const g=V3(e,m)??xz(m);return r(g)};_m(a,{withTypes:()=>a});const o=m=>{const g=V3(e,m);return g&&(g.unsubscribe(),m.cancelActive&&NA(g)),!!g};_m(o,{withTypes:()=>o});const c=async(m,g,y,b)=>{const _=new AbortController,E=xte(a,_.signal),M=[];try{m.pending.add(_),await Promise.resolve(m.effect(g,_m({},y,{getOriginalState:b,condition:(x,D)=>E(x,D).then(Boolean),take:E,delay:vz(_.signal),pause:k_(_.signal),extra:t,signal:_.signal,fork:bte(_.signal,M),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((x,D,A)=>{x!==_&&(oh(x,DA),A.delete(x))})},cancel:()=>{oh(_,DA),m.pending.delete(_)},throwIfCancelled:()=>{lh(_.signal)}})))}catch(x){x instanceof A0||k3(i,x,{raisedBy:"effect"})}finally{await Promise.all(M),oh(_,yte),m.pending.delete(_)}},f=Ste(e);return{middleware:m=>g=>y=>{if(!wf(y))return g(y);if(NC.match(y))return a(y.payload);if(Sz.match(y)){f();return}if(PC.match(y))return o(y.payload);let b=m.getState();const _=()=>{if(b===H3)throw new Error(na(23));return b};let E;try{if(E=g(y),e.size>0){const M=m.getState(),x=Array.from(e.values());for(const D of x){let A=!1;try{A=D.predicate(y,M,b)}catch(T){A=!1,k3(i,T,{raisedBy:"predicate"})}A&&c(D,y,m,_)}}}finally{b=H3}return E},startListening:a,stopListening:o,clearListeners:f}},Ete=n=>({middleware:n,applied:new Map}),Tte=n=>e=>{var t;return((t=e==null?void 0:e.meta)==null?void 0:t.instanceId)===n},Ate=()=>{const n=Rh(),e=new Map,t=Object.assign(ta("dynamicMiddleware/add",(...c)=>({payload:c,meta:{instanceId:n}})),{withTypes:()=>t}),i=Object.assign(function(...f){f.forEach(p=>{Qd(e,p,Ete)})},{withTypes:()=>i}),r=c=>{const f=Array.from(e.values()).map(p=>Qd(p.applied,c,p.middleware));return Bs(...f)},a=ah(t,Tte(n));return{middleware:c=>f=>p=>a(p)?(i(...p.payload),c.dispatch):r(c)(f)(p),addMiddleware:i,withMiddleware:t,instanceId:n}},wte=n=>"reducerPath"in n&&typeof n.reducerPath=="string",Cte=n=>n.flatMap(e=>wte(e)?[[e.reducerPath,e.reducer]]:Object.entries(e)),UC=Symbol.for("rtk-state-proxy-original"),Rte=n=>!!n&&!!n[UC],Ote=new WeakMap,Dte=(n,e,t)=>Qd(Ote,n,()=>new Proxy(n,{get:(i,r,a)=>{if(r===UC)return i;const o=Reflect.get(i,r,a);if(typeof o>"u"){const c=t[r];if(typeof c<"u")return c;const f=e[r];if(f){const p=f(void 0,{type:Rh()});if(typeof p>"u")throw new Error(na(24));return t[r]=p,p}}return o}})),Nte=n=>{if(!Rte(n))throw new Error(na(25));return n[UC]},Pte={},Ute=(n=Pte)=>n;function Lte(...n){const e=Object.fromEntries(Cte(n)),t=()=>Object.keys(e).length?Xm(e):Ute;let i=t();function r(f,p){return i(f,p)}r.withLazyLoadedSlices=()=>r;const a={},o=(f,p={})=>{const{reducerPath:m,reducer:g}=f,y=e[m];return!p.overrideExisting&&y&&y!==g||(p.overrideExisting&&y!==g&&delete a[m],e[m]=g,i=t()),r},c=Object.assign(function(p,m){return function(y,...b){return p(Dte(m?m(y,...b):y,e,a),...b)}},{original:Nte});return Object.assign(r,{inject:o,selector:c})}function na(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var G3=xh.isPlainObject;function _z(n,e){if(n===e||!(G3(n)&&G3(e)||Array.isArray(n)&&Array.isArray(e)))return e;const t=Object.keys(e),i=Object.keys(n);let r=t.length===i.length;const a=Array.isArray(e)?[]:{};for(const o of t)a[o]=_z(n[o],e[o]),r&&(r=n[o]===a[o]);return r?n:a}function Mm(n){let e=0;for(const t in n)e++;return e}var q3=n=>[].concat(...n);function Ite(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function G_(n){return n!=null}function zte(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function Bte(n,e,t){return n.has(e)?n.get(e):n.set(e,t).get(e)}var j3=class{constructor(n,e=void 0){this.value=n,this.meta=e}},nM=ta("__rtkq/focused"),LC=ta("__rtkq/unfocused"),iM=ta("__rtkq/online"),IC=ta("__rtkq/offline"),TT=!1;function Fte(n,e){function t(){const i=()=>n(nM()),r=()=>n(LC()),a=()=>n(iM()),o=()=>n(IC()),c=()=>{window.document.visibilityState==="visible"?i():r()};return TT||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",c,!1),window.addEventListener("focus",i,!1),window.addEventListener("online",a,!1),window.addEventListener("offline",o,!1),TT=!0),()=>{window.removeEventListener("focus",i),window.removeEventListener("visibilitychange",c),window.removeEventListener("online",a),window.removeEventListener("offline",o),TT=!1}}return t()}function rM(n){return n.type==="query"}function Hte(n){return n.type==="mutation"}function aM(n){return n.type==="infinitequery"}function q_(n){return rM(n)||aM(n)}function zC(n,e,t,i,r,a){return Vte(n)?n(e,t,i,r).filter(G_).map(PA).map(a):Array.isArray(n)?n.map(PA).map(a):[]}function Vte(n){return typeof n=="function"}function PA(n){return typeof n=="string"?{type:n}:n}var jv=Symbol("forceQueryFn"),UA=n=>typeof n[jv]=="function";function kte({serializeQueryArgs:n,queryThunk:e,infiniteQueryThunk:t,mutationThunk:i,api:r,context:a}){const o=new Map,c=new Map,{unsubscribeQueryResult:f,removeMutationResult:p,updateSubscriptionOptions:m}=r.internalActions;return{buildInitiateQuery:M,buildInitiateInfiniteQuery:x,buildInitiateMutation:D,getRunningQueryThunk:g,getRunningMutationThunk:y,getRunningQueriesThunk:b,getRunningMutationsThunk:_};function g(A,T){return O=>{var F;const N=a.endpointDefinitions[A],z=n({queryArgs:T,endpointDefinition:N,endpointName:A});return(F=o.get(O))==null?void 0:F[z]}}function y(A,T){return O=>{var N;return(N=c.get(O))==null?void 0:N[T]}}function b(){return A=>Object.values(o.get(A)||{}).filter(G_)}function _(){return A=>Object.values(c.get(A)||{}).filter(G_)}function E(A,T){const O=(N,{subscribe:z=!0,forceRefetch:F,subscriptionOptions:P,[jv]:w,...L}={})=>(H,V)=>{var me;const G=n({queryArgs:N,endpointDefinition:T,endpointName:A});let $;const B={...L,type:"query",subscribe:z,forceRefetch:F,subscriptionOptions:P,endpointName:A,originalArgs:N,queryCacheKey:G,[jv]:w};if(rM(T))$=e(B);else{const{direction:xe,initialPageParam:ke}=L;$=t({...B,direction:xe,initialPageParam:ke})}const j=r.endpoints[A].select(N),q=H($),Q=j(V()),{requestId:W,abort:ie}=q,le=Q.requestId!==W,he=(me=o.get(H))==null?void 0:me[G],ae=()=>j(V()),se=Object.assign(w?q.then(ae):le&&!he?Promise.resolve(Q):Promise.all([he,q]).then(ae),{arg:N,requestId:W,subscriptionOptions:P,queryCacheKey:G,abort:ie,async unwrap(){const xe=await se;if(xe.isError)throw xe.error;return xe.data},refetch:()=>H(O(N,{subscribe:!1,forceRefetch:!0})),unsubscribe(){z&&H(f({queryCacheKey:G,requestId:W}))},updateSubscriptionOptions(xe){se.subscriptionOptions=xe,H(m({endpointName:A,requestId:W,queryCacheKey:G,options:xe}))}});if(!he&&!le&&!w){const xe=Bte(o,H,{});xe[G]=se,se.then(()=>{delete xe[G],Mm(xe)||o.delete(H)})}return se};return O}function M(A,T){return E(A,T)}function x(A,T){return E(A,T)}function D(A){return(T,{track:O=!0,fixedCacheKey:N}={})=>(z,F)=>{const P=i({type:"mutation",endpointName:A,originalArgs:T,track:O,fixedCacheKey:N}),w=z(P),{requestId:L,abort:H,unwrap:V}=w,G=Iee(w.unwrap().then(q=>({data:q})),q=>({error:q})),$=()=>{z(p({requestId:L,fixedCacheKey:N}))},B=Object.assign(G,{arg:w.arg,requestId:L,abort:H,unwrap:V,reset:$}),j=c.get(z)||{};return c.set(z,j),j[L]=B,B.then(()=>{delete j[L],Mm(j)||c.delete(z)}),N&&(j[N]=B,B.then(()=>{j[N]===B&&(delete j[N],Mm(j)||c.delete(z))})),B}}}var Mz=class extends lI{constructor(n,e,t,i){super(n),this.value=e,this.schemaName=t,this._bqMeta=i}};async function Ld(n,e,t,i){const r=await n["~standard"].validate(e);if(r.issues)throw new Mz(r.issues,e,t,i);return r.value}function Gte(n){return n}var zy=(n={})=>({...n,[M0]:!0});function qte({reducerPath:n,baseQuery:e,context:{endpointDefinitions:t},serializeQueryArgs:i,api:r,assertTagType:a,selectors:o,onSchemaFailure:c,catchSchemaFailure:f,skipSchemaValidation:p}){const m=(L,H,V,G)=>($,B)=>{const j=t[L],q=i({queryArgs:H,endpointDefinition:j,endpointName:L});if($(r.internalActions.queryResultPatched({queryCacheKey:q,patches:V})),!G)return;const Q=r.endpoints[L].select(H)(B()),W=zC(j.providesTags,Q.data,void 0,H,{},a);$(r.internalActions.updateProvidedBy([{queryCacheKey:q,providedTags:W}]))};function g(L,H,V=0){const G=[H,...L];return V&&G.length>V?G.slice(0,-1):G}function y(L,H,V=0){const G=[...L,H];return V&&G.length>V?G.slice(1):G}const b=(L,H,V,G=!0)=>($,B)=>{const q=r.endpoints[L].select(H)(B()),Q={patches:[],inversePatches:[],undo:()=>$(r.util.patchQueryData(L,H,Q.inversePatches,G))};if(q.status==="uninitialized")return Q;let W;if("data"in q)if(Ma(q.data)){const[ie,le,he]=D1(q.data,V);Q.patches.push(...le),Q.inversePatches.push(...he),W=ie}else W=V(q.data),Q.patches.push({op:"replace",path:[],value:W}),Q.inversePatches.push({op:"replace",path:[],value:q.data});return Q.patches.length===0||$(r.util.patchQueryData(L,H,Q.patches,G)),Q},_=(L,H,V)=>G=>G(r.endpoints[L].initiate(H,{subscribe:!1,forceRefetch:!0,[jv]:()=>({data:V})})),E=(L,H)=>L.query&&L[H]?L[H]:Gte,M=async(L,{signal:H,abort:V,rejectWithValue:G,fulfillWithValue:$,dispatch:B,getState:j,extra:q})=>{var le,he;const Q=t[L.endpointName],{metaSchema:W,skipSchemaValidation:ie=p}=Q;try{let ae=E(Q,"transformResponse");const se={signal:H,abort:V,dispatch:B,getState:j,extra:q,endpoint:L.endpointName,type:L.type,forced:L.type==="query"?x(L,j()):void 0,queryCacheKey:L.type==="query"?L.queryCacheKey:void 0},me=L.type==="query"?L[jv]:void 0;let xe;const ke=async(Ee,Ge,et,nt)=>{if(Ge==null&&Ee.pages.length)return Promise.resolve({data:Ee});const J={queryArg:L.originalArgs,pageParam:Ge},We=await Qe(J),Re=nt?g:y;return{data:{pages:Re(Ee.pages,We.data,et),pageParams:Re(Ee.pageParams,Ge,et)},meta:We.meta}};async function Qe(Ee){let Ge;const{extraOptions:et,argSchema:nt,rawResponseSchema:J,responseSchema:We}=Q;if(nt&&!ie&&(Ee=await Ld(nt,Ee,"argSchema",{})),me?Ge=me():Q.query?Ge=await e(Q.query(Ee),se,et):Ge=await Q.queryFn(Ee,se,et,ve=>e(ve,se,et)),typeof process<"u",Ge.error)throw new j3(Ge.error,Ge.meta);let{data:Re}=Ge;J&&!ie&&(Re=await Ld(J,Ge.data,"rawResponseSchema",Ge.meta));let ze=await ae(Re,Ge.meta,Ee);return We&&!ie&&(ze=await Ld(We,ze,"responseSchema",Ge.meta)),{...Ge,data:ze}}if(L.type==="query"&&"infiniteQueryOptions"in Q){const{infiniteQueryOptions:Ee}=Q,{maxPages:Ge=1/0}=Ee;let et;const nt={pages:[],pageParams:[]},J=(le=o.selectQueryEntry(j(),L.queryCacheKey))==null?void 0:le.data,Re=x(L,j())&&!L.direction||!J?nt:J;if("direction"in L&&L.direction&&Re.pages.length){const ze=L.direction==="backward",ot=(ze?Ez:LA)(Ee,Re,L.originalArgs);et=await ke(Re,ot,Ge,ze)}else{const{initialPageParam:ze=Ee.initialPageParam}=L,ve=(J==null?void 0:J.pageParams)??[],ot=ve[0]??ze,Ae=ve.length;et=await ke(Re,ot,Ge),me&&(et={data:et.data.pages[0]});for(let te=1;te<Ae;te++){const Y=LA(Ee,et.data,L.originalArgs);et=await ke(et.data,Y,Ge)}}xe=et}else xe=await Qe(L.originalArgs);return W&&!ie&&xe.meta&&(xe.meta=await Ld(W,xe.meta,"metaSchema",xe.meta)),$(xe.data,zy({fulfilledTimeStamp:Date.now(),baseQueryMeta:xe.meta}))}catch(ae){let se=ae;if(se instanceof j3){let me=E(Q,"transformErrorResponse");const{rawErrorResponseSchema:xe,errorResponseSchema:ke}=Q;let{value:Qe,meta:Ee}=se;try{xe&&!ie&&(Qe=await Ld(xe,Qe,"rawErrorResponseSchema",Ee)),W&&!ie&&(Ee=await Ld(W,Ee,"metaSchema",Ee));let Ge=await me(Qe,Ee,L.originalArgs);return ke&&!ie&&(Ge=await Ld(ke,Ge,"errorResponseSchema",Ee)),G(Ge,zy({baseQueryMeta:Ee}))}catch(Ge){se=Ge}}try{if(se instanceof Mz){const me={endpoint:L.endpointName,arg:L.originalArgs,type:L.type,queryCacheKey:L.type==="query"?L.queryCacheKey:void 0};(he=Q.onSchemaFailure)==null||he.call(Q,se,me),c==null||c(se,me);const{catchSchemaFailure:xe=f}=Q;if(xe)return G(xe(se,me),zy({baseQueryMeta:se._bqMeta}))}}catch(me){se=me}throw console.error(se),se}};function x(L,H){const V=o.selectQueryEntry(H,L.queryCacheKey),G=o.selectConfig(H).refetchOnMountOrArgChange,$=V==null?void 0:V.fulfilledTimeStamp,B=L.forceRefetch??(L.subscribe&&G);return B?B===!0||(Number(new Date)-Number($))/1e3>=B:!1}const D=()=>H_(`${n}/executeQuery`,M,{getPendingMeta({arg:H}){const V=t[H.endpointName];return zy({startedTimeStamp:Date.now(),...aM(V)?{direction:H.direction}:{}})},condition(H,{getState:V}){var ie;const G=V(),$=o.selectQueryEntry(G,H.queryCacheKey),B=$==null?void 0:$.fulfilledTimeStamp,j=H.originalArgs,q=$==null?void 0:$.originalArgs,Q=t[H.endpointName],W=H.direction;return UA(H)?!0:($==null?void 0:$.status)==="pending"?!1:x(H,G)||rM(Q)&&((ie=Q==null?void 0:Q.forceRefetch)!=null&&ie.call(Q,{currentArg:j,previousArg:q,endpointState:$,state:G}))?!0:!(B&&!W)},dispatchConditionRejection:!0}),A=D(),T=D(),O=H_(`${n}/executeMutation`,M,{getPendingMeta(){return zy({startedTimeStamp:Date.now()})}}),N=L=>"force"in L,z=L=>"ifOlderThan"in L,F=(L,H,V)=>(G,$)=>{const B=N(V)&&V.force,j=z(V)&&V.ifOlderThan,q=(W=!0)=>{const ie={forceRefetch:W,isPrefetch:!0};return r.endpoints[L].initiate(H,ie)},Q=r.endpoints[L].select(H)($());if(B)G(q());else if(j){const W=Q==null?void 0:Q.fulfilledTimeStamp;if(!W){G(q());return}(Number(new Date)-Number(new Date(W)))/1e3>=j&&G(q())}else G(q(!1))};function P(L){return H=>{var V,G;return((G=(V=H==null?void 0:H.meta)==null?void 0:V.arg)==null?void 0:G.endpointName)===L}}function w(L,H){return{matchPending:ah(eM(L),P(H)),matchFulfilled:ah(cu(L),P(H)),matchRejected:ah(Sh(L),P(H))}}return{queryThunk:A,mutationThunk:O,infiniteQueryThunk:T,prefetch:F,updateQueryData:b,upsertQueryData:_,patchQueryData:m,buildMatchThunkActions:w}}function LA(n,{pages:e,pageParams:t},i){const r=e.length-1;return n.getNextPageParam(e[r],e,t[r],t,i)}function Ez(n,{pages:e,pageParams:t},i){var r;return(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t,i)}function Tz(n,e,t,i){return zC(t[n.meta.arg.endpointName][e],cu(n)?n.payload:void 0,T0(n)?n.payload:void 0,n.meta.arg.originalArgs,"baseQueryMeta"in n.meta?n.meta.baseQueryMeta:void 0,i)}function dS(n,e,t){const i=n[e];i&&t(i)}function Wv(n){return("arg"in n?n.arg.fixedCacheKey:n.fixedCacheKey)??n.requestId}function W3(n,e,t){const i=n[Wv(e)];i&&t(i)}var hS={};function jte({reducerPath:n,queryThunk:e,mutationThunk:t,serializeQueryArgs:i,context:{endpointDefinitions:r,apiUid:a,extractRehydrationInfo:o,hasRehydrationInfo:c},assertTagType:f,config:p}){const m=ta(`${n}/resetApiState`);function g(P,w,L,H){var V;P[V=w.queryCacheKey]??(P[V]={status:"uninitialized",endpointName:w.endpointName}),dS(P,w.queryCacheKey,G=>{G.status="pending",G.requestId=L&&G.requestId?G.requestId:H.requestId,w.originalArgs!==void 0&&(G.originalArgs=w.originalArgs),G.startedTimeStamp=H.startedTimeStamp;const $=r[H.arg.endpointName];aM($)&&"direction"in w&&(G.direction=w.direction)})}function y(P,w,L,H){dS(P,w.arg.queryCacheKey,V=>{if(V.requestId!==w.requestId&&!H)return;const{merge:G}=r[w.arg.endpointName];if(V.status="fulfilled",G)if(V.data!==void 0){const{fulfilledTimeStamp:$,arg:B,baseQueryMeta:j,requestId:q}=w;let Q=Ta(V.data,W=>G(W,L,{arg:B.originalArgs,baseQueryMeta:j,fulfilledTimeStamp:$,requestId:q}));V.data=Q}else V.data=L;else V.data=r[w.arg.endpointName].structuralSharing??!0?_z(er(V.data)?R1(V.data):V.data,L):L;delete V.error,V.fulfilledTimeStamp=w.fulfilledTimeStamp})}const b=kd({name:`${n}/queries`,initialState:hS,reducers:{removeQueryResult:{reducer(P,{payload:{queryCacheKey:w}}){delete P[w]},prepare:lm()},cacheEntriesUpserted:{reducer(P,w){for(const L of w.payload){const{queryDescription:H,value:V}=L;g(P,H,!0,{arg:H,requestId:w.meta.requestId,startedTimeStamp:w.meta.timestamp}),y(P,{arg:H,requestId:w.meta.requestId,fulfilledTimeStamp:w.meta.timestamp,baseQueryMeta:{}},V,!0)}},prepare:P=>({payload:P.map(H=>{const{endpointName:V,arg:G,value:$}=H,B=r[V];return{queryDescription:{type:"query",endpointName:V,originalArgs:H.arg,queryCacheKey:i({queryArgs:G,endpointDefinition:B,endpointName:V})},value:$}}),meta:{[M0]:!0,requestId:Rh(),timestamp:Date.now()}})},queryResultPatched:{reducer(P,{payload:{queryCacheKey:w,patches:L}}){dS(P,w,H=>{H.data=__(H.data,L.concat())})},prepare:lm()}},extraReducers(P){P.addCase(e.pending,(w,{meta:L,meta:{arg:H}})=>{const V=UA(H);g(w,H,V,L)}).addCase(e.fulfilled,(w,{meta:L,payload:H})=>{const V=UA(L.arg);y(w,L,H,V)}).addCase(e.rejected,(w,{meta:{condition:L,arg:H,requestId:V},error:G,payload:$})=>{dS(w,H.queryCacheKey,B=>{if(!L){if(B.requestId!==V)return;B.status="rejected",B.error=$??G}})}).addMatcher(c,(w,L)=>{const{queries:H}=o(L);for(const[V,G]of Object.entries(H))((G==null?void 0:G.status)==="fulfilled"||(G==null?void 0:G.status)==="rejected")&&(w[V]=G)})}}),_=kd({name:`${n}/mutations`,initialState:hS,reducers:{removeMutationResult:{reducer(P,{payload:w}){const L=Wv(w);L in P&&delete P[L]},prepare:lm()}},extraReducers(P){P.addCase(t.pending,(w,{meta:L,meta:{requestId:H,arg:V,startedTimeStamp:G}})=>{V.track&&(w[Wv(L)]={requestId:H,status:"pending",endpointName:V.endpointName,startedTimeStamp:G})}).addCase(t.fulfilled,(w,{payload:L,meta:H})=>{H.arg.track&&W3(w,H,V=>{V.requestId===H.requestId&&(V.status="fulfilled",V.data=L,V.fulfilledTimeStamp=H.fulfilledTimeStamp)})}).addCase(t.rejected,(w,{payload:L,error:H,meta:V})=>{V.arg.track&&W3(w,V,G=>{G.requestId===V.requestId&&(G.status="rejected",G.error=L??H)})}).addMatcher(c,(w,L)=>{const{mutations:H}=o(L);for(const[V,G]of Object.entries(H))((G==null?void 0:G.status)==="fulfilled"||(G==null?void 0:G.status)==="rejected")&&V!==(G==null?void 0:G.requestId)&&(w[V]=G)})}}),E={tags:{},keys:{}},M=kd({name:`${n}/invalidation`,initialState:E,reducers:{updateProvidedBy:{reducer(P,w){var L,H,V;for(const{queryCacheKey:G,providedTags:$}of w.payload){x(P,G);for(const{type:B,id:j}of $){const q=(H=(L=P.tags)[B]??(L[B]={}))[V=j||"__internal_without_id"]??(H[V]=[]);q.includes(G)||q.push(G)}P.keys[G]=$}},prepare:lm()}},extraReducers(P){P.addCase(b.actions.removeQueryResult,(w,{payload:{queryCacheKey:L}})=>{x(w,L)}).addMatcher(c,(w,L)=>{var V,G,$;const{provided:H}=o(L);for(const[B,j]of Object.entries(H))for(const[q,Q]of Object.entries(j)){const W=(G=(V=w.tags)[B]??(V[B]={}))[$=q||"__internal_without_id"]??(G[$]=[]);for(const ie of Q)W.includes(ie)||W.push(ie)}}).addMatcher(cc(cu(e),T0(e)),(w,L)=>{D(w,[L])}).addMatcher(b.actions.cacheEntriesUpserted.match,(w,L)=>{const H=L.payload.map(({queryDescription:V,value:G})=>({type:"UNKNOWN",payload:G,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:V}}));D(w,H)})}});function x(P,w){var H;const L=P.keys[w]??[];for(const V of L){const G=V.type,$=V.id??"__internal_without_id",B=(H=P.tags[G])==null?void 0:H[$];B&&(P.tags[G][$]=B.filter(j=>j!==w))}delete P.keys[w]}function D(P,w){const L=w.map(H=>{const V=Tz(H,"providesTags",r,f),{queryCacheKey:G}=H.meta.arg;return{queryCacheKey:G,providedTags:V}});M.caseReducers.updateProvidedBy(P,M.actions.updateProvidedBy(L))}const A=kd({name:`${n}/subscriptions`,initialState:hS,reducers:{updateSubscriptionOptions(P,w){},unsubscribeQueryResult(P,w){},internal_getRTKQSubscriptions(){}}}),T=kd({name:`${n}/internalSubscriptions`,initialState:hS,reducers:{subscriptionsUpdated:{reducer(P,w){return __(P,w.payload)},prepare:lm()}}}),O=kd({name:`${n}/config`,initialState:{online:zte(),focused:Ite(),middlewareRegistered:!1,...p},reducers:{middlewareRegistered(P,{payload:w}){P.middlewareRegistered=P.middlewareRegistered==="conflict"||a!==w?"conflict":!0}},extraReducers:P=>{P.addCase(iM,w=>{w.online=!0}).addCase(IC,w=>{w.online=!1}).addCase(nM,w=>{w.focused=!0}).addCase(LC,w=>{w.focused=!1}).addMatcher(c,w=>({...w}))}}),N=(0,xh.combineReducers)({queries:b.reducer,mutations:_.reducer,provided:M.reducer,subscriptions:T.reducer,config:O.reducer}),z=(P,w)=>N(m.match(w)?void 0:P,w),F={...O.actions,...b.actions,...A.actions,...T.actions,..._.actions,...M.actions,resetApiState:m};return{reducer:z,actions:F}}var AT=Symbol.for("RTKQ/skipToken"),Az={status:"uninitialized"},X3=Ta(Az,()=>{}),Y3=Ta(Az,()=>{});function Wte({serializeQueryArgs:n,reducerPath:e,createSelector:t}){const i=A=>X3,r=A=>Y3;return{buildQuerySelector:y,buildInfiniteQuerySelector:b,buildMutationSelector:_,selectInvalidatedBy:E,selectCachedArgsForQuery:M,selectApiState:o,selectQueries:c,selectMutations:p,selectQueryEntry:f,selectConfig:m};function a(A){return{...A,...L3(A.status)}}function o(A){return A[e]}function c(A){var T;return(T=o(A))==null?void 0:T.queries}function f(A,T){var O;return(O=c(A))==null?void 0:O[T]}function p(A){var T;return(T=o(A))==null?void 0:T.mutations}function m(A){var T;return(T=o(A))==null?void 0:T.config}function g(A,T,O){return N=>{if(N===AT)return t(i,O);const z=n({queryArgs:N,endpointDefinition:T,endpointName:A});return t(P=>f(P,z)??X3,O)}}function y(A,T){return g(A,T,a)}function b(A,T){const{infiniteQueryOptions:O}=T;function N(z){const F={...z,...L3(z.status)},{isLoading:P,isError:w,direction:L}=F,H=L==="forward",V=L==="backward";return{...F,hasNextPage:x(O,F.data,F.originalArgs),hasPreviousPage:D(O,F.data,F.originalArgs),isFetchingNextPage:P&&H,isFetchingPreviousPage:P&&V,isFetchNextPageError:w&&H,isFetchPreviousPageError:w&&V}}return g(A,T,N)}function _(){return A=>{let T;return typeof A=="object"?T=Wv(A)??AT:T=A,t(T===AT?r:z=>{var F,P;return((P=(F=o(z))==null?void 0:F.mutations)==null?void 0:P[T])??Y3},a)}}function E(A,T){const O=A[e],N=new Set;for(const z of T.filter(G_).map(PA)){const F=O.provided.tags[z.type];if(!F)continue;let P=(z.id!==void 0?F[z.id]:q3(Object.values(F)))??[];for(const w of P)N.add(w)}return q3(Array.from(N.values()).map(z=>{const F=O.queries[z];return F?[{queryCacheKey:z,endpointName:F.endpointName,originalArgs:F.originalArgs}]:[]}))}function M(A,T){return Object.values(c(A)).filter(O=>(O==null?void 0:O.endpointName)===T&&O.status!=="uninitialized").map(O=>O.originalArgs)}function x(A,T,O){return T?LA(A,T,O)!=null:!1}function D(A,T,O){return!T||!A.getPreviousPageParam?!1:Ez(A,T,O)!=null}}var am=WeakMap?new WeakMap:void 0,$3=({endpointName:n,queryArgs:e})=>{let t="";const i=am==null?void 0:am.get(e);if(typeof i=="string")t=i;else{const r=JSON.stringify(e,(a,o)=>(o=typeof o=="bigint"?{$bigint:o.toString()}:o,o=(0,xh.isPlainObject)(o)?Object.keys(o).sort().reduce((c,f)=>(c[f]=o[f],c),{}):o,o));(0,xh.isPlainObject)(e)&&(am==null||am.set(e,r)),t=r}return`${n}(${t})`};function Xte(...n){return function(t){const i=ac(p=>{var m;return(m=t.extractRehydrationInfo)==null?void 0:m.call(t,p,{reducerPath:t.reducerPath??"api"})}),r={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...t,extractRehydrationInfo:i,serializeQueryArgs(p){let m=$3;if("serializeQueryArgs"in p.endpointDefinition){const g=p.endpointDefinition.serializeQueryArgs;m=y=>{const b=g(y);return typeof b=="string"?b:$3({...y,queryArgs:b})}}else t.serializeQueryArgs&&(m=t.serializeQueryArgs);return m(p)},tagTypes:[...t.tagTypes||[]]},a={endpointDefinitions:{},batch(p){p()},apiUid:Rh(),extractRehydrationInfo:i,hasRehydrationInfo:ac(p=>i(p)!=null)},o={injectEndpoints:f,enhanceEndpoints({addTagTypes:p,endpoints:m}){if(p)for(const g of p)r.tagTypes.includes(g)||r.tagTypes.push(g);if(m)for(const[g,y]of Object.entries(m))typeof y=="function"?y(a.endpointDefinitions[g]):Object.assign(a.endpointDefinitions[g]||{},y);return o}},c=n.map(p=>p.init(o,r,a));function f(p){const m=p.endpoints({query:g=>({...g,type:"query"}),mutation:g=>({...g,type:"mutation"}),infiniteQuery:g=>({...g,type:"infinitequery"})});for(const[g,y]of Object.entries(m)){if(p.overrideExisting!==!0&&g in a.endpointDefinitions){if(p.overrideExisting==="throw")throw new Error(na(39));continue}a.endpointDefinitions[g]=y;for(const b of c)b.injectEndpoint(g,y)}return o}return o.injectEndpoints({endpoints:t.endpoints})}}function qc(n,...e){return Object.assign(n,...e)}var Yte=({api:n,queryThunk:e,internalState:t})=>{const i=`${n.reducerPath}/subscriptions`;let r=null,a=null;const{updateSubscriptionOptions:o,unsubscribeQueryResult:c}=n.internalActions,f=(b,_)=>{var M,x,D;if(o.match(_)){const{queryCacheKey:A,requestId:T,options:O}=_.payload;return(M=b==null?void 0:b[A])!=null&&M[T]&&(b[A][T]=O),!0}if(c.match(_)){const{queryCacheKey:A,requestId:T}=_.payload;return b[A]&&delete b[A][T],!0}if(n.internalActions.removeQueryResult.match(_))return delete b[_.payload.queryCacheKey],!0;if(e.pending.match(_)){const{meta:{arg:A,requestId:T}}=_,O=b[x=A.queryCacheKey]??(b[x]={});return O[`${T}_running`]={},A.subscribe&&(O[T]=A.subscriptionOptions??O[T]??{}),!0}let E=!1;if(e.fulfilled.match(_)||e.rejected.match(_)){const A=b[_.meta.arg.queryCacheKey]||{},T=`${_.meta.requestId}_running`;E||(E=!!A[T]),delete A[T]}if(e.rejected.match(_)){const{meta:{condition:A,arg:T,requestId:O}}=_;if(A&&T.subscribe){const N=b[D=T.queryCacheKey]??(b[D]={});N[O]=T.subscriptionOptions??N[O]??{},E=!0}}return E},p=()=>t.currentSubscriptions,y={getSubscriptions:p,getSubscriptionCount:b=>{const E=p()[b]??{};return Mm(E)},isRequestSubscribed:(b,_)=>{var M;const E=p();return!!((M=E==null?void 0:E[b])!=null&&M[_])}};return(b,_)=>{if(r||(r=JSON.parse(JSON.stringify(t.currentSubscriptions))),n.util.resetApiState.match(b))return r=t.currentSubscriptions={},a=null,[!0,!1];if(n.internalActions.internal_getRTKQSubscriptions.match(b))return[!1,y];const E=f(t.currentSubscriptions,b);let M=!0;if(E){a||(a=setTimeout(()=>{const A=JSON.parse(JSON.stringify(t.currentSubscriptions)),[,T]=D1(r,()=>A);_.next(n.internalActions.subscriptionsUpdated(T)),r=A,a=null},500));const x=typeof b.type=="string"&&!!b.type.startsWith(i),D=e.rejected.match(b)&&b.meta.condition&&!!b.meta.arg.subscribe;M=!x&&!D}return[M,!1]}};function $te(n){for(const e in n)return!1;return!0}var Qte=2147483647/1e3-1,Kte=({reducerPath:n,api:e,queryThunk:t,context:i,internalState:r,selectors:{selectQueryEntry:a,selectConfig:o}})=>{const{removeQueryResult:c,unsubscribeQueryResult:f,cacheEntriesUpserted:p}=e.internalActions,m=cc(f.match,t.fulfilled,t.rejected,p.match);function g(M){const x=r.currentSubscriptions[M];return!!x&&!$te(x)}const y={},b=(M,x,D)=>{const A=x.getState(),T=o(A);if(m(M)){let O;if(p.match(M))O=M.payload.map(N=>N.queryDescription.queryCacheKey);else{const{queryCacheKey:N}=f.match(M)?M.payload:M.meta.arg;O=[N]}_(O,x,T)}if(e.util.resetApiState.match(M))for(const[O,N]of Object.entries(y))N&&clearTimeout(N),delete y[O];if(i.hasRehydrationInfo(M)){const{queries:O}=i.extractRehydrationInfo(M);_(Object.keys(O),x,T)}};function _(M,x,D){const A=x.getState();for(const T of M){const O=a(A,T);E(T,O==null?void 0:O.endpointName,x,D)}}function E(M,x,D,A){const T=i.endpointDefinitions[x],O=(T==null?void 0:T.keepUnusedDataFor)??A.keepUnusedDataFor;if(O===1/0)return;const N=Math.max(0,Math.min(O,Qte));if(!g(M)){const z=y[M];z&&clearTimeout(z),y[M]=setTimeout(()=>{g(M)||D.dispatch(c({queryCacheKey:M})),delete y[M]},N*1e3)}}return b},Q3=new Error("Promise never resolved before cacheEntryRemoved."),Zte=({api:n,reducerPath:e,context:t,queryThunk:i,mutationThunk:r,internalState:a,selectors:{selectQueryEntry:o,selectApiState:c}})=>{const f=F_(i),p=F_(r),m=cu(i,r),g={};function y(x,D,A){const T=g[x];T!=null&&T.valueResolved&&(T.valueResolved({data:D,meta:A}),delete T.valueResolved)}function b(x){const D=g[x];D&&(delete g[x],D.cacheEntryRemoved())}const _=(x,D,A)=>{const T=E(x);function O(N,z,F,P){const w=o(A,z),L=o(D.getState(),z);!w&&L&&M(N,P,z,D,F)}if(i.pending.match(x))O(x.meta.arg.endpointName,T,x.meta.requestId,x.meta.arg.originalArgs);else if(n.internalActions.cacheEntriesUpserted.match(x))for(const{queryDescription:N,value:z}of x.payload){const{endpointName:F,originalArgs:P,queryCacheKey:w}=N;O(F,w,x.meta.requestId,P),y(w,z,{})}else if(r.pending.match(x))D.getState()[e].mutations[T]&&M(x.meta.arg.endpointName,x.meta.arg.originalArgs,T,D,x.meta.requestId);else if(m(x))y(T,x.payload,x.meta.baseQueryMeta);else if(n.internalActions.removeQueryResult.match(x)||n.internalActions.removeMutationResult.match(x))b(T);else if(n.util.resetApiState.match(x))for(const N of Object.keys(g))b(N)};function E(x){return f(x)?x.meta.arg.queryCacheKey:p(x)?x.meta.arg.fixedCacheKey??x.meta.requestId:n.internalActions.removeQueryResult.match(x)?x.payload.queryCacheKey:n.internalActions.removeMutationResult.match(x)?Wv(x.payload):""}function M(x,D,A,T,O){const N=t.endpointDefinitions[x],z=N==null?void 0:N.onCacheEntryAdded;if(!z)return;const F={},P=new Promise($=>{F.cacheEntryRemoved=$}),w=Promise.race([new Promise($=>{F.valueResolved=$}),P.then(()=>{throw Q3})]);w.catch(()=>{}),g[A]=F;const L=n.endpoints[x].select(q_(N)?D:A),H=T.dispatch(($,B,j)=>j),V={...T,getCacheEntry:()=>L(T.getState()),requestId:O,extra:H,updateCachedData:q_(N)?$=>T.dispatch(n.util.updateQueryData(x,D,$)):void 0,cacheDataLoaded:w,cacheEntryRemoved:P},G=z(D,V);Promise.resolve(G).catch($=>{if($!==Q3)throw $})}return _},Jte=({api:n,context:{apiUid:e},reducerPath:t})=>(i,r)=>{n.util.resetApiState.match(i)&&r.dispatch(n.internalActions.middlewareRegistered(e))},ene=({reducerPath:n,context:e,context:{endpointDefinitions:t},mutationThunk:i,queryThunk:r,api:a,assertTagType:o,refetchQuery:c,internalState:f})=>{const{removeQueryResult:p}=a.internalActions,m=cc(cu(i),T0(i)),g=cc(cu(i,r),Sh(i,r));let y=[];const b=(M,x)=>{m(M)?E(Tz(M,"invalidatesTags",t,o),x):g(M)?E([],x):a.util.invalidateTags.match(M)&&E(zC(M.payload,void 0,void 0,void 0,void 0,o),x)};function _(M){var A;const{queries:x,mutations:D}=M;for(const T of[x,D])for(const O in T)if(((A=T[O])==null?void 0:A.status)==="pending")return!0;return!1}function E(M,x){const D=x.getState(),A=D[n];if(y.push(...M),A.config.invalidationBehavior==="delayed"&&_(A))return;const T=y;if(y=[],T.length===0)return;const O=a.util.selectInvalidatedBy(D,T);e.batch(()=>{const N=Array.from(O.values());for(const{queryCacheKey:z}of N){const F=A.queries[z],P=f.currentSubscriptions[z]??{};F&&(Mm(P)===0?x.dispatch(p({queryCacheKey:z})):F.status!=="uninitialized"&&x.dispatch(c(F)))}})}return b},tne=({reducerPath:n,queryThunk:e,api:t,refetchQuery:i,internalState:r})=>{const a={},o=(y,b)=>{(t.internalActions.updateSubscriptionOptions.match(y)||t.internalActions.unsubscribeQueryResult.match(y))&&f(y.payload,b),(e.pending.match(y)||e.rejected.match(y)&&y.meta.condition)&&f(y.meta.arg,b),(e.fulfilled.match(y)||e.rejected.match(y)&&!y.meta.condition)&&c(y.meta.arg,b),t.util.resetApiState.match(y)&&m()};function c({queryCacheKey:y},b){const _=b.getState()[n],E=_.queries[y],M=r.currentSubscriptions[y];if(!E||E.status==="uninitialized")return;const{lowestPollingInterval:x,skipPollingIfUnfocused:D}=g(M);if(!Number.isFinite(x))return;const A=a[y];A!=null&&A.timeout&&(clearTimeout(A.timeout),A.timeout=void 0);const T=Date.now()+x;a[y]={nextPollTimestamp:T,pollingInterval:x,timeout:setTimeout(()=>{(_.config.focused||!D)&&b.dispatch(i(E)),c({queryCacheKey:y},b)},x)}}function f({queryCacheKey:y},b){const E=b.getState()[n].queries[y],M=r.currentSubscriptions[y];if(!E||E.status==="uninitialized")return;const{lowestPollingInterval:x}=g(M);if(!Number.isFinite(x)){p(y);return}const D=a[y],A=Date.now()+x;(!D||A<D.nextPollTimestamp)&&c({queryCacheKey:y},b)}function p(y){const b=a[y];b!=null&&b.timeout&&clearTimeout(b.timeout),delete a[y]}function m(){for(const y of Object.keys(a))p(y)}function g(y={}){let b=!1,_=Number.POSITIVE_INFINITY;for(let E in y)y[E].pollingInterval&&(_=Math.min(y[E].pollingInterval,_),b=y[E].skipPollingIfUnfocused||b);return{lowestPollingInterval:_,skipPollingIfUnfocused:b}}return o},nne=({api:n,context:e,queryThunk:t,mutationThunk:i})=>{const r=eM(t,i),a=Sh(t,i),o=cu(t,i),c={};return(p,m)=>{var g,y;if(r(p)){const{requestId:b,arg:{endpointName:_,originalArgs:E}}=p.meta,M=e.endpointDefinitions[_],x=M==null?void 0:M.onQueryStarted;if(x){const D={},A=new Promise((z,F)=>{D.resolve=z,D.reject=F});A.catch(()=>{}),c[b]=D;const T=n.endpoints[_].select(q_(M)?E:b),O=m.dispatch((z,F,P)=>P),N={...m,getCacheEntry:()=>T(m.getState()),requestId:b,extra:O,updateCachedData:q_(M)?z=>m.dispatch(n.util.updateQueryData(_,E,z)):void 0,queryFulfilled:A};x(E,N)}}else if(o(p)){const{requestId:b,baseQueryMeta:_}=p.meta;(g=c[b])==null||g.resolve({data:p.payload,meta:_}),delete c[b]}else if(a(p)){const{requestId:b,rejectedWithValue:_,baseQueryMeta:E}=p.meta;(y=c[b])==null||y.reject({error:p.payload??p.error,isUnhandledError:!_,meta:E}),delete c[b]}}},ine=({reducerPath:n,context:e,api:t,refetchQuery:i,internalState:r})=>{const{removeQueryResult:a}=t.internalActions,o=(f,p)=>{nM.match(f)&&c(p,"refetchOnFocus"),iM.match(f)&&c(p,"refetchOnReconnect")};function c(f,p){const m=f.getState()[n],g=m.queries,y=r.currentSubscriptions;e.batch(()=>{for(const b of Object.keys(y)){const _=g[b],E=y[b];if(!E||!_)continue;(Object.values(E).some(x=>x[p]===!0)||Object.values(E).every(x=>x[p]===void 0)&&m.config[p])&&(Mm(E)===0?f.dispatch(a({queryCacheKey:b})):_.status!=="uninitialized"&&f.dispatch(i(_)))}})}return o};function rne(n){const{reducerPath:e,queryThunk:t,api:i,context:r}=n,{apiUid:a}=r,o={invalidateTags:ta(`${e}/invalidateTags`)},c=g=>g.type.startsWith(`${e}/`),f=[Jte,Kte,ene,tne,Zte,nne];return{middleware:g=>{let y=!1;const _={...n,internalState:{currentSubscriptions:{}},refetchQuery:m,isThisApiSliceAction:c},E=f.map(D=>D(_)),M=Yte(_),x=ine(_);return D=>A=>{if(!(0,xh.isAction)(A))return D(A);y||(y=!0,g.dispatch(i.internalActions.middlewareRegistered(a)));const T={...g,next:D},O=g.getState(),[N,z]=M(A,T,O);let F;if(N?F=D(A):F=z,g.getState()[e]&&(x(A,T,O),c(A)||r.hasRehydrationInfo(A)))for(const P of E)P(A,T,O);return F}},actions:o};function m(g){return n.api.endpoints[g.endpointName].initiate(g.originalArgs,{subscribe:!1,forceRefetch:!0})}}var K3=Symbol(),ane=({createSelector:n=Ym}={})=>({name:K3,init(e,{baseQuery:t,tagTypes:i,reducerPath:r,serializeQueryArgs:a,keepUnusedDataFor:o,refetchOnMountOrArgChange:c,refetchOnFocus:f,refetchOnReconnect:p,invalidationBehavior:m,onSchemaFailure:g,catchSchemaFailure:y,skipSchemaValidation:b},_){PU();const E=se=>se;Object.assign(e,{reducerPath:r,endpoints:{},internalActions:{onOnline:iM,onOffline:IC,onFocus:nM,onFocusLost:LC},util:{}});const M=Wte({serializeQueryArgs:a,reducerPath:r,createSelector:n}),{selectInvalidatedBy:x,selectCachedArgsForQuery:D,buildQuerySelector:A,buildInfiniteQuerySelector:T,buildMutationSelector:O}=M;qc(e.util,{selectInvalidatedBy:x,selectCachedArgsForQuery:D});const{queryThunk:N,infiniteQueryThunk:z,mutationThunk:F,patchQueryData:P,updateQueryData:w,upsertQueryData:L,prefetch:H,buildMatchThunkActions:V}=qte({baseQuery:t,reducerPath:r,context:_,api:e,serializeQueryArgs:a,assertTagType:E,selectors:M,onSchemaFailure:g,catchSchemaFailure:y,skipSchemaValidation:b}),{reducer:G,actions:$}=jte({context:_,queryThunk:N,mutationThunk:F,serializeQueryArgs:a,reducerPath:r,assertTagType:E,config:{refetchOnFocus:f,refetchOnReconnect:p,refetchOnMountOrArgChange:c,keepUnusedDataFor:o,reducerPath:r,invalidationBehavior:m}});qc(e.util,{patchQueryData:P,updateQueryData:w,upsertQueryData:L,prefetch:H,resetApiState:$.resetApiState,upsertQueryEntries:$.cacheEntriesUpserted}),qc(e.internalActions,$);const{middleware:B,actions:j}=rne({reducerPath:r,context:_,queryThunk:N,mutationThunk:F,infiniteQueryThunk:z,api:e,assertTagType:E,selectors:M});qc(e.util,j),qc(e,{reducer:G,middleware:B});const{buildInitiateQuery:q,buildInitiateInfiniteQuery:Q,buildInitiateMutation:W,getRunningMutationThunk:ie,getRunningMutationsThunk:le,getRunningQueriesThunk:he,getRunningQueryThunk:ae}=kte({queryThunk:N,mutationThunk:F,infiniteQueryThunk:z,api:e,serializeQueryArgs:a,context:_});return qc(e.util,{getRunningMutationThunk:ie,getRunningMutationsThunk:le,getRunningQueryThunk:ae,getRunningQueriesThunk:he}),{name:K3,injectEndpoint(se,me){var Qe;const ke=(Qe=e.endpoints)[se]??(Qe[se]={});rM(me)&&qc(ke,{name:se,select:A(se,me),initiate:q(se,me)},V(N,se)),Hte(me)&&qc(ke,{name:se,select:O(),initiate:W(se)},V(F,se)),aM(me)&&qc(ke,{name:se,select:T(se,me),initiate:Q(se,me)},V(N,se))}}}});ane();const wz=a9({reducer:{[CS.reducerPath]:CS.reducer,tiles:x9},middleware:n=>n().concat(CS.middleware)});Fte(wz.dispatch);TB.createRoot(document.getElementById("root")).render(pe.jsx(FB,{store:wz,children:pe.jsx(Cee,{})}));
